/*! For license information please see index.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define("vueDynamicForm",["vue"],t):"object"==typeof exports?exports.vueDynamicForm=t(require("vue")):e.vueDynamicForm=t(e.vue)}(self,(e=>(()=>{var t={858:e=>{e.exports=function(e){if(Array.isArray(e))return e}},646:e=>{e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},713:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},860:e=>{e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},884:e=>{e.exports=function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}},521:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},206:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},38:(e,t,n)=>{var r=n(858),o=n(884),i=n(521);e.exports=function(e,t){return r(e)||o(e,t)||i()}},319:(e,t,n)=>{var r=n(646),o=n(860),i=n(206);e.exports=function(e){return r(e)||o(e)||i()}},8:e=>{function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t},301:(e,t,n)=>{e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=16)}([function(e,t){e.exports=n(38)},function(e,t){e.exports=n(319)},function(e,t){e.exports=n(713)},function(e,t){e.exports=n(390)},function(e,t){e.exports=n(308)},function(e,t){e.exports=n(279)},function(e,t){e.exports=n(789)},function(e,t){e.exports=n(141)},function(e,t){e.exports=n(463)},function(e,t){e.exports=n(557)},function(e,t){e.exports=n(703)},function(e,t){e.exports=n(8)},function(e,t){e.exports=n(928)},function(e,t){e.exports=n(933)},function(e,t){e.exports=n(748)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(2),l=n.n(s),c=n(3),u=n.n(c),d=n(4),p=n.n(d).a;function f(e){return function(t){if("mousedown"===t.type&&0===t.button){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.call.apply(e,[this,t].concat(r))}}}var h,v=n(5),m=n.n(v),g=n(6),y=n.n(g);function b(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}var w=[],x=100;function O(e){var t=e.$el,n=e.listener,r=e.lastWidth,o=e.lastHeight,i=t.offsetWidth,a=t.offsetHeight;r===i&&o===a||(e.lastWidth=i,e.lastHeight=a,n({width:i,height:a}))}function S(e,t){var n={$el:e,listener:t,lastWidth:null,lastHeight:null};return w.push(n),O(n),h=setInterval((function(){w.forEach(O)}),x),function(){b(w,n),w.length||(clearInterval(h),h=null)}}function k(e,t){var n=9===document.documentMode,r=!0,o=(n?S:y.a)(e,(function(){return r||t.apply(void 0,arguments)}));return r=!1,o}function _(e){var t=getComputedStyle(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)}function E(e,t){var n=function(e){for(var t=[],n=e.parentNode;n&&"BODY"!==n.nodeName&&n.nodeType===document.ELEMENT_NODE;)_(n)&&t.push(n),n=n.parentNode;return t.push(window),t}(e);return window.addEventListener("resize",t,{passive:!0}),n.forEach((function(e){e.addEventListener("scroll",t,{passive:!0})})),function(){window.removeEventListener("resize",t,{passive:!0}),n.forEach((function(e){e.removeEventListener("scroll",t,{passive:!0})}))}}function C(e){return e!=e}var T=n(7),D=n.n(T),A=n(8),N=n.n(A),j=n(9),M=n.n(j),$=n(10),L=n.n($),B=function(){return Object.create(null)},P=n(11),I=n.n(P);function F(e){return null!=e&&"object"===I()(e)&&Object.getPrototypeOf(e)===Object.prototype}function z(e,t){if(F(t))for(var n=Object.keys(t),r=0,o=n.length;r<o;r++)i=e,a=n[r],F(s=t[n[r]])?(i[a]||(i[a]={}),z(i[a],s)):i[a]=s;var i,a,s;return e}var V=n(12),R=n.n(V);function H(e,t){return-1!==e.indexOf(t)}function W(e,t,n){for(var r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return e[r]}function U(e,t){if(e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}var q=null,G="ALL_CHILDREN",Y="ALL_DESCENDANTS",Q="LEAF_CHILDREN",Z="LEAF_DESCENDANTS",X="LOAD_ROOT_OPTIONS",J="LOAD_CHILDREN_OPTIONS",K="ASYNC_SEARCH",ee="ALL",te="BRANCH_PRIORITY",ne="LEAF_PRIORITY",re="ALL_WITH_INDETERMINATE",oe="ORDER_SELECTED",ie="LEVEL",ae="INDEX";function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(n,!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t){for(var n=0;;){if(e.level<n)return-1;if(t.level<n)return 1;if(e.index[n]!==t.index[n])return e.index[n]-t.index[n];n++}}function ue(e,t,n){return e?u()(t,n):H(n,t)}function de(e){return e.message||String(e)}var pe=0,fe={provide:function(){return{instance:this}},props:{allowClearingDisabled:{type:Boolean,default:!1},allowSelectingDisabledDescendants:{type:Boolean,default:!1},alwaysOpen:{type:Boolean,default:!1},appendToBody:{type:Boolean,default:!1},async:{type:Boolean,default:!1},autoFocus:{type:Boolean,default:!1},autoLoadRootOptions:{type:Boolean,default:!0},autoDeselectAncestors:{type:Boolean,default:!1},autoDeselectDescendants:{type:Boolean,default:!1},autoSelectAncestors:{type:Boolean,default:!1},autoSelectDescendants:{type:Boolean,default:!1},backspaceRemoves:{type:Boolean,default:!0},beforeClearAll:{type:Function,default:L()(!0)},branchNodesFirst:{type:Boolean,default:!1},cacheOptions:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0},clearAllText:{type:String,default:"Clear all"},clearOnSelect:{type:Boolean,default:!1},clearValueText:{type:String,default:"Clear value"},closeOnSelect:{type:Boolean,default:!0},defaultExpandLevel:{type:Number,default:0},defaultOptions:{default:!1},deleteRemoves:{type:Boolean,default:!0},delimiter:{type:String,default:","},flattenSearchResults:{type:Boolean,default:!1},disableBranchNodes:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disableFuzzyMatching:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},instanceId:{default:function(){return"".concat(pe++,"$$")},type:[String,Number]},joinValues:{type:Boolean,default:!1},limit:{type:Number,default:1/0},limitText:{type:Function,default:function(e){return"and ".concat(e," more")}},loadingText:{type:String,default:"Loading..."},loadOptions:{type:Function},matchKeys:{type:Array,default:L()(["label"])},maxHeight:{type:Number,default:300},multiple:{type:Boolean,default:!1},name:{type:String},noChildrenText:{type:String,default:"No sub-options."},noOptionsText:{type:String,default:"No options available."},noResultsText:{type:String,default:"No results found..."},normalizer:{type:Function,default:M.a},openDirection:{type:String,default:"auto",validator:function(e){return H(["auto","top","bottom","above","below"],e)}},openOnClick:{type:Boolean,default:!0},openOnFocus:{type:Boolean,default:!1},options:{type:Array},placeholder:{type:String,default:"Select..."},required:{type:Boolean,default:!1},retryText:{type:String,default:"Retry?"},retryTitle:{type:String,default:"Click to retry"},searchable:{type:Boolean,default:!0},searchNested:{type:Boolean,default:!1},searchPromptText:{type:String,default:"Type to search..."},showCount:{type:Boolean,default:!1},showCountOf:{type:String,default:G,validator:function(e){return H([G,Y,Q,Z],e)}},showCountOnSearch:null,sortValueBy:{type:String,default:oe,validator:function(e){return H([oe,ie,ae],e)}},tabIndex:{type:Number,default:0},value:null,valueConsistsOf:{type:String,default:te,validator:function(e){return H([ee,te,ne,re],e)}},valueFormat:{type:String,default:"id"},zIndex:{type:[Number,String],default:999}},data:function(){return{trigger:{isFocused:!1,searchQuery:""},menu:{isOpen:!1,current:null,lastScrollPosition:0,placement:"bottom"},forest:{normalizedOptions:[],nodeMap:B(),checkedStateMap:B(),selectedNodeIds:this.extractCheckedNodeIdsFromValue(),selectedNodeMap:B()},rootOptionsStates:{isLoaded:!1,isLoading:!1,loadingError:""},localSearch:{active:!1,noResults:!0,countMap:B()},remoteSearch:B()}},computed:{selectedNodes:function(){return this.forest.selectedNodeIds.map(this.getNode)},internalValue:function(){var e,t=this;if(this.single||this.flat||this.disableBranchNodes||this.valueConsistsOf===ee)e=this.forest.selectedNodeIds.slice();else if(this.valueConsistsOf===te)e=this.forest.selectedNodeIds.filter((function(e){var n=t.getNode(e);return!!n.isRootNode||!t.isSelected(n.parentNode)}));else if(this.valueConsistsOf===ne)e=this.forest.selectedNodeIds.filter((function(e){var n=t.getNode(e);return!!n.isLeaf||0===n.children.length}));else if(this.valueConsistsOf===re){var n,r=[];e=this.forest.selectedNodeIds.slice(),this.selectedNodes.forEach((function(t){t.ancestors.forEach((function(t){H(r,t.id)||H(e,t.id)||r.push(t.id)}))})),(n=e).push.apply(n,r)}return this.sortValueBy===ie?e.sort((function(e,n){return function(e,t){return e.level===t.level?ce(e,t):e.level-t.level}(t.getNode(e),t.getNode(n))})):this.sortValueBy===ae&&e.sort((function(e,n){return ce(t.getNode(e),t.getNode(n))})),e},hasValue:function(){return this.internalValue.length>0},single:function(){return!this.multiple},visibleOptionIds:function(){var e=this,t=[];return this.traverseAllNodesByIndex((function(n){if(e.localSearch.active&&!e.shouldOptionBeIncludedInSearchResult(n)||t.push(n.id),n.isBranch&&!e.shouldExpand(n))return!1})),t},hasVisibleOptions:function(){return 0!==this.visibleOptionIds.length},showCountOnSearchComputed:function(){return"boolean"==typeof this.showCountOnSearch?this.showCountOnSearch:this.showCount},hasBranchNodes:function(){return this.forest.normalizedOptions.some((function(e){return e.isBranch}))},shouldFlattenOptions:function(){return this.localSearch.active&&this.flattenSearchResults}},watch:{alwaysOpen:function(e){e?this.openMenu():this.closeMenu()},branchNodesFirst:function(){this.initialize()},disabled:function(e){e&&this.menu.isOpen?this.closeMenu():e||this.menu.isOpen||!this.alwaysOpen||this.openMenu()},flat:function(){this.initialize()},internalValue:function(e,t){U(e,t)&&this.$emit("input",this.getValue(),this.getInstanceId())},matchKeys:function(){this.initialize()},multiple:function(e){e&&this.buildForestState()},options:{handler:function(){this.async||(this.initialize(),this.rootOptionsStates.isLoaded=Array.isArray(this.options))},deep:!0,immediate:!0},"trigger.searchQuery":function(){this.async?this.handleRemoteSearch():this.handleLocalSearch(),this.$emit("search-change",this.trigger.searchQuery,this.getInstanceId())},value:function(){var e=this.extractCheckedNodeIdsFromValue();U(e,this.internalValue)&&this.fixSelectedNodeIds(e)}},methods:{verifyProps:function(){var e=this;p((function(){return!e.async||e.searchable}),(function(){return'For async search mode, the value of "searchable" prop must be true.'})),null!=this.options||this.loadOptions||p((function(){return!1}),(function(){return'Are you meant to dynamically load options? You need to use "loadOptions" prop.'})),this.flat&&p((function(){return e.multiple}),(function(){return'You are using flat mode. But you forgot to add "multiple=true"?'})),this.flat||["autoSelectAncestors","autoSelectDescendants","autoDeselectAncestors","autoDeselectDescendants"].forEach((function(t){p((function(){return!e[t]}),(function(){return'"'.concat(t,'" only applies to flat mode.')}))}))},resetFlags:function(){this._blurOnSelect=!1},initialize:function(){var e=this.async?this.getRemoteSearchEntry().options:this.options;if(Array.isArray(e)){var t=this.forest.nodeMap;this.forest.nodeMap=B(),this.keepDataOfSelectedNodes(t),this.forest.normalizedOptions=this.normalize(q,e,t),this.fixSelectedNodeIds(this.internalValue)}else this.forest.normalizedOptions=[]},getInstanceId:function(){return null==this.instanceId?this.id:this.instanceId},getValue:function(){var e=this;if("id"===this.valueFormat)return this.multiple?this.internalValue.slice():this.internalValue[0];var t=this.internalValue.map((function(t){return e.getNode(t).raw}));return this.multiple?t:t[0]},getNode:function(e){return p((function(){return null!=e}),(function(){return"Invalid node id: ".concat(e)})),null==e?null:e in this.forest.nodeMap?this.forest.nodeMap[e]:this.createFallbackNode(e)},createFallbackNode:function(e){var t=this.extractNodeFromValue(e),n={id:e,label:this.enhancedNormalizer(t).label||"".concat(e," (unknown)"),ancestors:[],parentNode:q,isFallbackNode:!0,isRootNode:!0,isLeaf:!0,isBranch:!1,isDisabled:!1,isNew:!1,index:[-1],level:0,raw:t};return this.$set(this.forest.nodeMap,e,n)},extractCheckedNodeIdsFromValue:function(){var e=this;return null==this.value?[]:"id"===this.valueFormat?this.multiple?this.value.slice():[this.value]:(this.multiple?this.value:[this.value]).map((function(t){return e.enhancedNormalizer(t)})).map((function(e){return e.id}))},extractNodeFromValue:function(e){var t=this,n={id:e};return"id"===this.valueFormat?n:W(this.multiple?Array.isArray(this.value)?this.value:[]:this.value?[this.value]:[],(function(n){return n&&t.enhancedNormalizer(n).id===e}))||n},fixSelectedNodeIds:function(e){var t=this,n=[];if(this.single||this.flat||this.disableBranchNodes||this.valueConsistsOf===ee)n=e;else if(this.valueConsistsOf===te)e.forEach((function(e){n.push(e);var r=t.getNode(e);r.isBranch&&t.traverseDescendantsBFS(r,(function(e){n.push(e.id)}))}));else if(this.valueConsistsOf===ne)for(var r=B(),o=e.slice();o.length;){var i=o.shift(),a=this.getNode(i);n.push(i),a.isRootNode||(a.parentNode.id in r||(r[a.parentNode.id]=a.parentNode.children.length),0==--r[a.parentNode.id]&&o.push(a.parentNode.id))}else if(this.valueConsistsOf===re)for(var s=B(),l=e.filter((function(e){var n=t.getNode(e);return n.isLeaf||0===n.children.length}));l.length;){var c=l.shift(),u=this.getNode(c);n.push(c),u.isRootNode||(u.parentNode.id in s||(s[u.parentNode.id]=u.parentNode.children.length),0==--s[u.parentNode.id]&&l.push(u.parentNode.id))}U(this.forest.selectedNodeIds,n)&&(this.forest.selectedNodeIds=n),this.buildForestState()},keepDataOfSelectedNodes:function(e){var t=this;this.forest.selectedNodeIds.forEach((function(n){if(e[n]){var r=le({},e[n],{isFallbackNode:!0});t.$set(t.forest.nodeMap,n,r)}}))},isSelected:function(e){return!0===this.forest.selectedNodeMap[e.id]},traverseDescendantsBFS:function(e,t){if(e.isBranch)for(var n=e.children.slice();n.length;){var r=n[0];r.isBranch&&n.push.apply(n,a()(r.children)),t(r),n.shift()}},traverseDescendantsDFS:function(e,t){var n=this;e.isBranch&&e.children.forEach((function(e){n.traverseDescendantsDFS(e,t),t(e)}))},traverseAllNodesDFS:function(e){var t=this;this.forest.normalizedOptions.forEach((function(n){t.traverseDescendantsDFS(n,e),e(n)}))},traverseAllNodesByIndex:function(e){!function t(n){n.children.forEach((function(n){!1!==e(n)&&n.isBranch&&t(n)}))}({children:this.forest.normalizedOptions})},toggleClickOutsideEvent:function(e){e?document.addEventListener("mousedown",this.handleClickOutside,!1):document.removeEventListener("mousedown",this.handleClickOutside,!1)},getValueContainer:function(){return this.$refs.control.$refs["value-container"]},getInput:function(){return this.getValueContainer().$refs.input},focusInput:function(){this.getInput().focus()},blurInput:function(){this.getInput().blur()},handleMouseDown:f((function(e){e.preventDefault(),e.stopPropagation(),this.disabled||(this.getValueContainer().$el.contains(e.target)&&!this.menu.isOpen&&(this.openOnClick||this.trigger.isFocused)&&this.openMenu(),this._blurOnSelect?this.blurInput():this.focusInput(),this.resetFlags())})),handleClickOutside:function(e){this.$refs.wrapper&&!this.$refs.wrapper.contains(e.target)&&(this.blurInput(),this.closeMenu())},handleLocalSearch:function(){var e=this,t=this.trigger.searchQuery,n=function(){return e.resetHighlightedOptionWhenNecessary(!0)};if(!t)return this.localSearch.active=!1,n();this.localSearch.active=!0,this.localSearch.noResults=!0,this.traverseAllNodesDFS((function(t){var n;t.isBranch&&(t.isExpandedOnSearch=!1,t.showAllChildrenOnSearch=!1,t.isMatched=!1,t.hasMatchedDescendants=!1,e.$set(e.localSearch.countMap,t.id,(n={},l()(n,G,0),l()(n,Y,0),l()(n,Q,0),l()(n,Z,0),n)))}));var r=t.trim().toLocaleLowerCase(),o=r.replace(/\s+/g," ").split(" ");this.traverseAllNodesDFS((function(t){e.searchNested&&o.length>1?t.isMatched=o.every((function(e){return ue(!1,e,t.nestedSearchLabel)})):t.isMatched=e.matchKeys.some((function(n){return ue(!e.disableFuzzyMatching,r,t.lowerCased[n])})),t.isMatched&&(e.localSearch.noResults=!1,t.ancestors.forEach((function(t){return e.localSearch.countMap[t.id][Y]++})),t.isLeaf&&t.ancestors.forEach((function(t){return e.localSearch.countMap[t.id][Z]++})),t.parentNode!==q&&(e.localSearch.countMap[t.parentNode.id][G]+=1,t.isLeaf&&(e.localSearch.countMap[t.parentNode.id][Q]+=1))),(t.isMatched||t.isBranch&&t.isExpandedOnSearch)&&t.parentNode!==q&&(t.parentNode.isExpandedOnSearch=!0,t.parentNode.hasMatchedDescendants=!0)})),n()},handleRemoteSearch:function(){var e=this,t=this.trigger.searchQuery,n=this.getRemoteSearchEntry(),r=function(){e.initialize(),e.resetHighlightedOptionWhenNecessary(!0)};if((""===t||this.cacheOptions)&&n.isLoaded)return r();this.callLoadOptionsProp({action:K,args:{searchQuery:t},isPending:function(){return n.isLoading},start:function(){n.isLoading=!0,n.isLoaded=!1,n.loadingError=""},succeed:function(o){n.isLoaded=!0,n.options=o,e.trigger.searchQuery===t&&r()},fail:function(e){n.loadingError=de(e)},end:function(){n.isLoading=!1}})},getRemoteSearchEntry:function(){var e=this,t=this.trigger.searchQuery,n=this.remoteSearch[t]||le({},{isLoaded:!1,isLoading:!1,loadingError:""},{options:[]});if(this.$watch((function(){return n.options}),(function(){e.trigger.searchQuery===t&&e.initialize()}),{deep:!0}),""===t){if(Array.isArray(this.defaultOptions))return n.options=this.defaultOptions,n.isLoaded=!0,n;if(!0!==this.defaultOptions)return n.isLoaded=!0,n}return this.remoteSearch[t]||this.$set(this.remoteSearch,t,n),n},shouldExpand:function(e){return this.localSearch.active?e.isExpandedOnSearch:e.isExpanded},shouldOptionBeIncludedInSearchResult:function(e){return!!e.isMatched||!(!e.isBranch||!e.hasMatchedDescendants||this.flattenSearchResults)||!(e.isRootNode||!e.parentNode.showAllChildrenOnSearch)},shouldShowOptionInMenu:function(e){return!(this.localSearch.active&&!this.shouldOptionBeIncludedInSearchResult(e))},getControl:function(){return this.$refs.control.$el},getMenu:function(){var e=(this.appendToBody?this.$refs.portal.portalTarget:this).$refs.menu.$refs.menu;return e&&"#comment"!==e.nodeName?e:null},setCurrentHighlightedOption:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.menu.current;if(null!=r&&r in this.forest.nodeMap&&(this.forest.nodeMap[r].isHighlighted=!1),this.menu.current=e.id,e.isHighlighted=!0,this.menu.isOpen&&n){var o=function(){var n,r,o,i,a,s=t.getMenu(),l=s.querySelector('.vue-treeselect__option[data-id="'.concat(e.id,'"]'));l&&(r=l,o=(n=s).getBoundingClientRect(),i=r.getBoundingClientRect(),a=r.offsetHeight/3,i.bottom+a>o.bottom?n.scrollTop=Math.min(r.offsetTop+r.clientHeight-n.offsetHeight+a,n.scrollHeight):i.top-a<o.top&&(n.scrollTop=Math.max(r.offsetTop-a,0)))};this.getMenu()?o():this.$nextTick(o)}},resetHighlightedOptionWhenNecessary:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.menu.current;!e&&null!=t&&t in this.forest.nodeMap&&this.shouldShowOptionInMenu(this.getNode(t))||this.highlightFirstOption()},highlightFirstOption:function(){if(this.hasVisibleOptions){var e=this.visibleOptionIds[0];this.setCurrentHighlightedOption(this.getNode(e))}},highlightPrevOption:function(){if(this.hasVisibleOptions){var e=this.visibleOptionIds.indexOf(this.menu.current)-1;if(-1===e)return this.highlightLastOption();this.setCurrentHighlightedOption(this.getNode(this.visibleOptionIds[e]))}},highlightNextOption:function(){if(this.hasVisibleOptions){var e=this.visibleOptionIds.indexOf(this.menu.current)+1;if(e===this.visibleOptionIds.length)return this.highlightFirstOption();this.setCurrentHighlightedOption(this.getNode(this.visibleOptionIds[e]))}},highlightLastOption:function(){if(this.hasVisibleOptions){var e=R()(this.visibleOptionIds);this.setCurrentHighlightedOption(this.getNode(e))}},resetSearchQuery:function(){this.trigger.searchQuery=""},closeMenu:function(){!this.menu.isOpen||!this.disabled&&this.alwaysOpen||(this.saveMenuScrollPosition(),this.menu.isOpen=!1,this.toggleClickOutsideEvent(!1),this.resetSearchQuery(),this.$emit("close",this.getValue(),this.getInstanceId()))},openMenu:function(){this.disabled||this.menu.isOpen||(this.menu.isOpen=!0,this.$nextTick(this.resetHighlightedOptionWhenNecessary),this.$nextTick(this.restoreMenuScrollPosition),this.options||this.async||this.loadRootOptions(),this.toggleClickOutsideEvent(!0),this.$emit("open",this.getInstanceId()))},toggleMenu:function(){this.menu.isOpen?this.closeMenu():this.openMenu()},toggleExpanded:function(e){var t;this.localSearch.active?(t=e.isExpandedOnSearch=!e.isExpandedOnSearch)&&(e.showAllChildrenOnSearch=!0):t=e.isExpanded=!e.isExpanded,t&&!e.childrenStates.isLoaded&&this.loadChildrenOptions(e)},buildForestState:function(){var e=this,t=B();this.forest.selectedNodeIds.forEach((function(e){t[e]=!0})),this.forest.selectedNodeMap=t;var n=B();this.multiple&&(this.traverseAllNodesByIndex((function(e){n[e.id]=0})),this.selectedNodes.forEach((function(t){n[t.id]=2,e.flat||e.disableBranchNodes||t.ancestors.forEach((function(t){e.isSelected(t)||(n[t.id]=1)}))}))),this.forest.checkedStateMap=n},enhancedNormalizer:function(e){return le({},e,{},this.normalizer(e,this.getInstanceId()))},normalize:function(e,t,n){var r=this,i=t.map((function(e){return[r.enhancedNormalizer(e),e]})).map((function(t,i){var a=o()(t,2),s=a[0],c=a[1];r.checkDuplication(s),r.verifyNodeShape(s);var u=s.id,d=s.label,f=s.children,h=s.isDefaultExpanded,v=e===q,m=v?0:e.level+1,g=Array.isArray(f)||null===f,y=!g,b=!!s.isDisabled||!r.flat&&!v&&e.isDisabled,w=!!s.isNew,x=r.matchKeys.reduce((function(e,t){return le({},e,l()({},t,(n=s[t],"string"==typeof n?n:"number"!=typeof n||C(n)?"":n+"").toLocaleLowerCase()));var n}),{}),O=v?x.label:e.nestedSearchLabel+" "+x.label,S=r.$set(r.forest.nodeMap,u,B());if(r.$set(S,"id",u),r.$set(S,"label",d),r.$set(S,"level",m),r.$set(S,"ancestors",v?[]:[e].concat(e.ancestors)),r.$set(S,"index",(v?[]:e.index).concat(i)),r.$set(S,"parentNode",e),r.$set(S,"lowerCased",x),r.$set(S,"nestedSearchLabel",O),r.$set(S,"isDisabled",b),r.$set(S,"isNew",w),r.$set(S,"isMatched",!1),r.$set(S,"isHighlighted",!1),r.$set(S,"isBranch",g),r.$set(S,"isLeaf",y),r.$set(S,"isRootNode",v),r.$set(S,"raw",c),g){var k,_=Array.isArray(f);r.$set(S,"childrenStates",le({},{isLoaded:!1,isLoading:!1,loadingError:""},{isLoaded:_})),r.$set(S,"isExpanded","boolean"==typeof h?h:m<r.defaultExpandLevel),r.$set(S,"hasMatchedDescendants",!1),r.$set(S,"hasDisabledDescendants",!1),r.$set(S,"isExpandedOnSearch",!1),r.$set(S,"showAllChildrenOnSearch",!1),r.$set(S,"count",(k={},l()(k,G,0),l()(k,Y,0),l()(k,Q,0),l()(k,Z,0),k)),r.$set(S,"children",_?r.normalize(S,f,n):[]),!0===h&&S.ancestors.forEach((function(e){e.isExpanded=!0})),_||"function"==typeof r.loadOptions?!_&&S.isExpanded&&r.loadChildrenOptions(S):p((function(){return!1}),(function(){return'Unloaded branch node detected. "loadOptions" prop is required to load its children.'}))}if(S.ancestors.forEach((function(e){return e.count[Y]++})),y&&S.ancestors.forEach((function(e){return e.count[Z]++})),v||(e.count[G]+=1,y&&(e.count[Q]+=1),b&&(e.hasDisabledDescendants=!0)),n&&n[u]){var E=n[u];S.isMatched=E.isMatched,S.showAllChildrenOnSearch=E.showAllChildrenOnSearch,S.isHighlighted=E.isHighlighted,E.isBranch&&S.isBranch&&(S.isExpanded=E.isExpanded,S.isExpandedOnSearch=E.isExpandedOnSearch,E.childrenStates.isLoaded&&!S.childrenStates.isLoaded?S.isExpanded=!1:S.childrenStates=le({},E.childrenStates))}return S}));if(this.branchNodesFirst){var a=i.filter((function(e){return e.isBranch})),s=i.filter((function(e){return e.isLeaf}));i=a.concat(s)}return i},loadRootOptions:function(){var e=this;this.callLoadOptionsProp({action:X,isPending:function(){return e.rootOptionsStates.isLoading},start:function(){e.rootOptionsStates.isLoading=!0,e.rootOptionsStates.loadingError=""},succeed:function(){e.rootOptionsStates.isLoaded=!0,e.$nextTick((function(){e.resetHighlightedOptionWhenNecessary(!0)}))},fail:function(t){e.rootOptionsStates.loadingError=de(t)},end:function(){e.rootOptionsStates.isLoading=!1}})},loadChildrenOptions:function(e){var t=this,n=e.id,r=e.raw;this.callLoadOptionsProp({action:J,args:{parentNode:r},isPending:function(){return t.getNode(n).childrenStates.isLoading},start:function(){t.getNode(n).childrenStates.isLoading=!0,t.getNode(n).childrenStates.loadingError=""},succeed:function(){t.getNode(n).childrenStates.isLoaded=!0},fail:function(e){t.getNode(n).childrenStates.loadingError=de(e)},end:function(){t.getNode(n).childrenStates.isLoading=!1}})},callLoadOptionsProp:function(e){var t=e.action,n=e.args,r=e.isPending,o=e.start,i=e.succeed,a=e.fail,s=e.end;if(this.loadOptions&&!r()){o();var l=N()((function(e,t){e?a(e):i(t),s()})),c=this.loadOptions(le({id:this.getInstanceId(),instanceId:this.getInstanceId(),action:t},n,{callback:l}));D()(c)&&c.then((function(){l()}),(function(e){l(e)})).catch((function(e){console.error(e)}))}},checkDuplication:function(e){var t=this;p((function(){return!(e.id in t.forest.nodeMap&&!t.forest.nodeMap[e.id].isFallbackNode)}),(function(){return"Detected duplicate presence of node id ".concat(JSON.stringify(e.id),". ")+'Their labels are "'.concat(t.forest.nodeMap[e.id].label,'" and "').concat(e.label,'" respectively.')}))},verifyNodeShape:function(e){p((function(){return!(void 0===e.children&&!0===e.isBranch)}),(function(){return"Are you meant to declare an unloaded branch node? `isBranch: true` is no longer supported, please use `children: null` instead."}))},select:function(e){if(!this.disabled&&!e.isDisabled){this.single&&this.clear();var t=this.multiple&&!this.flat?0===this.forest.checkedStateMap[e.id]:!this.isSelected(e);t?this._selectNode(e):this._deselectNode(e),this.buildForestState(),t?this.$emit("select",e.raw,this.getInstanceId()):this.$emit("deselect",e.raw,this.getInstanceId()),this.localSearch.active&&t&&(this.single||this.clearOnSelect)&&this.resetSearchQuery(),this.single&&this.closeOnSelect&&(this.closeMenu(),this.searchable&&(this._blurOnSelect=!0))}},clear:function(){var e=this;this.hasValue&&(this.single||this.allowClearingDisabled?this.forest.selectedNodeIds=[]:this.forest.selectedNodeIds=this.forest.selectedNodeIds.filter((function(t){return e.getNode(t).isDisabled})),this.buildForestState())},_selectNode:function(e){var t=this;if(this.single||this.disableBranchNodes)return this.addValue(e);if(this.flat)return this.addValue(e),void(this.autoSelectAncestors?e.ancestors.forEach((function(e){t.isSelected(e)||e.isDisabled||t.addValue(e)})):this.autoSelectDescendants&&this.traverseDescendantsBFS(e,(function(e){t.isSelected(e)||e.isDisabled||t.addValue(e)})));var n=e.isLeaf||!e.hasDisabledDescendants||this.allowSelectingDisabledDescendants;if(n&&this.addValue(e),e.isBranch&&this.traverseDescendantsBFS(e,(function(e){e.isDisabled&&!t.allowSelectingDisabledDescendants||t.addValue(e)})),n)for(var r=e;(r=r.parentNode)!==q&&r.children.every(this.isSelected);)this.addValue(r)},_deselectNode:function(e){var t=this;if(this.disableBranchNodes)return this.removeValue(e);if(this.flat)return this.removeValue(e),void(this.autoDeselectAncestors?e.ancestors.forEach((function(e){t.isSelected(e)&&!e.isDisabled&&t.removeValue(e)})):this.autoDeselectDescendants&&this.traverseDescendantsBFS(e,(function(e){t.isSelected(e)&&!e.isDisabled&&t.removeValue(e)})));var n=!1;if(e.isBranch&&this.traverseDescendantsDFS(e,(function(e){e.isDisabled&&!t.allowSelectingDisabledDescendants||(t.removeValue(e),n=!0)})),e.isLeaf||n||0===e.children.length){this.removeValue(e);for(var r=e;(r=r.parentNode)!==q&&this.isSelected(r);)this.removeValue(r)}},addValue:function(e){this.forest.selectedNodeIds.push(e.id),this.forest.selectedNodeMap[e.id]=!0},removeValue:function(e){b(this.forest.selectedNodeIds,e.id),delete this.forest.selectedNodeMap[e.id]},removeLastValue:function(){if(this.hasValue){if(this.single)return this.clear();var e=R()(this.internalValue),t=this.getNode(e);this.select(t)}},saveMenuScrollPosition:function(){var e=this.getMenu();e&&(this.menu.lastScrollPosition=e.scrollTop)},restoreMenuScrollPosition:function(){var e=this.getMenu();e&&(e.scrollTop=this.menu.lastScrollPosition)}},created:function(){this.verifyProps(),this.resetFlags()},mounted:function(){this.autoFocus&&this.focusInput(),this.options||this.async||!this.autoLoadRootOptions||this.loadRootOptions(),this.alwaysOpen&&this.openMenu(),this.async&&this.defaultOptions&&this.handleRemoteSearch()},destroyed:function(){this.toggleClickOutsideEvent(!1)}};function he(e){return"string"==typeof e?e:null==e||C(e)?"":JSON.stringify(e)}var ve={name:"vue-treeselect--hidden-fields",inject:["instance"],functional:!0,render:function(e,t){var n=arguments[0],r=t.injections.instance;if(!r.name||r.disabled||!r.hasValue)return null;var o=r.internalValue.map(he);return r.multiple&&r.joinValues&&(o=[o.join(r.delimiter)]),o.map((function(e,t){return n("input",{attrs:{type:"hidden",name:r.name},domProps:{value:e},key:"hidden-field-"+t})}))}};function me(e,t,n,r,o,i,a,s){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}var ge=me(ve,void 0,void 0,!1,null,null,null);ge.options.__file="src/components/HiddenFields.vue";var ye=ge.exports,be=n(13),we=n.n(be),xe=[13,35,36,37,38,39,40],Oe=me({name:"vue-treeselect--input",inject:["instance"],data:function(){return{inputWidth:5,value:""}},computed:{needAutoSize:function(){var e=this.instance;return e.searchable&&!e.disabled&&e.multiple},inputStyle:function(){return{width:this.needAutoSize?"".concat(this.inputWidth,"px"):null}}},watch:{"instance.trigger.searchQuery":function(e){this.value=e},value:function(){this.needAutoSize&&this.$nextTick(this.updateInputWidth)}},created:function(){this.debouncedCallback=m()(this.updateSearchQuery,200,{leading:!0,trailing:!0})},methods:{clear:function(){this.onInput({target:{value:""}})},focus:function(){this.instance.disabled||this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},onFocus:function(){var e=this.instance;e.trigger.isFocused=!0,e.openOnFocus&&e.openMenu()},onBlur:function(){var e=this.instance,t=e.getMenu();if(t&&document.activeElement===t)return this.focus();e.trigger.isFocused=!1,e.closeMenu()},onInput:function(e){var t=e.target.value;this.value=t,t?this.debouncedCallback():(this.debouncedCallback.cancel(),this.updateSearchQuery())},onKeyDown:function(e){var t=this.instance,n="which"in e?e.which:e.keyCode;if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)){if(!t.menu.isOpen&&H(xe,n))return e.preventDefault(),t.openMenu();switch(n){case 8:t.backspaceRemoves&&!this.value.length&&t.removeLastValue();break;case 13:if(e.preventDefault(),null===t.menu.current)return;var r=t.getNode(t.menu.current);if(r.isBranch&&t.disableBranchNodes)return;t.select(r);break;case 27:this.value.length?this.clear():t.menu.isOpen&&t.closeMenu();break;case 35:e.preventDefault(),t.highlightLastOption();break;case 36:e.preventDefault(),t.highlightFirstOption();break;case 37:var o=t.getNode(t.menu.current);o.isBranch&&t.shouldExpand(o)?(e.preventDefault(),t.toggleExpanded(o)):!o.isRootNode&&(o.isLeaf||o.isBranch&&!t.shouldExpand(o))&&(e.preventDefault(),t.setCurrentHighlightedOption(o.parentNode));break;case 38:e.preventDefault(),t.highlightPrevOption();break;case 39:var i=t.getNode(t.menu.current);i.isBranch&&!t.shouldExpand(i)&&(e.preventDefault(),t.toggleExpanded(i));break;case 40:e.preventDefault(),t.highlightNextOption();break;case 46:t.deleteRemoves&&!this.value.length&&t.removeLastValue();break;default:t.openMenu()}}},onMouseDown:function(e){this.value.length&&e.stopPropagation()},renderInputContainer:function(){var e=this.$createElement,t=this.instance,n={},r=[];return t.searchable&&!t.disabled&&(r.push(this.renderInput()),this.needAutoSize&&r.push(this.renderSizer())),t.searchable||z(n,{on:{focus:this.onFocus,blur:this.onBlur,keydown:this.onKeyDown},ref:"input"}),t.searchable||t.disabled||z(n,{attrs:{tabIndex:t.tabIndex}}),e("div",we()([{class:"vue-treeselect__input-container"},n]),[r])},renderInput:function(){var e=this.$createElement,t=this.instance;return e("input",{ref:"input",class:"vue-treeselect__input",attrs:{type:"text",autocomplete:"off",tabIndex:t.tabIndex,required:t.required&&!t.hasValue},domProps:{value:this.value},style:this.inputStyle,on:{focus:this.onFocus,input:this.onInput,blur:this.onBlur,keydown:this.onKeyDown,mousedown:this.onMouseDown}})},renderSizer:function(){return(0,this.$createElement)("div",{ref:"sizer",class:"vue-treeselect__sizer"},[this.value])},updateInputWidth:function(){this.inputWidth=Math.max(5,this.$refs.sizer.scrollWidth+15)},updateSearchQuery:function(){this.instance.trigger.searchQuery=this.value}},render:function(){return this.renderInputContainer()}},void 0,void 0,!1,null,null,null);Oe.options.__file="src/components/Input.vue";var Se=Oe.exports,ke=me({name:"vue-treeselect--placeholder",inject:["instance"],render:function(){var e=arguments[0],t=this.instance;return e("div",{class:{"vue-treeselect__placeholder":!0,"vue-treeselect-helper-zoom-effect-off":!0,"vue-treeselect-helper-hide":t.hasValue||t.trigger.searchQuery}},[t.placeholder])}},void 0,void 0,!1,null,null,null);ke.options.__file="src/components/Placeholder.vue";var _e=ke.exports,Ee={name:"vue-treeselect--single-value",inject:["instance"],methods:{renderSingleValueLabel:function(){var e=this.instance,t=e.selectedNodes[0],n=e.$scopedSlots["value-label"];return n?n({node:t}):t.label}},render:function(){var e=arguments[0],t=this.instance;return(0,this.$parent.renderValueContainer)([t.hasValue&&!t.trigger.searchQuery&&e("div",{class:"vue-treeselect__single-value"},[this.renderSingleValueLabel()]),e(_e),e(Se,{ref:"input"})])}},Ce=me(Ee,void 0,void 0,!1,null,null,null);Ce.options.__file="src/components/SingleValue.vue";var Te=Ce.exports,De=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 348.333 348.333"}},[t("path",{attrs:{d:"M336.559 68.611L231.016 174.165l105.543 105.549c15.699 15.705 15.699 41.145 0 56.85-7.844 7.844-18.128 11.769-28.407 11.769-10.296 0-20.581-3.919-28.419-11.769L174.167 231.003 68.609 336.563c-7.843 7.844-18.128 11.769-28.416 11.769-10.285 0-20.563-3.919-28.413-11.769-15.699-15.698-15.699-41.139 0-56.85l105.54-105.549L11.774 68.611c-15.699-15.699-15.699-41.145 0-56.844 15.696-15.687 41.127-15.687 56.829 0l105.563 105.554L279.721 11.767c15.705-15.687 41.139-15.687 56.832 0 15.705 15.699 15.705 41.145.006 56.844z"}})])};De._withStripped=!0;var Ae=me({name:"vue-treeselect--x"},De,[],!1,null,null,null);Ae.options.__file="src/components/icons/Delete.vue";var Ne=Ae.exports,je={name:"vue-treeselect--multi-value-item",inject:["instance"],props:{node:{type:Object,required:!0}},methods:{handleMouseDown:f((function(){var e=this.instance,t=this.node;e.select(t)}))},render:function(){var e=arguments[0],t=this.instance,n=this.node,r={"vue-treeselect__multi-value-item":!0,"vue-treeselect__multi-value-item-disabled":n.isDisabled,"vue-treeselect__multi-value-item-new":n.isNew},o=t.$scopedSlots["value-label"],i=o?o({node:n}):n.label;return e("div",{class:"vue-treeselect__multi-value-item-container"},[e("div",{class:r,on:{mousedown:this.handleMouseDown}},[e("span",{class:"vue-treeselect__multi-value-label"},[i]),e("span",{class:"vue-treeselect__icon vue-treeselect__value-remove"},[e(Ne)])])])}},Me=me(je,void 0,void 0,!1,null,null,null);Me.options.__file="src/components/MultiValueItem.vue";var $e=Me.exports,Le={name:"vue-treeselect--multi-value",inject:["instance"],methods:{renderMultiValueItems:function(){var e=this.$createElement,t=this.instance;return t.internalValue.slice(0,t.limit).map(t.getNode).map((function(t){return e($e,{key:"multi-value-item-".concat(t.id),attrs:{node:t}})}))},renderExceedLimitTip:function(){var e=this.$createElement,t=this.instance,n=t.internalValue.length-t.limit;return n<=0?null:e("div",{class:"vue-treeselect__limit-tip vue-treeselect-helper-zoom-effect-off",key:"exceed-limit-tip"},[e("span",{class:"vue-treeselect__limit-tip-text"},[t.limitText(n)])])}},render:function(){var e=arguments[0];return(0,this.$parent.renderValueContainer)(e("transition-group",we()([{class:"vue-treeselect__multi-value"},{props:{tag:"div",name:"vue-treeselect__multi-value-item--transition",appear:!0}}]),[this.renderMultiValueItems(),this.renderExceedLimitTip(),e(_e,{key:"placeholder"}),e(Se,{ref:"input",key:"input"})]))}},Be=me(Le,void 0,void 0,!1,null,null,null);Be.options.__file="src/components/MultiValue.vue";var Pe=Be.exports,Ie=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 292.362 292.362"}},[t("path",{attrs:{d:"M286.935 69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952 0-9.233 1.807-12.85 5.424C1.807 72.998 0 77.279 0 82.228c0 4.948 1.807 9.229 5.424 12.847l127.907 127.907c3.621 3.617 7.902 5.428 12.85 5.428s9.233-1.811 12.847-5.428L286.935 95.074c3.613-3.617 5.427-7.898 5.427-12.847 0-4.948-1.814-9.229-5.427-12.85z"}})])};Ie._withStripped=!0;var Fe=me({name:"vue-treeselect--arrow"},Ie,[],!1,null,null,null);Fe.options.__file="src/components/icons/Arrow.vue";var ze=Fe.exports,Ve={name:"vue-treeselect--control",inject:["instance"],computed:{shouldShowX:function(){var e=this.instance;return e.clearable&&!e.disabled&&e.hasValue&&(this.hasUndisabledValue||e.allowClearingDisabled)},shouldShowArrow:function(){var e=this.instance;return!e.alwaysOpen||!e.menu.isOpen},hasUndisabledValue:function(){var e=this.instance;return e.hasValue&&e.internalValue.some((function(t){return!e.getNode(t).isDisabled}))}},methods:{renderX:function(){var e=this.$createElement,t=this.instance,n=t.multiple?t.clearAllText:t.clearValueText;return this.shouldShowX?e("div",{class:"vue-treeselect__x-container",attrs:{title:n},on:{mousedown:this.handleMouseDownOnX}},[e(Ne,{class:"vue-treeselect__x"})]):null},renderArrow:function(){var e=this.$createElement,t={"vue-treeselect__control-arrow":!0,"vue-treeselect__control-arrow--rotated":this.instance.menu.isOpen};return this.shouldShowArrow?e("div",{class:"vue-treeselect__control-arrow-container",on:{mousedown:this.handleMouseDownOnArrow}},[e(ze,{class:t})]):null},handleMouseDownOnX:f((function(e){e.stopPropagation(),e.preventDefault();var t=this.instance,n=t.beforeClearAll(),r=function(e){e&&t.clear()};D()(n)?n.then(r):setTimeout((function(){return r(n)}),0)})),handleMouseDownOnArrow:f((function(e){e.preventDefault(),e.stopPropagation();var t=this.instance;t.focusInput(),t.toggleMenu()})),renderValueContainer:function(e){return(0,this.$createElement)("div",{class:"vue-treeselect__value-container"},[e])}},render:function(){var e=arguments[0],t=this.instance,n=t.single?Te:Pe;return e("div",{class:"vue-treeselect__control",on:{mousedown:t.handleMouseDown}},[e(n,{ref:"value-container"}),this.renderX(),this.renderArrow()])}},Re=me(Ve,void 0,void 0,!1,null,null,null);Re.options.__file="src/components/Control.vue";var He=Re.exports,We={name:"vue-treeselect--tip",functional:!0,props:{type:{type:String,required:!0},icon:{type:String,required:!0}},render:function(e,t){var n=arguments[0],r=t.props,o=t.children;return n("div",{class:"vue-treeselect__tip vue-treeselect__".concat(r.type,"-tip")},[n("div",{class:"vue-treeselect__icon-container"},[n("span",{class:"vue-treeselect__icon-".concat(r.icon)})]),n("span",{class:"vue-treeselect__tip-text vue-treeselect__".concat(r.type,"-tip-text")},[o])])}},Ue=me(We,void 0,void 0,!1,null,null,null);Ue.options.__file="src/components/Tip.vue";var qe,Ge,Ye,Qe=Ue.exports,Ze={name:"vue-treeselect--option",inject:["instance"],props:{node:{type:Object,required:!0}},computed:{shouldExpand:function(){var e=this.instance,t=this.node;return t.isBranch&&e.shouldExpand(t)},shouldShow:function(){var e=this.instance,t=this.node;return e.shouldShowOptionInMenu(t)}},methods:{renderOption:function(){var e=this.$createElement,t=this.instance,n=this.node;return e("div",{class:{"vue-treeselect__option":!0,"vue-treeselect__option--disabled":n.isDisabled,"vue-treeselect__option--selected":t.isSelected(n),"vue-treeselect__option--highlight":n.isHighlighted,"vue-treeselect__option--matched":t.localSearch.active&&n.isMatched,"vue-treeselect__option--hide":!this.shouldShow},on:{mouseenter:this.handleMouseEnterOption},attrs:{"data-id":n.id}},[this.renderArrow(),this.renderLabelContainer([this.renderCheckboxContainer([this.renderCheckbox()]),this.renderLabel()])])},renderSubOptionsList:function(){var e=this.$createElement;return this.shouldExpand?e("div",{class:"vue-treeselect__list"},[this.renderSubOptions(),this.renderNoChildrenTip(),this.renderLoadingChildrenTip(),this.renderLoadingChildrenErrorTip()]):null},renderArrow:function(){var e=this.$createElement,t=this.instance,n=this.node;if(t.shouldFlattenOptions&&this.shouldShow)return null;if(n.isBranch){var r={"vue-treeselect__option-arrow":!0,"vue-treeselect__option-arrow--rotated":this.shouldExpand};return e("div",{class:"vue-treeselect__option-arrow-container",on:{mousedown:this.handleMouseDownOnArrow}},[e("transition",{props:{name:"vue-treeselect__option-arrow--prepare",appear:!0}},[e(ze,{class:r})])])}return t.hasBranchNodes?(qe||(qe=e("div",{class:"vue-treeselect__option-arrow-placeholder"},[" "])),qe):null},renderLabelContainer:function(e){return(0,this.$createElement)("div",{class:"vue-treeselect__label-container",on:{mousedown:this.handleMouseDownOnLabelContainer}},[e])},renderCheckboxContainer:function(e){var t=this.$createElement,n=this.instance,r=this.node;return n.single||n.disableBranchNodes&&r.isBranch?null:t("div",{class:"vue-treeselect__checkbox-container"},[e])},renderCheckbox:function(){var e=this.$createElement,t=this.instance,n=this.node,r=t.forest.checkedStateMap[n.id],o={"vue-treeselect__checkbox":!0,"vue-treeselect__checkbox--checked":2===r,"vue-treeselect__checkbox--indeterminate":1===r,"vue-treeselect__checkbox--unchecked":0===r,"vue-treeselect__checkbox--disabled":n.isDisabled};return Ge||(Ge=e("span",{class:"vue-treeselect__check-mark"})),Ye||(Ye=e("span",{class:"vue-treeselect__minus-mark"})),e("span",{class:o},[Ge,Ye])},renderLabel:function(){var e=this.$createElement,t=this.instance,n=this.node,r=n.isBranch&&(t.localSearch.active?t.showCountOnSearchComputed:t.showCount),o=r?t.localSearch.active?t.localSearch.countMap[n.id][t.showCountOf]:n.count[t.showCountOf]:NaN,i="vue-treeselect__label",a="vue-treeselect__count",s=t.$scopedSlots["option-label"];return s?s({node:n,shouldShowCount:r,count:o,labelClassName:i,countClassName:a}):e("label",{class:i},[n.label,r&&e("span",{class:a},["(",o,")"])])},renderSubOptions:function(){var e=this.$createElement,t=this.node;return t.childrenStates.isLoaded?t.children.map((function(t){return e(Ze,{attrs:{node:t},key:t.id})})):null},renderNoChildrenTip:function(){var e=this.$createElement,t=this.instance,n=this.node;return!n.childrenStates.isLoaded||n.children.length?null:e(Qe,{attrs:{type:"no-children",icon:"warning"}},[t.noChildrenText])},renderLoadingChildrenTip:function(){var e=this.$createElement,t=this.instance;return this.node.childrenStates.isLoading?e(Qe,{attrs:{type:"loading",icon:"loader"}},[t.loadingText]):null},renderLoadingChildrenErrorTip:function(){var e=this.$createElement,t=this.instance,n=this.node;return n.childrenStates.loadingError?e(Qe,{attrs:{type:"error",icon:"error"}},[n.childrenStates.loadingError,e("a",{class:"vue-treeselect__retry",attrs:{title:t.retryTitle},on:{mousedown:this.handleMouseDownOnRetry}},[t.retryText])]):null},handleMouseEnterOption:function(e){var t=this.instance,n=this.node;e.target===e.currentTarget&&t.setCurrentHighlightedOption(n,!1)},handleMouseDownOnArrow:f((function(){var e=this.instance,t=this.node;e.toggleExpanded(t)})),handleMouseDownOnLabelContainer:f((function(){var e=this.instance,t=this.node;t.isBranch&&e.disableBranchNodes?e.toggleExpanded(t):e.select(t)})),handleMouseDownOnRetry:f((function(){var e=this.instance,t=this.node;e.loadChildrenOptions(t)}))},render:function(){var e=arguments[0],t=this.node,n=this.instance.shouldFlattenOptions?0:t.level;return e("div",{class:l()({"vue-treeselect__list-item":!0},"vue-treeselect__indent-level-".concat(n),!0)},[this.renderOption(),t.isBranch&&e("transition",{props:{name:"vue-treeselect__list--transition"}},[this.renderSubOptionsList()])])}},Xe=me(Ze,void 0,void 0,!1,null,null,null);Xe.options.__file="src/components/Option.vue";var Je=Xe.exports,Ke={top:"top",bottom:"bottom",above:"top",below:"bottom"},et={name:"vue-treeselect--menu",inject:["instance"],computed:{menuStyle:function(){return{maxHeight:this.instance.maxHeight+"px"}},menuContainerStyle:function(){var e=this.instance;return{zIndex:e.appendToBody?null:e.zIndex}}},watch:{"instance.menu.isOpen":function(e){e?this.$nextTick(this.onMenuOpen):this.onMenuClose()}},created:function(){this.menuSizeWatcher=null,this.menuResizeAndScrollEventListeners=null},mounted:function(){this.instance.menu.isOpen&&this.$nextTick(this.onMenuOpen)},destroyed:function(){this.onMenuClose()},methods:{renderMenu:function(){var e=this.$createElement,t=this.instance;return t.menu.isOpen?e("div",{ref:"menu",class:"vue-treeselect__menu",on:{mousedown:t.handleMouseDown},style:this.menuStyle},[this.renderBeforeList(),t.async?this.renderAsyncSearchMenuInner():t.localSearch.active?this.renderLocalSearchMenuInner():this.renderNormalMenuInner(),this.renderAfterList()]):null},renderBeforeList:function(){var e=this.instance.$scopedSlots["before-list"];return e?e():null},renderAfterList:function(){var e=this.instance.$scopedSlots["after-list"];return e?e():null},renderNormalMenuInner:function(){var e=this.instance;return e.rootOptionsStates.isLoading?this.renderLoadingOptionsTip():e.rootOptionsStates.loadingError?this.renderLoadingRootOptionsErrorTip():e.rootOptionsStates.isLoaded&&0===e.forest.normalizedOptions.length?this.renderNoAvailableOptionsTip():this.renderOptionList()},renderLocalSearchMenuInner:function(){var e=this.instance;return e.rootOptionsStates.isLoading?this.renderLoadingOptionsTip():e.rootOptionsStates.loadingError?this.renderLoadingRootOptionsErrorTip():e.rootOptionsStates.isLoaded&&0===e.forest.normalizedOptions.length?this.renderNoAvailableOptionsTip():e.localSearch.noResults?this.renderNoResultsTip():this.renderOptionList()},renderAsyncSearchMenuInner:function(){var e=this.instance,t=e.getRemoteSearchEntry(),n=""===e.trigger.searchQuery&&!e.defaultOptions,r=!n&&t.isLoaded&&0===t.options.length;return n?this.renderSearchPromptTip():t.isLoading?this.renderLoadingOptionsTip():t.loadingError?this.renderAsyncSearchLoadingErrorTip():r?this.renderNoResultsTip():this.renderOptionList()},renderOptionList:function(){var e=this.$createElement,t=this.instance;return e("div",{class:"vue-treeselect__list"},[t.forest.normalizedOptions.map((function(t){return e(Je,{attrs:{node:t},key:t.id})}))])},renderSearchPromptTip:function(){var e=this.$createElement,t=this.instance;return e(Qe,{attrs:{type:"search-prompt",icon:"warning"}},[t.searchPromptText])},renderLoadingOptionsTip:function(){var e=this.$createElement,t=this.instance;return e(Qe,{attrs:{type:"loading",icon:"loader"}},[t.loadingText])},renderLoadingRootOptionsErrorTip:function(){var e=this.$createElement,t=this.instance;return e(Qe,{attrs:{type:"error",icon:"error"}},[t.rootOptionsStates.loadingError,e("a",{class:"vue-treeselect__retry",on:{click:t.loadRootOptions},attrs:{title:t.retryTitle}},[t.retryText])])},renderAsyncSearchLoadingErrorTip:function(){var e=this.$createElement,t=this.instance,n=t.getRemoteSearchEntry();return e(Qe,{attrs:{type:"error",icon:"error"}},[n.loadingError,e("a",{class:"vue-treeselect__retry",on:{click:t.handleRemoteSearch},attrs:{title:t.retryTitle}},[t.retryText])])},renderNoAvailableOptionsTip:function(){var e=this.$createElement,t=this.instance;return e(Qe,{attrs:{type:"no-options",icon:"warning"}},[t.noOptionsText])},renderNoResultsTip:function(){var e=this.$createElement,t=this.instance;return e(Qe,{attrs:{type:"no-results",icon:"warning"}},[t.noResultsText])},onMenuOpen:function(){this.adjustMenuOpenDirection(),this.setupMenuSizeWatcher(),this.setupMenuResizeAndScrollEventListeners()},onMenuClose:function(){this.removeMenuSizeWatcher(),this.removeMenuResizeAndScrollEventListeners()},adjustMenuOpenDirection:function(){var e=this.instance;if(e.menu.isOpen){var t=e.getMenu(),n=e.getControl(),r=t.getBoundingClientRect(),o=n.getBoundingClientRect(),i=r.height,a=window.innerHeight,s=o.top,l=window.innerHeight-o.bottom>i+40,c=s>i+40;o.top>=0&&o.top<=a||o.top<0&&o.bottom>0?"auto"!==e.openDirection?e.menu.placement=Ke[e.openDirection]:e.menu.placement=l||!c?"bottom":"top":e.closeMenu()}},setupMenuSizeWatcher:function(){var e=this.instance.getMenu();this.menuSizeWatcher||(this.menuSizeWatcher={remove:k(e,this.adjustMenuOpenDirection)})},setupMenuResizeAndScrollEventListeners:function(){var e=this.instance.getControl();this.menuResizeAndScrollEventListeners||(this.menuResizeAndScrollEventListeners={remove:E(e,this.adjustMenuOpenDirection)})},removeMenuSizeWatcher:function(){this.menuSizeWatcher&&(this.menuSizeWatcher.remove(),this.menuSizeWatcher=null)},removeMenuResizeAndScrollEventListeners:function(){this.menuResizeAndScrollEventListeners&&(this.menuResizeAndScrollEventListeners.remove(),this.menuResizeAndScrollEventListeners=null)}},render:function(){var e=arguments[0];return e("div",{ref:"menu-container",class:"vue-treeselect__menu-container",style:this.menuContainerStyle},[e("transition",{attrs:{name:"vue-treeselect__menu--transition"}},[this.renderMenu()])])}},tt=me(et,void 0,void 0,!1,null,null,null);tt.options.__file="src/components/Menu.vue";var nt=tt.exports,rt=n(14),ot=n.n(rt);function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var at,st={name:"vue-treeselect--portal-target",inject:["instance"],watch:{"instance.menu.isOpen":function(e){e?this.setupHandlers():this.removeHandlers()},"instance.menu.placement":function(){this.updateMenuContainerOffset()}},created:function(){this.controlResizeAndScrollEventListeners=null,this.controlSizeWatcher=null},mounted:function(){this.instance.menu.isOpen&&this.setupHandlers()},methods:{setupHandlers:function(){this.updateWidth(),this.updateMenuContainerOffset(),this.setupControlResizeAndScrollEventListeners(),this.setupControlSizeWatcher()},removeHandlers:function(){this.removeControlResizeAndScrollEventListeners(),this.removeControlSizeWatcher()},setupControlResizeAndScrollEventListeners:function(){var e=this.instance.getControl();this.controlResizeAndScrollEventListeners||(this.controlResizeAndScrollEventListeners={remove:E(e,this.updateMenuContainerOffset)})},setupControlSizeWatcher:function(){var e=this,t=this.instance.getControl();this.controlSizeWatcher||(this.controlSizeWatcher={remove:k(t,(function(){e.updateWidth(),e.updateMenuContainerOffset()}))})},removeControlResizeAndScrollEventListeners:function(){this.controlResizeAndScrollEventListeners&&(this.controlResizeAndScrollEventListeners.remove(),this.controlResizeAndScrollEventListeners=null)},removeControlSizeWatcher:function(){this.controlSizeWatcher&&(this.controlSizeWatcher.remove(),this.controlSizeWatcher=null)},updateWidth:function(){var e=this.instance,t=this.$el,n=e.getControl().getBoundingClientRect();t.style.width=n.width+"px"},updateMenuContainerOffset:function(){var e=this.instance,t=e.getControl(),n=this.$el,r=t.getBoundingClientRect(),o=n.getBoundingClientRect(),i="bottom"===e.menu.placement?r.height:0,a=Math.round(r.left-o.left)+"px",s=Math.round(r.top-o.top+i)+"px";this.$refs.menu.$refs["menu-container"].style[W(["transform","webkitTransform","MozTransform","msTransform"],(function(e){return e in document.body.style}))]="translate(".concat(a,", ").concat(s,")")}},render:function(){var e=arguments[0],t=this.instance;return e("div",{class:["vue-treeselect__portal-target",t.wrapperClass],style:{zIndex:t.zIndex},attrs:{"data-instance-id":t.getInstanceId()}},[e(nt,{ref:"menu"})])},destroyed:function(){this.removeHandlers()}},lt={name:"vue-treeselect--menu-portal",created:function(){this.portalTarget=null},mounted:function(){this.setup()},destroyed:function(){this.teardown()},methods:{setup:function(){var e=document.createElement("div");document.body.appendChild(e),this.portalTarget=new ot.a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(n,!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({el:e,parent:this},st))},teardown:function(){document.body.removeChild(this.portalTarget.$el),this.portalTarget.$el.innerHTML="",this.portalTarget.$destroy(),this.portalTarget=null}},render:function(){return at||(at=(0,arguments[0])("div",{class:"vue-treeselect__menu-placeholder"})),at}},ct=me(lt,void 0,void 0,!1,null,null,null);ct.options.__file="src/components/MenuPortal.vue";var ut=ct.exports,dt={name:"vue-treeselect",mixins:[fe],computed:{wrapperClass:function(){return{"vue-treeselect":!0,"vue-treeselect--single":this.single,"vue-treeselect--multi":this.multiple,"vue-treeselect--searchable":this.searchable,"vue-treeselect--disabled":this.disabled,"vue-treeselect--focused":this.trigger.isFocused,"vue-treeselect--has-value":this.hasValue,"vue-treeselect--open":this.menu.isOpen,"vue-treeselect--open-above":"top"===this.menu.placement,"vue-treeselect--open-below":"bottom"===this.menu.placement,"vue-treeselect--branch-nodes-disabled":this.disableBranchNodes,"vue-treeselect--append-to-body":this.appendToBody}}},render:function(){var e=arguments[0];return e("div",{ref:"wrapper",class:this.wrapperClass},[e(ye),e(He,{ref:"control"}),this.appendToBody?e(ut,{ref:"portal"}):e(nt,{ref:"menu"})])}},pt=me(dt,void 0,void 0,!1,null,null,null);pt.options.__file="src/components/Treeselect.vue";var ft=pt.exports;n(15),n.d(t,"VERSION",(function(){return ht})),n.d(t,"Treeselect",(function(){return ft})),n.d(t,"treeselectMixin",(function(){return fe})),n.d(t,"LOAD_ROOT_OPTIONS",(function(){return X})),n.d(t,"LOAD_CHILDREN_OPTIONS",(function(){return J})),n.d(t,"ASYNC_SEARCH",(function(){return K})),t.default=ft;var ht="0.4.0"}])},933:e=>{var t=/^(attrs|props|on|nativeOn|class|style|hook)$/;function n(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}}e.exports=function(e){return e.reduce((function(e,r){var o,i,a,s,l;for(a in r)if(o=e[a],i=r[a],o&&t.test(a))if("class"===a&&("string"==typeof o&&(l=o,e[a]=o={},o[l]=!0),"string"==typeof i&&(l=i,r[a]=i={},i[l]=!0)),"on"===a||"nativeOn"===a||"hook"===a)for(s in i)o[s]=n(o[s],i[s]);else if(Array.isArray(o))e[a]=o.concat(i);else if(Array.isArray(i))e[a]=[o].concat(i);else for(s in i)o[s]=i[s];else e[a]=r[a];return e}),{})}},390:e=>{"use strict";e.exports=function(e,t){var n=t.length,r=e.length;if(r>n)return!1;if(r===n)return e===t;e:for(var o=0,i=0;o<r;o++){for(var a=e.charCodeAt(o);i<n;)if(t.charCodeAt(i++)===a)continue e;return!1}return!0}},141:e=>{e.exports=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}},998:(e,t,n)=>{e.exports=function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return o(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var i=void 0,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){const r=e("./utils"),o=function(){"use strict";const e=r.stringToArray,t=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],n=["Zeroth","First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Ninth","Tenth","Eleventh","Twelfth","Thirteenth","Fourteenth","Fifteenth","Sixteenth","Seventeenth","Eighteenth","Nineteenth"],o=["Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety","Hundred"],i=["Thousand","Million","Billion","Trillion"];const a={};t.forEach((function(e,t){a[e.toLowerCase()]=t})),n.forEach((function(e,t){a[e.toLowerCase()]=t})),o.forEach((function(e,t){const n=e.toLowerCase();a[n]=10*(t+2),a[n.substring(0,e.length-1)+"ieth"]=a[n]})),a.hundredth=100,i.forEach((function(e,t){const n=e.toLowerCase(),r=Math.pow(10,3*(t+1));a[n]=r,a[n+"th"]=r}));const s=[[1e3,"m"],[900,"cm"],[500,"d"],[400,"cd"],[100,"c"],[90,"xc"],[50,"l"],[40,"xl"],[10,"x"],[9,"ix"],[5,"v"],[4,"iv"],[1,"i"]],l={M:1e3,D:500,C:100,L:50,X:10,V:5,I:1};function c(e){for(var t=0;t<s.length;t++){const n=s[t];if(e>=n[0])return n[1]+c(e-n[0])}return""}function u(e,t){if(void 0!==e)return f(e=Math.floor(e),v(t))}const d={DECIMAL:"decimal",LETTERS:"letters",ROMAN:"roman",WORDS:"words",SEQUENCE:"sequence"},p={UPPER:"upper",LOWER:"lower",TITLE:"title"};function f(r,a){let s;const l=r<0;switch(r=Math.abs(r),a.primary){case d.LETTERS:s=function(e,t){for(var n=[],r=t.charCodeAt(0);e>0;)n.unshift(String.fromCharCode((e-1)%26+r)),e=Math.floor((e-1)/26);return n.join("")}(r,a.case===p.UPPER?"A":"a");break;case d.ROMAN:s=c(r),a.case===p.UPPER&&(s=s.toUpperCase());break;case d.WORDS:s=function(e,r){var a=function(e,r,s){var l="";if(e<=19)l=(r?" and ":"")+(s?n[e]:t[e]);else if(e<100){const t=Math.floor(e/10),n=e%10;l=(r?" and ":"")+o[t-2],n>0?l+="-"+a(n,!1,s):s&&(l=l.substring(0,l.length-1)+"ieth")}else if(e<1e3){const n=Math.floor(e/100),o=e%100;l=(r?", ":"")+t[n]+" Hundred",o>0?l+=a(o,!0,s):s&&(l+="th")}else{var c=Math.floor(Math.log10(e)/3);c>i.length&&(c=i.length);const t=Math.pow(10,3*c),n=Math.floor(e/t),o=e-n*t;l=(r?", ":"")+a(n,!1,!1)+" "+i[c-1],o>0?l+=a(o,!0,s):s&&(l+="th")}return l};return a(e,!1,r)}(r,a.ordinal),a.case===p.UPPER?s=s.toUpperCase():a.case===p.LOWER&&(s=s.toLowerCase());break;case d.DECIMAL:s=""+r;var u=a.mandatoryDigits-s.length;if(u>0){var f=new Array(u+1).join("0");s=f+s}if(48!==a.zeroCode&&(s=e(s).map((e=>String.fromCodePoint(e.codePointAt(0)+a.zeroCode-48))).join("")),a.regular)for(let e=Math.floor((s.length-1)/a.groupingSeparators.position);e>0;e--){const t=s.length-e*a.groupingSeparators.position;s=s.substr(0,t)+a.groupingSeparators.character+s.substr(t)}else a.groupingSeparators.reverse().forEach((e=>{const t=s.length-e.position;s=s.substr(0,t)+e.character+s.substr(t)}));if(a.ordinal){var h={1:"st",2:"nd",3:"rd"}[s[s.length-1]];(!h||s.length>1&&"1"===s[s.length-2])&&(h="th"),s+=h}break;case d.SEQUENCE:throw{code:"D3130",value:a.token}}return l&&(s="-"+s),s}const h=[48,1632,1776,1984,2406,2534,2662,2790,2918,3046,3174,3302,3430,3558,3664,3792,3872,4160,4240,6112,6160,6470,6608,6784,6800,6992,7088,7232,7248,42528,43216,43264,43472,43504,43600,44016,65296];function v(t){const n={type:"integer",primary:d.DECIMAL,case:p.LOWER,ordinal:!1};let r,o;const i=t.lastIndexOf(";");switch(-1===i?r=t:(r=t.substring(0,i),o=t.substring(i+1),"o"===o[0]&&(n.ordinal=!0)),r){case"A":n.case=p.UPPER;case"a":n.primary=d.LETTERS;break;case"I":n.case=p.UPPER;case"i":n.primary=d.ROMAN;break;case"W":n.case=p.UPPER,n.primary=d.WORDS;break;case"Ww":n.case=p.TITLE,n.primary=d.WORDS;break;case"w":n.primary=d.WORDS;break;default:{let t=null,o=0,i=0,a=[],s=0;if(e(r).map((e=>e.codePointAt(0))).reverse().forEach((e=>{let n=!1;for(let r=0;r<h.length;r++){const i=h[r];if(e>=i&&e<=i+9){if(n=!0,o++,s++,null===t)t=i;else if(i!==t)throw{code:"D3131"};break}}n||(35===e?(s++,i++):a.push({position:s,character:String.fromCodePoint(e)}))})),o>0){n.primary=d.DECIMAL,n.zeroCode=t,n.mandatoryDigits=o,n.optionalDigits=i;const e=function(e){if(0===e.length)return 0;const t=e[0].character;for(let n=1;n<e.length;n++)if(e[n].character!==t)return 0;const n=e.map((e=>e.position)),r=function(e,t){return 0===t?e:r(t,e%t)},o=n.reduce(r);for(let e=1;e<=n.length;e++)if(-1===n.indexOf(e*o))return 0;return o}(a);e>0?(n.regular=!0,n.groupingSeparators={position:e,character:a[0].character}):(n.regular=!1,n.groupingSeparators=a)}else n.primary=d.SEQUENCE,n.token=r}}return n}const m={Y:"1",M:"1",D:"1",d:"1",F:"n",W:"1",w:"1",X:"1",x:"1",H:"1",h:"1",P:"n",m:"01",s:"01",f:"1",Z:"01:01",z:"01:01",C:"n",E:"n"};function g(e){var t=[];const n={type:"datetime",parts:t},r=function(n,r){if(r>n){let o=e.substring(n,r);o=o.split("]]").join("]"),t.push({type:"literal",value:o})}};for(var o=0,i=0;i<e.length;){if("["===e.charAt(i)){if("["===e.charAt(i+1)){r(o,i),t.push({type:"literal",value:"["}),o=i+=2;continue}if(r(o,i),o=i,-1===(i=e.indexOf("]",o)))throw{code:"D3135"};let n=e.substring(o+1,i);n=n.split(/\s+/).join("");var a,s={type:"marker",component:n.charAt(0)},l=n.lastIndexOf(",");if(-1!==l){const e=n.substring(l+1),t=e.indexOf("-");let r,o;const i=function(e){return void 0===e||"*"===e?void 0:parseInt(e)};-1===t?r=e:(r=e.substring(0,t),o=e.substring(t+1));const c={min:i(r),max:i(o)};s.width=c,a=n.substring(1,l)}else a=n.substring(1);if(1===a.length)s.presentation1=a;else if(a.length>1){var c=a.charAt(a.length-1);-1!=="atco".indexOf(c)?(s.presentation2=c,"o"===c&&(s.ordinal=!0),s.presentation1=a.substring(0,a.length-1)):s.presentation1=a}else s.presentation1=m[s.component];if(void 0===s.presentation1)throw{code:"D3132",value:s.component};if("n"===s.presentation1[0])s.names=p.LOWER;else if("N"===s.presentation1[0])"n"===s.presentation1[1]?s.names=p.TITLE:s.names=p.UPPER;else if(-1!=="YMDdFWwXxHhmsf".indexOf(s.component)){var u=s.presentation1;if(s.presentation2&&(u+=";"+s.presentation2),s.integerFormat=v(u),s.width&&void 0!==s.width.min&&s.integerFormat.mandatoryDigits<s.width.min&&(s.integerFormat.mandatoryDigits=s.width.min),"Y"===s.component)if(s.n=-1,s.width&&void 0!==s.width.max)s.n=s.width.max,s.integerFormat.mandatoryDigits=s.n;else{var d=s.integerFormat.mandatoryDigits+s.integerFormat.optionalDigits;d>=2&&(s.n=d)}}"Z"!==s.component&&"z"!==s.component||(s.integerFormat=v(s.presentation1)),t.push(s),o=i+1}i++}return r(o,i),n}const y=["","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],b=["January","February","March","April","May","June","July","August","September","October","November","December"],w=864e5,x=function(e){const t=Date.UTC(e.year,e.month);var n=new Date(t).getUTCDay();return 0===n&&(n=7),n>4?t+(8-n)*w:t-(n-1)*w},O=function(e,t){return{year:e,month:t,nextMonth:function(){return 11===t?O(e+1,0):O(e,t+1)},previousMonth:function(){return 0===t?O(e-1,11):O(e,t-1)},nextYear:function(){return O(e+1,t)},previousYear:function(){return O(e-1,t)}}},S=function(e,t){return(t-e)/6048e5+1},k=(e,t)=>{let n;switch(t){case"Y":n=e.getUTCFullYear();break;case"M":n=e.getUTCMonth()+1;break;case"D":n=e.getUTCDate();break;case"d":n=(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())-Date.UTC(e.getUTCFullYear(),0))/w+1;break;case"F":n=e.getUTCDay(),0===n&&(n=7);break;case"W":{const t=O(e.getUTCFullYear(),0),r=x(t),o=Date.UTC(t.year,e.getUTCMonth(),e.getUTCDate());let i=S(r,o);if(i>52)o>=x(t.nextYear())&&(i=1);else if(i<1){const e=x(t.previousYear());i=S(e,o)}n=Math.floor(i);break}case"w":{const t=O(e.getUTCFullYear(),e.getUTCMonth()),r=x(t),o=Date.UTC(t.year,t.month,e.getUTCDate());let i=S(r,o);if(i>4)o>=x(t.nextMonth())&&(i=1);else if(i<1){const e=x(t.previousMonth());i=S(e,o)}n=Math.floor(i);break}case"X":{const t=O(e.getUTCFullYear(),0),r=x(t),o=x(t.nextYear()),i=e.getTime();n=i<r?t.year-1:i>=o?t.year+1:t.year;break}case"x":{const t=O(e.getUTCFullYear(),e.getUTCMonth()),r=x(t),o=t.nextMonth(),i=x(o),a=e.getTime();n=a<r?t.previousMonth().month+1:a>=i?o.month+1:t.month+1;break}case"H":n=e.getUTCHours();break;case"h":n=e.getUTCHours(),n%=12,0===n&&(n=12);break;case"P":n=e.getUTCHours()>=12?"pm":"am";break;case"m":n=e.getUTCMinutes();break;case"s":n=e.getUTCSeconds();break;case"f":n=e.getUTCMilliseconds();break;case"Z":case"z":break;case"C":case"E":n="ISO"}return n};let _=null;function E(e,t,n){var r=0,o=0;if(void 0!==n){const e=parseInt(n);r=Math.floor(e/100),o=e%100}let i;void 0===t?(null===_&&(_=g("[Y0001]-[M01]-[D01]T[H01]:[m01]:[s01].[f001][Z01:01t]")),i=_):i=g(t);const a=new Date(e+60*(60*r+o)*1e3);let s="";return i.parts.forEach((function(e){"literal"===e.type?s+=e.value:s+=function(e,t){var n=k(e,t.component);if(-1!=="YMDdFWwXxHhms".indexOf(t.component))if("Y"===t.component&&-1!==t.n&&(n%=Math.pow(10,t.n)),t.names){if("M"===t.component||"x"===t.component)n=b[n-1];else{if("F"!==t.component)throw{code:"D3133",value:t.component};n=y[n]}t.names===p.UPPER?n=n.toUpperCase():t.names===p.LOWER&&(n=n.toLowerCase()),t.width&&n.length>t.width.max&&(n=n.substring(0,t.width.max))}else n=f(n,t.integerFormat);else if("f"===t.component)n=f(n,t.integerFormat);else if("Z"===t.component||"z"===t.component){const e=100*r+o;if(t.integerFormat.regular)n=f(e,t.integerFormat);else{const i=t.integerFormat.mandatoryDigits;if(1===i||2===i)n=f(r,t.integerFormat),0!==o&&(n+=":"+u(o,"00"));else{if(3!==i&&4!==i)throw{code:"D3134",value:i};n=f(e,t.integerFormat)}}e>=0&&(n="+"+n),"z"===t.component&&(n="GMT"+n),0===e&&"t"===t.presentation2&&(n="Z")}return n}(a,e)})),s}function C(e){var t={};if("datetime"===e.type)t.type="datetime",t.parts=e.parts.map((function(e){var t={};if("literal"===e.type)t.regex=e.value.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");else if("Z"===e.component||"z"===e.component){let n;Array.isArray(e.integerFormat.groupingSeparators)||(n=e.integerFormat.groupingSeparators),t.regex="","z"===e.component&&(t.regex="GMT"),t.regex+="[-+][0-9]+",n&&(t.regex+=n.character+"[0-9]+"),t.parse=function(t){"z"===e.component&&(t=t.substring(3));let r=0,o=0;return n?(r=Number.parseInt(t.substring(0,t.indexOf(n.character))),o=Number.parseInt(t.substring(t.indexOf(n.character)+1))):t.length-1<=2?r=Number.parseInt(t):(r=Number.parseInt(t.substring(0,3)),o=Number.parseInt(t.substring(3))),60*r+o}}else if(e.integerFormat)t=C(e.integerFormat);else{t.regex="[a-zA-Z]+";var n={};if("M"===e.component||"x"===e.component)b.forEach((function(t,r){e.width&&e.width.max?n[t.substring(0,e.width.max)]=r+1:n[t]=r+1}));else if("F"===e.component)y.forEach((function(t,r){r>0&&(e.width&&e.width.max?n[t.substring(0,e.width.max)]=r:n[t]=r)}));else{if("P"!==e.component)throw{code:"D3133",value:e.component};n={am:0,AM:0,pm:1,PM:1}}t.parse=function(e){return n[e]}}return t.component=e.component,t}));else{t.type="integer";const n=e.case===p.UPPER;switch(e.primary){case d.LETTERS:t.regex=n?"[A-Z]+":"[a-z]+",t.parse=function(e){return function(e,t){for(var n=t.charCodeAt(0),r=0,o=0;o<e.length;o++)r+=(e.charCodeAt(e.length-o-1)-n+1)*Math.pow(26,o);return r}(e,n?"A":"a")};break;case d.ROMAN:t.regex=n?"[MDCLXVI]+":"[mdclxvi]+",t.parse=function(e){return function(e){for(var t=0,n=1,r=e.length-1;r>=0;r--){const o=e[r],i=l[o];i<n?t-=i:(n=i,t+=i)}return t}(n?e:e.toUpperCase())};break;case d.WORDS:t.regex="(?:"+Object.keys(a).concat("and","[\\-, ]").join("|")+")+",t.parse=function(e){return function(e){const t=e.split(/,\s|\sand\s|[\s\\-]/).map((e=>a[e]));let n=[0];return t.forEach((e=>{if(e<100){let t=n.pop();t>=1e3&&(n.push(t),t=0),n.push(t+e)}else n.push(n.pop()*e)})),n.reduce(((e,t)=>e+t),0)}(e.toLowerCase())};break;case d.DECIMAL:t.regex="[0-9]+",e.ordinal&&(t.regex+="(?:th|st|nd|rd)"),t.parse=function(t){let n=t;return e.ordinal&&(n=t.substring(0,t.length-2)),e.regular?n=n.split(",").join(""):e.groupingSeparators.forEach((e=>{n=n.split(e.character).join("")})),48!==e.zeroCode&&(n=n.split("").map((t=>String.fromCodePoint(t.codePointAt(0)-e.zeroCode+48))).join("")),parseInt(n)};break;case d.SEQUENCE:throw{code:"D3130",value:e.token}}}return t}function T(e,t){const n=C(g(t)),r="^"+n.parts.map((e=>"("+e.regex+")")).join("")+"$";var o=new RegExp(r,"i").exec(e);if(null!==o){const e=161,t=130,r=84,a=72,s=23,l=47,c={};for(let e=1;e<o.length;e++){const t=n.parts[e-1];t.parse&&(c[t.component]=t.parse(o[e]))}if(0===Object.getOwnPropertyNames(c).length)return;let u=0;const d=e=>{u<<=1,u+=e?1:0},p=e=>!(~e&u||!(e&u));"YXMxWwdD".split("").forEach((e=>d(c[e])));const f=!p(e)&&p(t),h=p(r),v=!h&&p(a);u=0,"PHhmsf".split("").forEach((e=>d(c[e])));const m=!p(s)&&p(l),g=(f?"YD":h?"XxwF":v?"XWF":"YMD")+(m?"Phmsf":"Hmsf"),y=this.environment.timestamp;let b=!1,w=!1;if(g.split("").forEach((e=>{if(void 0===c[e])b?(c[e]=-1!=="MDd".indexOf(e)?1:0,w=!0):c[e]=k(y,e);else if(b=!0,w)throw{code:"D3136"}})),c.M>0?c.M-=1:c.M=0,f){const e=Date.UTC(c.Y,0),t=1e3*(c.d-1)*60*60*24,n=new Date(e+t);c.M=n.getUTCMonth(),c.D=n.getUTCDate()}if(h)throw{code:"D3136"};if(v)throw{code:"D3136"};m&&(c.H=12===c.h?0:c.h,1===c.P&&(c.H+=12));var i=Date.UTC(c.Y,c.M,c.D,c.H,c.m,c.s,c.f);return(c.Z||c.z)&&(i-=60*(c.Z||c.z)*1e3),i}}var D=new RegExp("^\\d{4}(-[01]\\d)*(-[0-3]\\d)*(T[0-2]\\d:[0-5]\\d:[0-5]\\d)*(\\.\\d+)?([+-][0-2]\\d:?[0-5]\\d|Z)?$");return{formatInteger:u,parseInteger:function(e,t){if(void 0!==e)return C(v(t)).parse(e)},fromMillis:function(e,t,n){if(void 0!==e)return E.call(this,e,t,n)},toMillis:function(e,t){if(void 0!==e){if(void 0===t){if(!D.test(e))throw{stack:(new Error).stack,code:"D3110",value:e};return Date.parse(e)}return T.call(this,e,t)}}}}();t.exports=o},{"./utils":6}],2:[function(e,t,r){(function(n){(function(){var r=e("./utils");const o=(()=>{"use strict";var e=r.isNumeric,t=r.isArrayOfStrings,o=r.isArrayOfNumbers,i=r.createSequence,a=r.isSequence,s=r.isFunction,l=r.isLambda,c=r.isIterable,u=r.getFunctionArity,d=r.isDeepEqual,p=r.stringToArray;function f(e,t,n){if(void 0!==e){var r=p(e),o=r.length;if(o+t<0&&(t=0),void 0!==n){if(n<=0)return"";var i=t>=0?t+n:o+t+n;return r.slice(t,i).join("")}return r.slice(t).join("")}}function h(e){if(void 0!==e)return p(e).length}function*v(e,t){var n=e.apply(this,[t]);if(c(n)&&(n=yield*n),n&&"number"!=typeof n.start&&"number"!==n.end&&!Array.isArray(n.groups)&&!s(n.next))throw{code:"T1010",stack:(new Error).stack};return n}function m(e,t){var n;if(void 0!==e){if(t){var r=e.toString().split("e");e=+(r[0]+"e"+(r[1]?+r[1]+t:t))}var o=(n=Math.round(e))-e;return.5===Math.abs(o)&&1===Math.abs(n%2)&&(n-=1),t&&(r=n.toString().split("e"),n=+(r[0]+"e"+(r[1]?+r[1]-t:-t))),Object.is(n,-0)&&(n=0),n}}function g(t){if(void 0!==t){var n=!1;return Array.isArray(t)?1===t.length?n=g(t[0]):t.length>1&&(n=t.filter((function(e){return g(e)})).length>0):"string"==typeof t?t.length>0&&(n=!0):e(t)?0!==t&&(n=!0):null!==t&&"object"==typeof t?Object.keys(t).length>0&&(n=!0):"boolean"==typeof t&&!0===t&&(n=!0),n}}function y(e,t,n,r){var o=[t],i=u(e);return i>=2&&o.push(n),i>=3&&o.push(r),o}function b(e,t){return void 0===e?t:void 0===t?e:(Array.isArray(e)||(e=i(e)),Array.isArray(t)||(t=[t]),e.concat(t))}return{sum:function(e){if(void 0!==e){var t=0;return e.forEach((function(e){t+=e})),t}},count:function(e){return void 0===e?0:e.length},max:function(e){if(void 0!==e&&0!==e.length)return Math.max.apply(Math,e)},min:function(e){if(void 0!==e&&0!==e.length)return Math.min.apply(Math,e)},average:function(e){if(void 0!==e&&0!==e.length){var t=0;return e.forEach((function(e){t+=e})),t/e.length}},string:function(t,n=!1){if(void 0!==t){var r;if("string"==typeof t)r=t;else if(s(t))r="";else{if("number"==typeof t&&!isFinite(t))throw{code:"D3001",value:t,stack:(new Error).stack};var o=n?2:0;Array.isArray(t)&&t.outerWrapper&&(t=t[0]),r=JSON.stringify(t,(function(t,n){return null!=n&&n.toPrecision&&e(n)?Number(n.toPrecision(15)):n&&s(n)?"":n}),o)}return r}},substring:f,substringBefore:function(e,t){if(void 0!==e){var n=e.indexOf(t);return n>-1?e.substr(0,n):e}},substringAfter:function(e,t){if(void 0!==e){var n=e.indexOf(t);return n>-1?e.substr(n+t.length):e}},lowercase:function(e){if(void 0!==e)return e.toLowerCase()},uppercase:function(e){if(void 0!==e)return e.toUpperCase()},length:h,trim:function(e){if(void 0!==e){var t=e.replace(/[ \t\n\r]+/gm," ");return" "===t.charAt(0)&&(t=t.substring(1))," "===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t}},pad:function(e,t,n){if(void 0!==e){var r;void 0!==n&&0!==n.length||(n=" ");var o=Math.abs(t)-h(e);if(o>0){var i=new Array(o+1).join(n);n.length>1&&(i=f(i,0,o)),r=t>0?e+i:i+e}else r=e;return r}},match:function*(e,t,n){if(void 0!==e){if(n<0)throw{stack:(new Error).stack,value:n,code:"D3040",index:3};var r=i();if(void 0===n||n>0){var o=0,a=yield*v(t,e);if(void 0!==a)for(;void 0!==a&&(void 0===n||o<n);)r.push({match:a.match,index:a.start,groups:a.groups}),a=yield*v(a.next),o++}return r}},contains:function*(e,t){if(void 0!==e)return"string"==typeof t?-1!==e.indexOf(t):void 0!==(yield*v(t,e))},replace:function*(e,t,n,r){if(void 0!==e){var o;if(""===t)throw{code:"D3010",stack:(new Error).stack,value:t,index:2};if(r<0)throw{code:"D3011",stack:(new Error).stack,value:r,index:4};o="string"==typeof n?function(e){for(var t="",r=0,o=n.indexOf("$",r);-1!==o&&r<n.length;){t+=n.substring(r,o),r=o+1;var i=n.charAt(r);if("$"===i)t+="$",r++;else if("0"===i)t+=e.match,r++;else{var a;if(a=0===e.groups.length?1:Math.floor(Math.log(e.groups.length)*Math.LOG10E)+1,o=parseInt(n.substring(r,r+a),10),a>1&&o>e.groups.length&&(o=parseInt(n.substring(r,r+a-1),10)),isNaN(o))t+="$";else{if(e.groups.length>0){var s=e.groups[o-1];void 0!==s&&(t+=s)}r+=o.toString().length}}o=n.indexOf("$",r)}return t+n.substring(r)}:n;var i="",a=0;if(void 0===r||r>0){var s=0;if("string"==typeof t){for(var l=e.indexOf(t,a);-1!==l&&(void 0===r||s<r);)i+=e.substring(a,l),i+=n,a=l+t.length,s++,l=e.indexOf(t,a);i+=e.substring(a)}else{var u=yield*v(t,e);if(void 0!==u){for(;void 0!==u&&(void 0===r||s<r);){i+=e.substring(a,u.start);var d=o.apply(this,[u]);if(c(d)&&(d=yield*d),"string"!=typeof d)throw{code:"D3012",stack:(new Error).stack,value:d};i+=d,a=u.start+u.match.length,s++,u=yield*v(u.next)}i+=e.substring(a)}else i=e}}else i=e;return i}},split:function*(e,t,n){if(void 0!==e){if(n<0)throw{code:"D3020",stack:(new Error).stack,value:n,index:3};var r=[];if(void 0===n||n>0)if("string"==typeof t)r=e.split(t,n);else{var o=0,i=yield*v(t,e);if(void 0!==i){for(var a=0;void 0!==i&&(void 0===n||o<n);)r.push(e.substring(a,i.start)),a=i.end,i=yield*v(i.next),o++;(void 0===n||o<n)&&r.push(e.substring(a))}else r.push(e)}return r}},join:function(e,t){if(void 0!==e)return void 0===t&&(t=""),e.join(t)},formatNumber:function(e,t,n){if(void 0!==e){var r={"decimal-separator":".","grouping-separator":",","exponent-separator":"e",infinity:"Infinity","minus-sign":"-",NaN:"NaN",percent:"%","per-mille":"‰","zero-digit":"0",digit:"#","pattern-separator":";"};void 0!==n&&Object.keys(n).forEach((function(e){r[e]=n[e]}));for(var o=[],i=r["zero-digit"].charCodeAt(0),a=i;a<i+10;a++)o.push(String.fromCharCode(a));var s=o.concat([r["decimal-separator"],r["exponent-separator"],r["grouping-separator"],r.digit,r["pattern-separator"]]),l=t.split(r["pattern-separator"]);if(l.length>2)throw{code:"D3080",stack:(new Error).stack};var c=l.map((function(e){var t,n,o,i,a=function(){for(var t,n=0;n<e.length;n++)if(t=e.charAt(n),-1!==s.indexOf(t)&&t!==r["exponent-separator"])return e.substring(0,n)}(),l=function(){for(var t,n=e.length-1;n>=0;n--)if(t=e.charAt(n),-1!==s.indexOf(t)&&t!==r["exponent-separator"])return e.substring(n+1)}(),c=e.substring(a.length,e.length-l.length),u=e.indexOf(r["exponent-separator"],a.length);-1===u||u>e.length-l.length?(t=c,n=void 0):(t=c.substring(0,u),n=c.substring(u+1));var d=t.indexOf(r["decimal-separator"]);return-1===d?(o=t,i=l):(o=t.substring(0,d),i=t.substring(d+1)),{prefix:a,suffix:l,activePart:c,mantissaPart:t,exponentPart:n,integerPart:o,fractionalPart:i,subpicture:e}}));c.forEach((function(e){var t,n,i=e.subpicture,a=i.indexOf(r["decimal-separator"]);a!==i.lastIndexOf(r["decimal-separator"])&&(t="D3081"),i.indexOf(r.percent)!==i.lastIndexOf(r.percent)&&(t="D3082"),i.indexOf(r["per-mille"])!==i.lastIndexOf(r["per-mille"])&&(t="D3083"),-1!==i.indexOf(r.percent)&&-1!==i.indexOf(r["per-mille"])&&(t="D3084");var l=!1;for(n=0;n<e.mantissaPart.length;n++){var c=e.mantissaPart.charAt(n);if(-1!==o.indexOf(c)||c===r.digit){l=!0;break}}l||(t="D3085"),-1!==e.activePart.split("").map((function(e){return-1===s.indexOf(e)?"p":"a"})).join("").indexOf("p")&&(t="D3086"),-1!==a?i.charAt(a-1)!==r["grouping-separator"]&&i.charAt(a+1)!==r["grouping-separator"]||(t="D3087"):e.integerPart.charAt(e.integerPart.length-1)===r["grouping-separator"]&&(t="D3088"),-1!==i.indexOf(r["grouping-separator"]+r["grouping-separator"])&&(t="D3089");var u=e.integerPart.indexOf(r.digit);-1!==u&&e.integerPart.substring(0,u).split("").filter((function(e){return o.indexOf(e)>-1})).length>0&&(t="D3090"),-1!==(u=e.fractionalPart.lastIndexOf(r.digit))&&e.fractionalPart.substring(u).split("").filter((function(e){return o.indexOf(e)>-1})).length>0&&(t="D3091");var d="string"==typeof e.exponentPart;if(d&&e.exponentPart.length>0&&(-1!==i.indexOf(r.percent)||-1!==i.indexOf(r["per-mille"]))&&(t="D3092"),d&&(0===e.exponentPart.length||e.exponentPart.split("").filter((function(e){return-1===o.indexOf(e)})).length>0)&&(t="D3093"),t)throw{code:t,stack:(new Error).stack}}));var u,d,p,f,h=c.map((function(e){var t=function(t,n){for(var i=[],a=t.indexOf(r["grouping-separator"]);-1!==a;){var s=(n?t.substring(0,a):t.substring(a)).split("").filter((function(e){return-1!==o.indexOf(e)||e===r.digit})).length;i.push(s),a=e.integerPart.indexOf(r["grouping-separator"],a+1)}return i},n=t(e.integerPart),i=function(e){if(0===e.length)return 0;for(var t=function(e,n){return 0===n?e:t(n,e%n)},n=e.reduce(t),r=1;r<=e.length;r++)if(-1===e.indexOf(r*n))return 0;return n}(n),a=t(e.fractionalPart,!0),s=e.integerPart.split("").filter((function(e){return-1!==o.indexOf(e)})).length,l=s,c=e.fractionalPart.split(""),u=c.filter((function(e){return-1!==o.indexOf(e)})).length,d=c.filter((function(e){return-1!==o.indexOf(e)||e===r.digit})).length,p="string"==typeof e.exponentPart;0===s&&0===d&&(p?(u=1,d=1):s=1),p&&0===s&&-1!==e.integerPart.indexOf(r.digit)&&(s=1),0===s&&0===u&&(u=1);var f=0;return p&&(f=e.exponentPart.split("").filter((function(e){return-1!==o.indexOf(e)})).length),{integerPartGroupingPositions:n,regularGrouping:i,minimumIntegerPartSize:s,scalingFactor:l,prefix:e.prefix,fractionalPartGroupingPositions:a,minimumFactionalPartSize:u,maximumFactionalPartSize:d,minimumExponentSize:f,suffix:e.suffix,picture:e.subpicture}})),v=r["minus-sign"],g=r["zero-digit"],y=r["decimal-separator"],b=r["grouping-separator"];if(1===h.length&&(h.push(JSON.parse(JSON.stringify(h[0]))),h[1].prefix=v+h[1].prefix),d=-1!==(u=e>=0?h[0]:h[1]).picture.indexOf(r.percent)?100*e:-1!==u.picture.indexOf(r["per-mille"])?1e3*e:e,0===u.minimumExponentSize)p=d;else{var w=Math.pow(10,u.scalingFactor),x=Math.pow(10,u.scalingFactor-1);for(p=d,f=0;p<x;)p*=10,f-=1;for(;p>w;)p/=10,f+=1}var O=function(e,t){var n=Math.abs(e).toFixed(t);return"0"!==g&&(n=n.split("").map((function(e){return e>="0"&&e<="9"?o[e.charCodeAt(0)-48]:e})).join("")),n},S=O(m(p,u.maximumFactionalPartSize),u.maximumFactionalPartSize),k=S.indexOf(".");for(-1===k?S+=y:S=S.replace(".",y);S.charAt(0)===g;)S=S.substring(1);for(;S.charAt(S.length-1)===g;)S=S.substring(0,S.length-1);k=S.indexOf(y);var _=u.minimumIntegerPartSize-k,E=u.minimumFactionalPartSize-(S.length-k-1);if(S=(_>0?new Array(_+1).join(g):"")+S,S+=E>0?new Array(E+1).join(g):"",k=S.indexOf(y),u.regularGrouping>0)for(var C=Math.floor((k-1)/u.regularGrouping),T=1;T<=C;T++)S=[S.slice(0,k-T*u.regularGrouping),b,S.slice(k-T*u.regularGrouping)].join("");else u.integerPartGroupingPositions.forEach((function(e){S=[S.slice(0,k-e),b,S.slice(k-e)].join(""),k++}));if(k=S.indexOf(y),u.fractionalPartGroupingPositions.forEach((function(e){S=[S.slice(0,e+k+1),b,S.slice(e+k+1)].join("")})),k=S.indexOf(y),-1!==u.picture.indexOf(y)&&k!==S.length-1||(S=S.substring(0,S.length-1)),void 0!==f){var D=O(f,0);(_=u.minimumExponentSize-D.length)>0&&(D=new Array(_+1).join(g)+D),S=S+r["exponent-separator"]+(f<0?v:"")+D}return S=u.prefix+S+u.suffix}},formatBase:function(e,t){if(void 0!==e){if(e=m(e),(t=void 0===t?10:m(t))<2||t>36)throw{code:"D3100",stack:(new Error).stack,value:t};return e.toString(t)}},number:function(e){var t;if(void 0!==e){if("number"==typeof e)t=e;else if("string"==typeof e&&/^-?[0-9]+(\.[0-9]+)?([Ee][-+]?[0-9]+)?$/.test(e)&&!isNaN(parseFloat(e))&&isFinite(e))t=parseFloat(e);else if(!0===e)t=1;else{if(!1!==e)throw{code:"D3030",value:e,stack:(new Error).stack,index:1};t=0}return t}},floor:function(e){if(void 0!==e)return Math.floor(e)},ceil:function(e){if(void 0!==e)return Math.ceil(e)},round:m,abs:function(e){if(void 0!==e)return Math.abs(e)},sqrt:function(e){if(void 0!==e){if(e<0)throw{stack:(new Error).stack,code:"D3060",index:1,value:e};return Math.sqrt(e)}},power:function(e,t){var n;if(void 0!==e){if(n=Math.pow(e,t),!isFinite(n))throw{stack:(new Error).stack,code:"D3061",index:1,value:e,exp:t};return n}},random:function(){return Math.random()},boolean:g,not:function(e){if(void 0!==e)return!g(e)},map:function*(e,t){if(void 0!==e){for(var n=i(),r=0;r<e.length;r++){var o=y(t,e[r],r,e),a=yield*t.apply(this,o);void 0!==a&&n.push(a)}return n}},zip:function(){for(var e=[],t=Array.prototype.slice.call(arguments),n=Math.min.apply(Math,t.map((function(e){return Array.isArray(e)?e.length:0}))),r=0;r<n;r++){var o=t.map((e=>e[r]));e.push(o)}return e},filter:function*(e,t){if(void 0!==e){for(var n=i(),r=0;r<e.length;r++){var o=e[r],a=y(t,o,r,e);g(yield*t.apply(this,a))&&n.push(o)}return n}},single:function*(e,t){if(void 0!==e){for(var n,r=!1,o=0;o<e.length;o++){var i=e[o],a=!0;if(void 0!==t){var s=y(t,i,o,e);a=g(yield*t.apply(this,s))}if(a){if(r)throw{stack:(new Error).stack,code:"D3138",index:o};n=i,r=!0}}if(!r)throw{stack:(new Error).stack,code:"D3139"};return n}},foldLeft:function*(e,t,n){if(void 0!==e){var r,o,i=u(t);if(i<2)throw{stack:(new Error).stack,code:"D3050",index:1};for(void 0===n&&e.length>0?(r=e[0],o=1):(r=n,o=0);o<e.length;){var a=[r,e[o]];i>=3&&a.push(o),i>=4&&a.push(e),r=yield*t.apply(this,a),o++}return r}},sift:function*(e,t){var n={};for(var r in e){var o=e[r],i=y(t,o,r,e);g(yield*t.apply(this,i))&&(n[r]=o)}return 0===Object.keys(n).length&&(n=void 0),n},keys:function e(t){var n=i();if(Array.isArray(t)){var r={};t.forEach((function(t){e(t).forEach((function(e){r[e]=!0}))})),n=e(r)}else null===t||"object"!=typeof t||l(t)||Object.keys(t).forEach((e=>n.push(e)));return n},lookup:function e(t,n){var r;if(Array.isArray(t)){r=i();for(var o=0;o<t.length;o++){var a=e(t[o],n);void 0!==a&&(Array.isArray(a)?a.forEach((e=>r.push(e))):r.push(a))}}else null!==t&&"object"==typeof t&&(r=t[n]);return r},append:b,exists:function(e){return void 0!==e},spread:function e(t){var n=i();if(Array.isArray(t))t.forEach((function(t){n=b(n,e(t))}));else if(null===t||"object"!=typeof t||l(t))n=t;else for(var r in t){var o={};o[r]=t[r],n.push(o)}return n},merge:function(e){if(void 0!==e){var t={};return e.forEach((function(e){for(var n in e)t[n]=e[n]})),t}},reverse:function(e){if(void 0!==e){if(e.length<=1)return e;for(var t=e.length,n=new Array(t),r=0;r<t;r++)n[t-r-1]=e[r];return n}},each:function*(e,t){var n=i();for(var r in e){var o=y(t,e[r],r,e),a=yield*t.apply(this,o);void 0!==a&&n.push(a)}return n},error:function(e){throw{code:"D3137",stack:(new Error).stack,message:e||"$error() function evaluated"}},assert:function(e,t){if(!e)throw{code:"D3141",stack:(new Error).stack,message:t||"$assert() statement failed"}},type:function(t){if(void 0!==t)return null===t?"null":e(t)?"number":"string"==typeof t?"string":"boolean"==typeof t?"boolean":Array.isArray(t)?"array":s(t)?"function":"object"},sort:function*(e,n){if(void 0!==e){if(e.length<=1)return e;var r;if(void 0===n){if(!o(e)&&!t(e))throw{stack:(new Error).stack,code:"D3070",index:1};r=function*(e,t){return e>t}}else r=n;var i=function*(e){if(!Array.isArray(e)||e.length<=1)return e;var t=Math.floor(e.length/2),n=e.slice(0,t),o=e.slice(t);return n=yield*i(n),o=yield*i(o),yield*function*(e,t){var n=function*(e,t,o){0===t.length?Array.prototype.push.apply(e,o):0===o.length?Array.prototype.push.apply(e,t):(yield*r(t[0],o[0]))?(e.push(o[0]),yield*n(e,t,o.slice(1))):(e.push(t[0]),yield*n(e,t.slice(1),o))},o=[];return yield*n(o,e,t),o}(n,o)};return yield*i(e)}},shuffle:function(e){if(void 0!==e){if(e.length<=1)return e;for(var t=new Array(e.length),n=0;n<e.length;n++){var r=Math.floor(Math.random()*(n+1));n!==r&&(t[n]=t[r]),t[r]=e[n]}return t}},distinct:function(e){if(void 0!==e){if(!Array.isArray(e)||e.length<=1)return e;for(var t=a(e)?i():[],n=0;n<e.length;n++){for(var r=e[n],o=!1,s=0;s<t.length;s++)if(d(r,t[s])){o=!0;break}o||t.push(r)}return t}},base64encode:function(e){if(void 0!==e){var t="undefined"!=typeof window?window.btoa:function(e){return new n.Buffer.from(e,"binary").toString("base64")};return t(e)}},base64decode:function(e){if(void 0!==e){var t="undefined"!=typeof window?window.atob:function(e){return new n.Buffer(e,"base64").toString("binary")};return t(e)}},encodeUrlComponent:function(e){if(void 0!==e){var t;try{t=encodeURIComponent(e)}catch(t){throw{code:"D3140",stack:(new Error).stack,value:e,functionName:"encodeUrlComponent"}}return t}},encodeUrl:function(e){if(void 0!==e){var t;try{t=encodeURI(e)}catch(t){throw{code:"D3140",stack:(new Error).stack,value:e,functionName:"encodeUrl"}}return t}},decodeUrlComponent:function(e){if(void 0!==e){var t;try{t=decodeURIComponent(e)}catch(t){throw{code:"D3140",stack:(new Error).stack,value:e,functionName:"decodeUrlComponent"}}return t}},decodeUrl:function(e){if(void 0!==e){var t;try{t=decodeURI(e)}catch(t){throw{code:"D3140",stack:(new Error).stack,value:e,functionName:"decodeUrl"}}return t}}}})();t.exports=o}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./utils":6}],3:[function(e,t,n){var r=e("./datetime"),o=e("./functions"),i=e("./utils"),a=e("./parser"),s=e("./signature"),l=function(){"use strict";var e=i.isNumeric,t=i.isArrayOfStrings,n=i.isArrayOfNumbers,l=i.createSequence,c=i.isSequence,u=i.isFunction,d=i.isLambda,p=i.isIterable,f=i.getFunctionArity,h=i.isDeepEqual,v=L(null);function*m(n,r,i){var a,s=i.lookup("__evaluate_entry");switch(s&&s(n,r,i),n.type){case"path":a=yield*function*(e,t,n){var r,o;r=Array.isArray(t)&&"variable"!==e.steps[0].type?t:l(t);for(var i=!1,a=void 0,s=0;s<e.steps.length;s++){var u=e.steps[s];if(u.tuple&&(i=!0),0===s&&u.consarray?o=yield*m(u,r,n):i?a=yield*w(u,r,a,n):o=yield*y(u,r,n,s===e.steps.length-1),!i&&(void 0===o||0===o.length))break;void 0===u.focus&&(r=o)}if(i)if(e.tuple)o=a;else for(o=l(),s=0;s<a.length;s++)o.push(a[s]["@"]);return e.keepSingletonArray&&(c(o)||(o=l(o)),o.keepSingleton=!0),e.hasOwnProperty("group")&&(o=yield*k(e.group,i?a:o,n)),o}(n,r,i);break;case"binary":a=yield*function*(t,n,r){var i,a=yield*m(t.lhs,n,r),s=yield*m(t.rhs,n,r),l=t.value;try{switch(l){case"+":case"-":case"*":case"/":case"%":i=function(t,n,r){var o;if(void 0!==t&&!e(t))throw{code:"T2001",stack:(new Error).stack,value:t};if(void 0!==n&&!e(n))throw{code:"T2002",stack:(new Error).stack,value:n};if(void 0===t||void 0===n)return o;switch(r){case"+":o=t+n;break;case"-":o=t-n;break;case"*":o=t*n;break;case"/":o=t/n;break;case"%":o=t%n}return o}(a,s,l);break;case"=":case"!=":i=function(e,t,n){var r;if(void 0===e||void 0===t)return!1;switch(n){case"=":r=h(e,t);break;case"!=":r=!h(e,t)}return r}(a,s,l);break;case"<":case"<=":case">":case">=":i=function(e,t,n){var r,o=typeof e,i=typeof t;if("undefined"!==o&&"string"!==o&&"number"!==o||"undefined"!==i&&"string"!==i&&"number"!==i)throw{code:"T2010",stack:(new Error).stack,value:"string"!==o&&"number"!==o?e:t};if("undefined"!==o&&"undefined"!==i){if(o!==i)throw{code:"T2009",stack:(new Error).stack,value:e,value2:t};switch(n){case"<":r=e<t;break;case"<=":r=e<=t;break;case">":r=e>t;break;case">=":r=e>=t}return r}}(a,s,l);break;case"&":i=function(e,t){var n="",r="";return void 0!==e&&(n=o.string(e)),void 0!==t&&(r=o.string(t)),n.concat(r)}(a,s);break;case"and":case"or":i=function(e,t,n){var r,i=o.boolean(e),a=o.boolean(t);switch(void 0===i&&(i=!1),void 0===a&&(a=!1),n){case"and":r=i&&a;break;case"or":r=i||a}return r}(a,s,l);break;case"..":i=function(e,t){var n;if(void 0!==e&&!Number.isInteger(e))throw{code:"T2003",stack:(new Error).stack,value:e};if(void 0!==t&&!Number.isInteger(t))throw{code:"T2004",stack:(new Error).stack,value:t};if(void 0===e||void 0===t)return n;if(e>t)return n;var r=t-e+1;if(r>1e7)throw{code:"D2014",stack:(new Error).stack,value:r};n=new Array(r);for(var o=e,i=0;o<=t;o++,i++)n[i]=o;return n.sequence=!0,n}(a,s);break;case"in":i=function(e,t){var n=!1;if(void 0===e||void 0===t)return!1;Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++)if(t[r]===e){n=!0;break}return n}(a,s)}}catch(e){throw e.position=t.position,e.token=l,e}return i}(n,r,i);break;case"unary":a=yield*function*(t,n,r){var i;switch(t.value){case"-":if(void 0===(i=yield*m(t.expression,n,r)))i=void 0;else{if(!e(i))throw{code:"D1002",stack:(new Error).stack,position:t.position,token:t.value,value:i};i=-i}break;case"[":i=[];for(var a=0;a<t.expressions.length;a++){var s=t.expressions[a],l=yield*m(s,n,r);void 0!==l&&("["===s.value?i.push(l):i=o.append(i,l))}t.consarray&&Object.defineProperty(i,"cons",{enumerable:!1,configurable:!1,value:!0});break;case"{":i=yield*k(t,n,r)}return i}(n,r,i);break;case"name":a=function(e,t,n){return o.lookup(t,e.value)}(n,r);break;case"string":case"number":case"value":a=function(e){return e.value}(n);break;case"wildcard":a=function(e,t){var n=l();return null!==t&&"object"==typeof t&&Object.keys(t).forEach((function(e){var r=t[e];Array.isArray(r)?(r=O(r),n=o.append(n,r)):n.push(r)})),n}(0,r);break;case"descendant":a=function(e,t){var n,r=l();return void 0!==t&&(S(t,r),n=1===r.length?r[0]:r),n}(0,r);break;case"parent":a=i.lookup(n.slot.label);break;case"condition":a=yield*function*(e,t,n){var r,i=yield*m(e.condition,t,n);return o.boolean(i)?r=yield*m(e.then,t,n):void 0!==e.else&&(r=yield*m(e.else,t,n)),r}(n,r,i);break;case"block":a=yield*function*(e,t,n){for(var r,o=L(n),i=0;i<e.expressions.length;i++)r=yield*m(e.expressions[i],t,o);return r}(n,r,i);break;case"bind":a=yield*function*(e,t,n){var r=yield*m(e.rhs,t,n);return n.bind(e.lhs.value,r),r}(n,r,i);break;case"regex":a=function(e){var t=new RegExp(e.value),n=function(r,o){var i;t.lastIndex=o||0;var a=t.exec(r);if(null!==a){if(i={match:a[0],start:a.index,end:a.index+a[0].length,groups:[]},a.length>1)for(var s=1;s<a.length;s++)i.groups.push(a[s]);i.next=function(){if(!(t.lastIndex>=r.length)){var o=n(r,t.lastIndex);if(o&&""===o.match)throw{code:"D1004",stack:(new Error).stack,position:e.position,value:e.value.source};return o}}}return i};return n}(n);break;case"function":a=yield*T(n,r,i);break;case"variable":a=function(e,t,n){return""===e.value?t&&t.outerWrapper?t[0]:t:n.lookup(e.value)}(n,r,i);break;case"lambda":a=function(e,t,n){var r={_jsonata_lambda:!0,input:t,environment:n,arguments:e.arguments,signature:e.signature,body:e.body};return!0===e.thunk&&(r.thunk=!0),r.apply=function*(e,n){return yield*D(r,n,t,e.environment)},r}(n,r,i);break;case"partial":a=yield*function*(e,t,n){for(var r,o=[],i=0;i<e.arguments.length;i++){var a=e.arguments[i];"operator"===a.type&&"?"===a.value?o.push(a):o.push(yield*m(a,t,n))}var s=yield*m(e.procedure,t,n);if(void 0===s&&"path"===e.procedure.type&&n.lookup(e.procedure.steps[0].value))throw{code:"T1007",stack:(new Error).stack,position:e.position,token:e.procedure.steps[0].value};if(d(s))r=N(s,o);else if(s&&!0===s._jsonata_function)r=j(s.implementation,o);else{if("function"!=typeof s)throw{code:"T1008",stack:(new Error).stack,position:e.position,token:"path"===e.procedure.type?e.procedure.steps[0].value:e.procedure.value};r=j(s,o)}return r}(n,r,i);break;case"apply":a=yield*function*(e,t,n){var r,o=yield*m(e.lhs,t,n);if("function"===e.rhs.type)r=yield*T(e.rhs,t,n,{context:o});else{var i=yield*m(e.rhs,t,n);if(!u(i))throw{code:"T2006",stack:(new Error).stack,position:e.position,value:i};if(u(o)){var a=yield*m(C,null,n);r=yield*D(a,[o,i],null,n)}else r=yield*D(i,[o],null,n)}return r}(n,r,i);break;case"transform":a=function(e,n,r){return $((function*(n){if(void 0!==n){var o=r.lookup("clone");if(!u(o))throw{code:"T2013",stack:(new Error).stack,position:e.position};var i=yield*D(o,[n],null,r),a=yield*m(e.pattern,i,r);if(void 0!==a){Array.isArray(a)||(a=[a]);for(var s=0;s<a.length;s++){var l=a[s],c=yield*m(e.update,l,r),d=typeof c;if("undefined"!==d){if("object"!==d||null===c||Array.isArray(c))throw{code:"T2011",stack:(new Error).stack,position:e.update.position,value:c};for(var p in c)l[p]=c[p]}if(void 0!==e.delete){var f=yield*m(e.delete,l,r);if(void 0!==f){var h=f;if(Array.isArray(f)||(f=[f]),!t(f))throw{code:"T2012",stack:(new Error).stack,position:e.delete.position,value:h};for(var v=0;v<f.length;v++)"object"==typeof l&&null!==l&&delete l[f[v]]}}}}return i}}),"<(oa):o>")}(n,0,i)}if(!i.async||null!=a&&"function"==typeof a.then||(a=Promise.resolve(a)),i.async&&"function"==typeof a.then&&n.nextFunction&&"function"==typeof a[n.nextFunction]||(a=yield a),Object.prototype.hasOwnProperty.call(n,"predicate"))for(var p=0;p<n.predicate.length;p++)a=yield*x(n.predicate[p].expr,a,i);"path"!==n.type&&Object.prototype.hasOwnProperty.call(n,"group")&&(a=yield*k(n.group,a,i));var f=i.lookup("__evaluate_exit");return f&&f(n,r,i,a),a&&c(a)&&!a.tupleStream&&(n.keepArray&&(a.keepSingleton=!0),0===a.length?a=void 0:1===a.length&&(a=a.keepSingleton?a:a[0])),a}function g(e,t){var n=L(e);for(const e in t)n.bind(e,t[e]);return n}function*y(e,t,n,r){var o;if("sort"===e.type)return o=yield*E(e,t,n),e.stages&&(o=yield*b(e.stages,o,n)),o;o=l();for(var i=0;i<t.length;i++){var a=yield*m(e,t[i],n);if(e.stages)for(var s=0;s<e.stages.length;s++)a=yield*x(e.stages[s].expr,a,n);void 0!==a&&o.push(a)}var u=l();return r&&1===o.length&&Array.isArray(o[0])&&!c(o[0])?u=o[0]:o.forEach((function(e){!Array.isArray(e)||e.cons?u.push(e):e.forEach((e=>u.push(e)))})),u}function*b(e,t,n){for(var r=t,o=0;o<e.length;o++){var i=e[o];switch(i.type){case"filter":r=yield*x(i.expr,r,n);break;case"index":for(var a=0;a<r.length;a++)r[a][i.value]=a}}return r}function*w(e,t,n,r){var o;if("sort"===e.type){if(n)o=yield*E(e,n,r);else{var i=yield*E(e,t,r);(o=l()).tupleStream=!0;for(var a=0;a<i.length;a++){var s={"@":i[a]};s[e.index]=a,o.push(s)}}return e.stages&&(o=yield*b(e.stages,o,r)),o}(o=l()).tupleStream=!0;var c=r;void 0===n&&(n=t.map((e=>({"@":e}))));for(var u=0;u<n.length;u++){c=g(r,n[u]);var d=yield*m(e,n[u]["@"],c);if(void 0!==d){Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++)s={},Object.assign(s,n[u]),d.tupleStream?Object.assign(s,d[p]):(e.focus?(s[e.focus]=d[p],s["@"]=n[u]["@"]):s["@"]=d[p],e.index&&(s[e.index]=p),e.ancestor&&(s[e.ancestor.label]=n[u]["@"])),o.push(s)}}return e.stages&&(o=yield*b(e.stages,o,r)),o}function*x(t,r,i){var a=l();if(r&&r.tupleStream&&(a.tupleStream=!0),Array.isArray(r)||(r=l(r)),"number"===t.type){var s=Math.floor(t.value);s<0&&(s=r.length+s),void 0!==(c=r[s])&&(Array.isArray(c)?a=c:a.push(c))}else for(s=0;s<r.length;s++){var c,u=c=r[s],d=i;r.tupleStream&&(u=c["@"],d=g(i,c));var p=yield*m(t,u,d);e(p)&&(p=[p]),n(p)?p.forEach((function(e){var t=Math.floor(e);t<0&&(t=r.length+t),t===s&&a.push(c)})):o.boolean(p)&&a.push(c)}return a}function O(e,t){return void 0===t&&(t=[]),Array.isArray(e)?e.forEach((function(e){O(e,t)})):t.push(e),t}function S(e,t){Array.isArray(e)||t.push(e),Array.isArray(e)?e.forEach((function(e){S(e,t)})):null!==e&&"object"==typeof e&&Object.keys(e).forEach((function(n){S(e[n],t)}))}function*k(e,t,n){var r={},i={},a=!(!t||!t.tupleStream);Array.isArray(t)||(t=l(t));for(var s=0;s<t.length;s++)for(var c=t[s],u=a?g(n,c):n,d=0;d<e.lhs.length;d++){var p=e.lhs[d],f=yield*m(p[0],a?c["@"]:c,u);if("string"!=typeof f)throw{code:"T1003",stack:(new Error).stack,position:e.position,value:f};var h={data:c,exprIndex:d};if(i.hasOwnProperty(f)){if(i[f].exprIndex!==d)throw{code:"D1009",stack:(new Error).stack,position:e.position,value:f};i[f].data=o.append(i[f].data,c)}else i[f]=h}for(f in i){var v=(h=i[f]).data;if(u=n,a){var y=_(h.data);v=y["@"],delete y["@"],u=g(n,y)}var b=yield*m(e.lhs[h.exprIndex][1],v,u);void 0!==b&&(r[f]=b)}return r}function _(e){if(!Array.isArray(e))return e;var t={};Object.assign(t,e[0]);for(var n=1;n<e.length;n++)for(const r in e[n])t[r]=o.append(t[r],e[n][r]);return t}function*E(e,t,n){var r=t,i=!!t.tupleStream,a={environment:n,input:t};return yield*o.sort.apply(a,[r,function*(t,r){for(var o=0,a=0;0===o&&a<e.terms.length;a++){var s=e.terms[a],l=t,c=n;i&&(l=t["@"],c=g(n,t));var u=yield*m(s.expression,l,c);l=r,c=n,i&&(l=r["@"],c=g(n,r));var d=yield*m(s.expression,l,c),p=typeof u,f=typeof d;if("undefined"!==p)if("undefined"!==f){if("string"!==p&&"number"!==p||"string"!==f&&"number"!==f)throw{code:"T2008",stack:(new Error).stack,position:e.position,value:"string"!==p&&"number"!==p?u:d};if(p!==f)throw{code:"T2007",stack:(new Error).stack,position:e.position,value:u,value2:d};u!==d&&(o=u<d?-1:1,!0===s.descending&&(o=-o))}else o=-1;else o="undefined"===f?0:1}return 1===o}])}var C=a("function($f, $g) { function($x){ $g($f($x)) } }");function*T(e,t,n,r){var o,i=yield*m(e.procedure,t,n);if(void 0===i&&"path"===e.procedure.type&&n.lookup(e.procedure.steps[0].value))throw{code:"T1005",stack:(new Error).stack,position:e.position,token:e.procedure.steps[0].value};var a=[];void 0!==r&&a.push(r.context);for(var s=0;s<e.arguments.length;s++){const r=yield*m(e.arguments[s],t,n);if(u(r)){const e=function*(...e){return yield*D(r,e,null,n)};e.arity=f(r),a.push(e)}else a.push(r)}var l="path"===e.procedure.type?e.procedure.steps[0].value:e.procedure.value;try{"object"==typeof i&&(i.token=l,i.position=e.position),o=yield*D(i,a,t,n)}catch(t){throw t.position||(t.position=e.position),t.token||(t.token=l),t}return o}function*D(e,t,n,r){var o;for(o=yield*A(e,t,n,r);d(o)&&!0===o.thunk;){var i=yield*m(o.body.procedure,o.input,o.environment);"variable"===o.body.procedure.type&&(i.token=o.body.procedure.value),i.position=o.body.procedure.position;for(var a=[],s=0;s<o.body.arguments.length;s++)a.push(yield*m(o.body.arguments[s],o.input,o.environment));o=yield*A(i,a,n,r)}return o}function*A(e,t,n,r){var o;try{var i=t;if(e&&(i=function(e,t,n){return void 0===e?t:e.validate(t,n)}(e.signature,t,n)),d(e))o=yield*function*(e,t){var n=L(e.environment);return e.arguments.forEach((function(e,r){n.bind(e.value,t[r])})),"function"==typeof e.body?yield*function*(e,t){var n=M(e).map((function(e){return t.lookup(e.trim())})),r={environment:t},o=e.apply(r,n);return p(o)&&(o=yield*o),o}(e.body,n):yield*m(e.body,e.input,n)}(e,i);else if(e&&!0===e._jsonata_function){var a={environment:r,input:n};o=e.implementation.apply(a,i),p(o)&&(o=yield*o)}else{if("function"!=typeof e)throw{code:"T1006",stack:(new Error).stack};o=e.apply(n,i),p(o)&&(o=yield*o)}}catch(t){throw e&&(void 0===t.token&&void 0!==e.token&&(t.token=e.token),t.position=e.position),t}return o}function N(e,t){var n=L(e.environment),r=[];return e.arguments.forEach((function(e,o){var i=t[o];i&&"operator"===i.type&&"?"===i.value?r.push(e):n.bind(e.value,i)})),{_jsonata_lambda:!0,input:e.input,environment:n,arguments:r,body:e.body}}function j(e,t){var n=M(e),r="function("+(n=n.map((function(e){return"$"+e.trim()}))).join(", ")+"){ _ }",o=a(r);return o.body=e,N(o,t)}function M(e){var t=e.toString();return/\(([^)]*)\)/.exec(t)[1].split(",")}function $(e,t){var n={_jsonata_function:!0,implementation:e};return void 0!==t&&(n.signature=s(t)),n}function L(e){var t={};return{bind:function(e,n){t[e]=n},lookup:function(n){var r;return t.hasOwnProperty(n)?r=t[n]:e&&(r=e.lookup(n)),r},timestamp:e?e.timestamp:null,async:!!e&&e.async,global:e?e.global:{ancestry:[null]}}}v.bind("sum",$(o.sum,"<a<n>:n>")),v.bind("count",$(o.count,"<a:n>")),v.bind("max",$(o.max,"<a<n>:n>")),v.bind("min",$(o.min,"<a<n>:n>")),v.bind("average",$(o.average,"<a<n>:n>")),v.bind("string",$(o.string,"<x-b?:s>")),v.bind("substring",$(o.substring,"<s-nn?:s>")),v.bind("substringBefore",$(o.substringBefore,"<s-s:s>")),v.bind("substringAfter",$(o.substringAfter,"<s-s:s>")),v.bind("lowercase",$(o.lowercase,"<s-:s>")),v.bind("uppercase",$(o.uppercase,"<s-:s>")),v.bind("length",$(o.length,"<s-:n>")),v.bind("trim",$(o.trim,"<s-:s>")),v.bind("pad",$(o.pad,"<s-ns?:s>")),v.bind("match",$(o.match,"<s-f<s:o>n?:a<o>>")),v.bind("contains",$(o.contains,"<s-(sf):b>")),v.bind("replace",$(o.replace,"<s-(sf)(sf)n?:s>")),v.bind("split",$(o.split,"<s-(sf)n?:a<s>>")),v.bind("join",$(o.join,"<a<s>s?:s>")),v.bind("formatNumber",$(o.formatNumber,"<n-so?:s>")),v.bind("formatBase",$(o.formatBase,"<n-n?:s>")),v.bind("formatInteger",$(r.formatInteger,"<n-s:s>")),v.bind("parseInteger",$(r.parseInteger,"<s-s:n>")),v.bind("number",$(o.number,"<(nsb)-:n>")),v.bind("floor",$(o.floor,"<n-:n>")),v.bind("ceil",$(o.ceil,"<n-:n>")),v.bind("round",$(o.round,"<n-n?:n>")),v.bind("abs",$(o.abs,"<n-:n>")),v.bind("sqrt",$(o.sqrt,"<n-:n>")),v.bind("power",$(o.power,"<n-n:n>")),v.bind("random",$(o.random,"<:n>")),v.bind("boolean",$(o.boolean,"<x-:b>")),v.bind("not",$(o.not,"<x-:b>")),v.bind("map",$(o.map,"<af>")),v.bind("zip",$(o.zip,"<a+>")),v.bind("filter",$(o.filter,"<af>")),v.bind("single",$(o.single,"<af?>")),v.bind("reduce",$(o.foldLeft,"<afj?:j>")),v.bind("sift",$(o.sift,"<o-f?:o>")),v.bind("keys",$(o.keys,"<x-:a<s>>")),v.bind("lookup",$(o.lookup,"<x-s:x>")),v.bind("append",$(o.append,"<xx:a>")),v.bind("exists",$(o.exists,"<x:b>")),v.bind("spread",$(o.spread,"<x-:a<o>>")),v.bind("merge",$(o.merge,"<a<o>:o>")),v.bind("reverse",$(o.reverse,"<a:a>")),v.bind("each",$(o.each,"<o-f:a>")),v.bind("error",$(o.error,"<s?:x>")),v.bind("assert",$(o.assert,"<bs?:x>")),v.bind("type",$(o.type,"<x:s>")),v.bind("sort",$(o.sort,"<af?:a>")),v.bind("shuffle",$(o.shuffle,"<a:a>")),v.bind("distinct",$(o.distinct,"<x:x>")),v.bind("base64encode",$(o.base64encode,"<s-:s>")),v.bind("base64decode",$(o.base64decode,"<s-:s>")),v.bind("encodeUrlComponent",$(o.encodeUrlComponent,"<s-:s>")),v.bind("encodeUrl",$(o.encodeUrl,"<s-:s>")),v.bind("decodeUrlComponent",$(o.decodeUrlComponent,"<s-:s>")),v.bind("decodeUrl",$(o.decodeUrl,"<s-:s>")),v.bind("eval",$((function*(e,t){if(void 0!==e){var n=this.input;void 0!==t&&(n=t,Array.isArray(n)&&!c(n)&&((n=l(n)).outerWrapper=!0));try{var r=a(e,!1)}catch(e){throw P(e),{stack:(new Error).stack,code:"D3120",value:e.message,error:e}}try{var o=yield*m(r,n,this.environment)}catch(e){throw P(e),{stack:(new Error).stack,code:"D3121",value:e.message,error:e}}return o}}),"<sx?:x>")),v.bind("toMillis",$(r.toMillis,"<s-s?:n>")),v.bind("fromMillis",$(r.fromMillis,"<n-s?s?:s>")),v.bind("clone",$((function(e){if(void 0!==e)return JSON.parse(o.string(e))}),"<(oa)-:o>"));var B={S0101:"String literal must be terminated by a matching quote",S0102:"Number out of range: {{token}}",S0103:"Unsupported escape sequence: \\{{token}}",S0104:"The escape sequence \\u must be followed by 4 hex digits",S0105:"Quoted property name must be terminated with a backquote (`)",S0106:"Comment has no closing tag",S0201:"Syntax error: {{token}}",S0202:"Expected {{value}}, got {{token}}",S0203:"Expected {{value}} before end of expression",S0204:"Unknown operator: {{token}}",S0205:"Unexpected token: {{token}}",S0206:"Unknown expression type: {{token}}",S0207:"Unexpected end of expression",S0208:"Parameter {{value}} of function definition must be a variable name (start with $)",S0209:"A predicate cannot follow a grouping expression in a step",S0210:"Each step can only have one grouping expression",S0211:"The symbol {{token}} cannot be used as a unary operator",S0212:"The left side of := must be a variable name (start with $)",S0213:"The literal value {{value}} cannot be used as a step within a path expression",S0214:"The right side of {{token}} must be a variable name (start with $)",S0215:"A context variable binding must precede any predicates on a step",S0216:"A context variable binding must precede the 'order-by' clause on a step",S0217:"The object representing the 'parent' cannot be derived from this expression",S0301:"Empty regular expressions are not allowed",S0302:"No terminating / in regular expression",S0402:"Choice groups containing parameterized types are not supported",S0401:"Type parameters can only be applied to functions and arrays",S0500:"Attempted to evaluate an expression containing syntax error(s)",T0410:"Argument {{index}} of function {{token}} does not match function signature",T0411:"Context value is not a compatible type with argument {{index}} of function {{token}}",T0412:"Argument {{index}} of function {{token}} must be an array of {{type}}",D1001:"Number out of range: {{value}}",D1002:"Cannot negate a non-numeric value: {{value}}",T1003:"Key in object structure must evaluate to a string; got: {{value}}",D1004:"Regular expression matches zero length string",T1005:"Attempted to invoke a non-function. Did you mean ${{{token}}}?",T1006:"Attempted to invoke a non-function",T1007:"Attempted to partially apply a non-function. Did you mean ${{{token}}}?",T1008:"Attempted to partially apply a non-function",D1009:"Multiple key definitions evaluate to same key: {{value}}",T1010:"The matcher function argument passed to function {{token}} does not return the correct object structure",T2001:"The left side of the {{token}} operator must evaluate to a number",T2002:"The right side of the {{token}} operator must evaluate to a number",T2003:"The left side of the range operator (..) must evaluate to an integer",T2004:"The right side of the range operator (..) must evaluate to an integer",D2005:"The left side of := must be a variable name (start with $)",T2006:"The right side of the function application operator ~> must be a function",T2007:"Type mismatch when comparing values {{value}} and {{value2}} in order-by clause",T2008:"The expressions within an order-by clause must evaluate to numeric or string values",T2009:"The values {{value}} and {{value2}} either side of operator {{token}} must be of the same data type",T2010:"The expressions either side of operator {{token}} must evaluate to numeric or string values",T2011:"The insert/update clause of the transform expression must evaluate to an object: {{value}}",T2012:"The delete clause of the transform expression must evaluate to a string or array of strings: {{value}}",T2013:"The transform expression clones the input object using the $clone() function.  This has been overridden in the current scope by a non-function.",D2014:"The size of the sequence allocated by the range operator (..) must not exceed 1e6.  Attempted to allocate {{value}}.",D3001:"Attempting to invoke string function on Infinity or NaN",D3010:"Second argument of replace function cannot be an empty string",D3011:"Fourth argument of replace function must evaluate to a positive number",D3012:"Attempted to replace a matched string with a non-string value",D3020:"Third argument of split function must evaluate to a positive number",D3030:"Unable to cast value to a number: {{value}}",D3040:"Third argument of match function must evaluate to a positive number",D3050:"The second argument of reduce function must be a function with at least two arguments",D3060:"The sqrt function cannot be applied to a negative number: {{value}}",D3061:"The power function has resulted in a value that cannot be represented as a JSON number: base={{value}}, exponent={{exp}}",D3070:"The single argument form of the sort function can only be applied to an array of strings or an array of numbers.  Use the second argument to specify a comparison function",D3080:"The picture string must only contain a maximum of two sub-pictures",D3081:"The sub-picture must not contain more than one instance of the 'decimal-separator' character",D3082:"The sub-picture must not contain more than one instance of the 'percent' character",D3083:"The sub-picture must not contain more than one instance of the 'per-mille' character",D3084:"The sub-picture must not contain both a 'percent' and a 'per-mille' character",D3085:"The mantissa part of a sub-picture must contain at least one character that is either an 'optional digit character' or a member of the 'decimal digit family'",D3086:"The sub-picture must not contain a passive character that is preceded by an active character and that is followed by another active character",D3087:"The sub-picture must not contain a 'grouping-separator' character that appears adjacent to a 'decimal-separator' character",D3088:"The sub-picture must not contain a 'grouping-separator' at the end of the integer part",D3089:"The sub-picture must not contain two adjacent instances of the 'grouping-separator' character",D3090:"The integer part of the sub-picture must not contain a member of the 'decimal digit family' that is followed by an instance of the 'optional digit character'",D3091:"The fractional part of the sub-picture must not contain an instance of the 'optional digit character' that is followed by a member of the 'decimal digit family'",D3092:"A sub-picture that contains a 'percent' or 'per-mille' character must not contain a character treated as an 'exponent-separator'",D3093:"The exponent part of the sub-picture must comprise only of one or more characters that are members of the 'decimal digit family'",D3100:"The radix of the formatBase function must be between 2 and 36.  It was given {{value}}",D3110:"The argument of the toMillis function must be an ISO 8601 formatted timestamp. Given {{value}}",D3120:"Syntax error in expression passed to function eval: {{value}}",D3121:"Dynamic error evaluating the expression passed to function eval: {{value}}",D3130:"Formatting or parsing an integer as a sequence starting with {{value}} is not supported by this implementation",D3131:"In a decimal digit pattern, all digits must be from the same decimal group",D3132:"Unknown component specifier {{value}} in date/time picture string",D3133:"The 'name' modifier can only be applied to months and days in the date/time picture string, not {{value}}",D3134:"The timezone integer format specifier cannot have more than four digits",D3135:"No matching closing bracket ']' in date/time picture string",D3136:"The date/time picture string is missing specifiers required to parse the timestamp",D3137:"{{{message}}}",D3138:"The $single() function expected exactly 1 matching result.  Instead it matched more.",D3139:"The $single() function expected exactly 1 matching result.  Instead it matched 0.",D3140:"Malformed URL passed to ${{{functionName}}}(): {{value}}",D3141:"{{{message}}}"};function P(e){var t=B[e.code];if(void 0!==t){var n=t.replace(/\{\{\{([^}]+)}}}/g,(function(){return e[arguments[1]]}));n=n.replace(/\{\{([^}]+)}}/g,(function(){return JSON.stringify(e[arguments[1]])})),e.message=n}}function I(e,t){var n,o;try{n=a(e,t&&t.recover),o=n.errors,delete n.errors}catch(e){throw P(e),e}var i=L(v),s=new Date;return i.bind("now",$((function(e,t){return r.fromMillis(s.getTime(),e,t)}),"<s?s?:s>")),i.bind("millis",$((function(){return s.getTime()}),"<:n>")),{evaluate:function(e,t,r){if(void 0!==o){var a={code:"S0500",position:0};throw P(a),a}var u,d,p;if(void 0!==t)for(var f in u=L(i),t)u.bind(f,t[f]);else u=i;if(u.bind("$",e),s=new Date,u.timestamp=s,Array.isArray(e)&&!c(e)&&((e=l(e)).outerWrapper=!0),"function"==typeof r){u.async=!0;var h=function(e){P(e),r(e,null)},v=function(e){(d=p.next(e)).done?r(null,d.value):d.value.then(v).catch(h)};p=m(n,e,u),(d=p.next()).value.then(v).catch(h)}else try{for(p=m(n,e,u),d=p.next();!d.done;)d=p.next(d.value);return d.value}catch(a){throw P(a),a}},assign:function(e,t){i.bind(e,t)},registerFunction:function(e,t,n){var r=$(t,n);i.bind(e,r)},ast:function(){return n},errors:function(){return o}}}return I.parser=a,I}();t.exports=l},{"./datetime":1,"./functions":2,"./parser":4,"./signature":5,"./utils":6}],4:[function(e,t,n){var r=e("./signature");const o=(()=>{"use strict";var e={".":75,"[":80,"]":0,"{":70,"}":0,"(":80,")":0,",":0,"@":80,"#":80,";":80,":":80,"?":20,"+":50,"-":50,"*":60,"/":60,"%":60,"|":20,"=":40,"<":40,">":40,"^":40,"**":60,"..":20,":=":10,"!=":40,"<=":40,">=":40,"~>":40,and:30,or:25,in:40,"&":50,"!":0,"~":0},t={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},n=function(n){var r=0,o=n.length,i=function(e,t){return{type:e,value:t,position:r}},a=function(s){if(r>=o)return null;for(var l=n.charAt(r);r<o&&" \t\n\r\v".indexOf(l)>-1;)r++,l=n.charAt(r);if("/"===l&&"*"===n.charAt(r+1)){var c=r;for(r+=2,l=n.charAt(r);"*"!==l||"/"!==n.charAt(r+1);)if(l=n.charAt(++r),r>=o)throw{code:"S0106",stack:(new Error).stack,position:c};return r+=2,l=n.charAt(r),a(s)}if(!0!==s&&"/"===l)return r++,i("regex",function(){for(var e,t,i=r,a=0;r<o;){var s=n.charAt(r);if("/"===s&&"\\"!==n.charAt(r-1)&&0===a){if(""===(e=n.substring(i,r)))throw{code:"S0301",stack:(new Error).stack,position:r};for(r++,s=n.charAt(r),i=r;"i"===s||"m"===s;)r++,s=n.charAt(r);return t=n.substring(i,r)+"g",new RegExp(e,t)}"("!==s&&"["!==s&&"{"!==s||"\\"===n.charAt(r-1)||a++,")"!==s&&"]"!==s&&"}"!==s||"\\"===n.charAt(r-1)||a--,r++}throw{code:"S0302",stack:(new Error).stack,position:r}}());if("."===l&&"."===n.charAt(r+1))return r+=2,i("operator","..");if(":"===l&&"="===n.charAt(r+1))return r+=2,i("operator",":=");if("!"===l&&"="===n.charAt(r+1))return r+=2,i("operator","!=");if(">"===l&&"="===n.charAt(r+1))return r+=2,i("operator",">=");if("<"===l&&"="===n.charAt(r+1))return r+=2,i("operator","<=");if("*"===l&&"*"===n.charAt(r+1))return r+=2,i("operator","**");if("~"===l&&">"===n.charAt(r+1))return r+=2,i("operator","~>");if(Object.prototype.hasOwnProperty.call(e,l))return r++,i("operator",l);if('"'===l||"'"===l){var u=l;r++;for(var d="";r<o;){if("\\"===(l=n.charAt(r)))if(r++,l=n.charAt(r),Object.prototype.hasOwnProperty.call(t,l))d+=t[l];else{if("u"!==l)throw{code:"S0103",stack:(new Error).stack,position:r,token:l};var p=n.substr(r+1,4);if(!/^[0-9a-fA-F]+$/.test(p))throw{code:"S0104",stack:(new Error).stack,position:r};var f=parseInt(p,16);d+=String.fromCharCode(f),r+=4}else{if(l===u)return r++,i("string",d);d+=l}r++}throw{code:"S0101",stack:(new Error).stack,position:r}}var h,v=/^-?(0|([1-9][0-9]*))(\.[0-9]+)?([Ee][-+]?[0-9]+)?/.exec(n.substring(r));if(null!==v){var m=parseFloat(v[0]);if(!isNaN(m)&&isFinite(m))return r+=v[0].length,i("number",m);throw{code:"S0102",stack:(new Error).stack,position:r,token:v[0]}}if("`"===l){r++;var g=n.indexOf("`",r);if(-1!==g)return h=n.substring(r,g),r=g+1,i("name",h);throw r=o,{code:"S0105",stack:(new Error).stack,position:r}}for(var y,b=r;;)if(y=n.charAt(b),b===o||" \t\n\r\v".indexOf(y)>-1||Object.prototype.hasOwnProperty.call(e,y)){if("$"===n.charAt(r))return h=n.substring(r+1,b),r=b,i("variable",h);switch(h=n.substring(r,b),r=b,h){case"or":case"in":case"and":return i("operator",h);case"true":return i("value",!0);case"false":return i("value",!1);case"null":return i("value",null);default:return r===o&&""===h?null:i("name",h)}}else b++};return a};return function(t,o){var i,a,s={},l=[],c=function(){var e=[];"(end)"!==i.id&&e.push({type:i.type,value:i.value,position:i.position});for(var t=a();null!==t;)e.push(t),t=a();return e},u={nud:function(){var e={code:"S0211",token:this.value,position:this.position};if(o)return e.remaining=c(),e.type="error",l.push(e),e;throw e.stack=(new Error).stack,e}},d=function(e,t){var n=s[e];return t=t||0,n?t>=n.lbp&&(n.lbp=t):((n=Object.create(u)).id=n.value=e,n.lbp=t,s[e]=n),n},p=function(e){if(o){e.remaining=c(),l.push(e);var t=s["(error)"];return(i=Object.create(t)).error=e,i.type="(error)",i}throw e.stack=(new Error).stack,e},f=function(e,n){if(e&&i.id!==e){var r={code:"(end)"===i.id?"S0203":"S0202",position:i.position,token:i.value,value:e};return p(r)}var o=a(n);if(null===o)return(i=s["(end)"]).position=t.length,i;var l,c=o.value,u=o.type;switch(u){case"name":case"variable":l=s["(name)"];break;case"operator":if(!(l=s[c]))return p({code:"S0204",stack:(new Error).stack,position:o.position,token:c});break;case"string":case"number":case"value":l=s["(literal)"];break;case"regex":u="regex",l=s["(regex)"];break;default:return p({code:"S0205",stack:(new Error).stack,position:o.position,token:c})}return(i=Object.create(l)).value=c,i.type=u,i.position=o.position,i},h=function(e){var t,n=i;for(f(null,!0),t=n.nud();e<i.lbp;)n=i,f(),t=n.led(t);return t},v=function(e){d(e,0).nud=function(){return this}},m=function(t,n,r){var o=n||e[t],i=d(t,o);return i.led=r||function(e){return this.lhs=e,this.rhs=h(o),this.type="binary",this},i},g=function(e,t,n){var r=d(e,t);return r.led=n,r},y=function(e,t){var n=d(e);return n.nud=t||function(){return this.expression=h(70),this.type="unary",this},n};v("(end)"),v("(name)"),v("(literal)"),v("(regex)"),d(":"),d(";"),d(","),d(")"),d("]"),d("}"),d(".."),m("."),m("+"),m("-"),m("*"),m("/"),m("%"),m("="),m("<"),m(">"),m("!="),m("<="),m(">="),m("&"),m("and"),m("or"),m("in"),v("and"),v("or"),v("in"),y("-"),m("~>"),g("(error)",10,(function(e){return this.lhs=e,this.error=i.error,this.remaining=c(),this.type="error",this})),y("*",(function(){return this.type="wildcard",this})),y("**",(function(){return this.type="descendant",this})),y("%",(function(){return this.type="parent",this})),m("(",e["("],(function(e){if(this.procedure=e,this.type="function",this.arguments=[],")"!==i.id)for(;"operator"===i.type&&"?"===i.id?(this.type="partial",this.arguments.push(i),f("?")):this.arguments.push(h(0)),","===i.id;)f(",");if(f(")",!0),"name"===e.type&&("function"===e.value||"λ"===e.value)){if(this.arguments.forEach((function(e,t){if("variable"!==e.type)return p({code:"S0208",stack:(new Error).stack,position:e.position,token:e.value,value:t+1})})),this.type="lambda","<"===i.id){for(var t=i.position,n=1,o="<";n>0&&"{"!==i.id&&"(end)"!==i.id;){var a=f();">"===a.id?n--:"<"===a.id&&n++,o+=a.value}f(">");try{this.signature=r(o)}catch(e){return e.position=t+e.offset,p(e)}}f("{"),this.body=h(0),f("}")}return this})),y("(",(function(){for(var e=[];")"!==i.id&&(e.push(h(0)),";"===i.id);)f(";");return f(")",!0),this.type="block",this.expressions=e,this})),y("[",(function(){var e=[];if("]"!==i.id)for(;;){var t=h(0);if(".."===i.id){var n={type:"binary",value:"..",position:i.position,lhs:t};f(".."),n.rhs=h(0),t=n}if(e.push(t),","!==i.id)break;f(",")}return f("]",!0),this.expressions=e,this.type="unary",this})),m("[",e["["],(function(t){if("]"===i.id){for(var n=t;n&&"binary"===n.type&&"["===n.value;)n=n.lhs;return n.keepArray=!0,f("]"),t}return this.lhs=t,this.rhs=h(e["]"]),this.type="binary",f("]",!0),this})),m("^",e["^"],(function(e){f("(");for(var t=[];;){var n={descending:!1};if("<"===i.id?f("<"):">"===i.id&&(n.descending=!0,f(">")),n.expression=h(0),t.push(n),","!==i.id)break;f(",")}return f(")"),this.lhs=e,this.rhs=t,this.type="binary",this}));var b=function(e){var t=[];if("}"!==i.id)for(;;){var n=h(0);f(":");var r=h(0);if(t.push([n,r]),","!==i.id)break;f(",")}return f("}",!0),void 0===e?(this.lhs=t,this.type="unary"):(this.lhs=e,this.rhs=t,this.type="binary"),this};y("{",b),m("{",e["{"],b),g(":=",e[":="],(function(t){return"variable"!==t.type?p({code:"S0212",stack:(new Error).stack,position:t.position,token:t.value}):(this.lhs=t,this.rhs=h(e[":="]-1),this.type="binary",this)})),m("@",e["@"],(function(t){return this.lhs=t,this.rhs=h(e["@"]),"variable"!==this.rhs.type?p({code:"S0214",stack:(new Error).stack,position:this.rhs.position,token:"@"}):(this.type="binary",this)})),m("#",e["#"],(function(t){return this.lhs=t,this.rhs=h(e["#"]),"variable"!==this.rhs.type?p({code:"S0214",stack:(new Error).stack,position:this.rhs.position,token:"#"}):(this.type="binary",this)})),m("?",e["?"],(function(e){return this.type="condition",this.condition=e,this.then=h(0),":"===i.id&&(f(":"),this.else=h(0)),this})),y("|",(function(){return this.type="transform",this.pattern=h(0),f("|"),this.update=h(0),","===i.id&&(f(","),this.delete=h(0)),f("|"),this}));var w=function(e){var t;if("function"!==e.type||e.predicate)if("condition"===e.type)e.then=w(e.then),void 0!==e.else&&(e.else=w(e.else)),t=e;else if("block"===e.type){var n=e.expressions.length;n>0&&(e.expressions[n-1]=w(e.expressions[n-1])),t=e}else t=e;else{var r={type:"lambda",thunk:!0,arguments:[],position:e.position};r.body=e,t=r}return t},x=0,O=0,S=[],k=function(e,t){switch(e.type){case"name":case"wildcard":t.level--,0===t.level&&(void 0===e.ancestor||(S[t.index].slot.label=e.ancestor.label),e.ancestor=t,e.tuple=!0);break;case"parent":t.level++;break;case"block":e.expressions.length>0&&(e.tuple=!0,t=k(e.expressions[e.expressions.length-1],t));break;case"path":e.tuple=!0;var n=e.steps.length-1;for(t=k(e.steps[n--],t);t.level>0&&n>=0;)t=k(e.steps[n--],t);break;default:throw{code:"S0217",token:e.type,position:e.position}}return t},_=function(e,t){if(void 0!==t.seekingParent||"parent"===t.type){var n=void 0!==t.seekingParent?t.seekingParent:[];"parent"===t.type&&n.push(t.slot),void 0===e.seekingParent?e.seekingParent=n:Array.prototype.push.apply(e.seekingParent,n)}},E=function(e){var t=e.steps.length-1,n=e.steps[t],r=void 0!==n.seekingParent?n.seekingParent:[];"parent"===n.type&&r.push(n.slot);for(var o=0;o<r.length;o++){var i=r[o];for(t=e.steps.length-2;i.level>0;){if(t<0){void 0===e.seekingParent?e.seekingParent=[i]:e.seekingParent.push(i);break}for(var a=e.steps[t--];t>=0&&a.focus&&e.steps[t].focus;)a=e.steps[t--];i=k(a,i)}}},C=function(e){var t;switch(e.type){case"binary":switch(e.value){case".":var n=C(e.lhs);t="path"===n.type?n:{type:"path",steps:[n]},"parent"===n.type&&(t.seekingParent=[n.slot]);var r=C(e.rhs);"function"===r.type&&"path"===r.procedure.type&&1===r.procedure.steps.length&&"name"===r.procedure.steps[0].type&&"function"===t.steps[t.steps.length-1].type&&(t.steps[t.steps.length-1].nextFunction=r.procedure.steps[0].value),"path"===r.type?Array.prototype.push.apply(t.steps,r.steps):(void 0!==r.predicate&&(r.stages=r.predicate,delete r.predicate),t.steps.push(r)),t.steps.filter((function(e){if("number"===e.type||"value"===e.type)throw{code:"S0213",stack:(new Error).stack,position:e.position,value:e.value};return"string"===e.type})).forEach((function(e){e.type="name"})),t.steps.filter((function(e){return!0===e.keepArray})).length>0&&(t.keepSingletonArray=!0);var i=t.steps[0];"unary"===i.type&&"["===i.value&&(i.consarray=!0);var a=t.steps[t.steps.length-1];"unary"===a.type&&"["===a.value&&(a.consarray=!0),E(t);break;case"[":var s=t=C(e.lhs),c="predicate";if("path"===t.type&&(s=t.steps[t.steps.length-1],c="stages"),void 0!==s.group)throw{code:"S0209",stack:(new Error).stack,position:e.position};void 0===s[c]&&(s[c]=[]);var u=C(e.rhs);void 0!==u.seekingParent&&(u.seekingParent.forEach((e=>{1===e.level?k(s,e):e.level--})),_(s,u)),s[c].push({type:"filter",expr:u,position:e.position});break;case"{":if(void 0!==(t=C(e.lhs)).group)throw{code:"S0210",stack:(new Error).stack,position:e.position};t.group={lhs:e.rhs.map((function(e){return[C(e[0]),C(e[1])]})),position:e.position};break;case"^":"path"!==(t=C(e.lhs)).type&&(t={type:"path",steps:[t]});var d={type:"sort",position:e.position};d.terms=e.rhs.map((function(e){var t=C(e.expression);return _(d,t),{descending:e.descending,expression:t}})),t.steps.push(d),E(t);break;case":=":(t={type:"bind",value:e.value,position:e.position}).lhs=C(e.lhs),t.rhs=C(e.rhs),_(t,t.rhs);break;case"@":if(t=C(e.lhs),s=t,"path"===t.type&&(s=t.steps[t.steps.length-1]),void 0!==s.stages||void 0!==s.predicate)throw{code:"S0215",stack:(new Error).stack,position:e.position};if("sort"===s.type)throw{code:"S0216",stack:(new Error).stack,position:e.position};e.keepArray&&(s.keepArray=!0),s.focus=e.rhs.value,s.tuple=!0;break;case"#":t=C(e.lhs),s=t,"path"===t.type?s=t.steps[t.steps.length-1]:(t={type:"path",steps:[t]},void 0!==s.predicate&&(s.stages=s.predicate,delete s.predicate)),void 0===s.stages?s.index=e.rhs.value:s.stages.push({type:"index",value:e.rhs.value,position:e.position}),s.tuple=!0;break;case"~>":(t={type:"apply",value:e.value,position:e.position}).lhs=C(e.lhs),t.rhs=C(e.rhs);break;default:(t={type:e.type,value:e.value,position:e.position}).lhs=C(e.lhs),t.rhs=C(e.rhs),_(t,t.lhs),_(t,t.rhs)}break;case"unary":t={type:e.type,value:e.value,position:e.position},"["===e.value?t.expressions=e.expressions.map((function(e){var n=C(e);return _(t,n),n})):"{"===e.value?t.lhs=e.lhs.map((function(e){var n=C(e[0]);_(t,n);var r=C(e[1]);return _(t,r),[n,r]})):(t.expression=C(e.expression),"-"===e.value&&"number"===t.expression.type?(t=t.expression).value=-t.value:_(t,t.expression));break;case"function":case"partial":(t={type:e.type,name:e.name,value:e.value,position:e.position}).arguments=e.arguments.map((function(e){var n=C(e);return _(t,n),n})),t.procedure=C(e.procedure);break;case"lambda":t={type:e.type,arguments:e.arguments,signature:e.signature,position:e.position};var p=C(e.body);t.body=w(p);break;case"condition":(t={type:e.type,position:e.position}).condition=C(e.condition),_(t,t.condition),t.then=C(e.then),_(t,t.then),void 0!==e.else&&(t.else=C(e.else),_(t,t.else));break;case"transform":(t={type:e.type,position:e.position}).pattern=C(e.pattern),t.update=C(e.update),void 0!==e.delete&&(t.delete=C(e.delete));break;case"block":(t={type:e.type,position:e.position}).expressions=e.expressions.map((function(e){var n=C(e);return _(t,n),(n.consarray||"path"===n.type&&n.steps[0].consarray)&&(t.consarray=!0),n}));break;case"name":t={type:"path",steps:[e]},e.keepArray&&(t.keepSingletonArray=!0);break;case"parent":t={type:"parent",slot:{label:"!"+x++,level:1,index:O++}},S.push(t);break;case"string":case"number":case"value":case"wildcard":case"descendant":case"variable":case"regex":t=e;break;case"operator":if("and"===e.value||"or"===e.value||"in"===e.value)e.type="name",t=C(e);else{if("?"!==e.value)throw{code:"S0201",stack:(new Error).stack,position:e.position,token:e.value};t=e}break;case"error":t=e,e.lhs&&(t=C(e.lhs));break;default:var f="S0206";"(end)"===e.id&&(f="S0207");var h={code:f,position:e.position,token:e.value};if(o)return l.push(h),{type:"error",error:h};throw h.stack=(new Error).stack,h}return e.keepArray&&(t.keepArray=!0),t};a=n(t),f();var T=h(0);if("(end)"!==i.id){var D={code:"S0201",position:i.position,token:i.value};p(D)}if("parent"===(T=C(T)).type||void 0!==T.seekingParent)throw{code:"S0217",token:T.type,position:T.position};return l.length>0&&(T.errors=l),T}})();t.exports=o},{"./signature":5}],5:[function(e,t,n){var r=e("./utils");const o=(()=>{"use strict";var e={a:"arrays",b:"booleans",f:"functions",n:"numbers",o:"objects",s:"strings"};return function(t){for(var n=1,o=[],i={},a=i;n<t.length;){var s=t.charAt(n);if(":"===s)break;var l=function(){o.push(i),a=i,i={}},c=function(e,t,n,r){for(var o=1,i=t;i<e.length;)if(i++,(s=e.charAt(i))===r){if(0==--o)break}else s===n&&o++;return i};switch(s){case"s":case"n":case"b":case"l":case"o":i.regex="["+s+"m]",i.type=s,l();break;case"a":i.regex="[asnblfom]",i.type=s,i.array=!0,l();break;case"f":i.regex="f",i.type=s,l();break;case"j":i.regex="[asnblom]",i.type=s,l();break;case"x":i.regex="[asnblfom]",i.type=s,l();break;case"-":a.context=!0,a.contextRegex=new RegExp(a.regex),a.regex+="?";break;case"?":case"+":a.regex+=s;break;case"(":var u=c(t,n,"(",")"),d=t.substring(n+1,u);if(-1!==d.indexOf("<"))throw{code:"S0402",stack:(new Error).stack,value:d,offset:n};i.regex="["+d+"m]",i.type="("+d+")",n=u,l();break;case"<":if("a"!==a.type&&"f"!==a.type)throw{code:"S0401",stack:(new Error).stack,value:a.type,offset:n};var p=c(t,n,"<",">");a.subtype=t.substring(n+1,p),n=p}n++}var f="^"+o.map((function(e){return"("+e.regex+")"})).join("")+"$",h=new RegExp(f),v=function(e){var t;if(r.isFunction(e))t="f";else switch(typeof e){case"string":t="s";break;case"number":t="n";break;case"boolean":t="b";break;case"object":t=null===e?"l":Array.isArray(e)?"a":"o";break;default:t="m"}return t};return{definition:t,validate:function(t,n){var r="";t.forEach((function(e){r+=v(e)}));var i=h.exec(r);if(i){var a=[],s=0;return o.forEach((function(r,o){var l=t[s],c=i[o+1];if(""===c)if(r.context&&r.contextRegex){var u=v(n);if(!r.contextRegex.test(u))throw{code:"T0411",stack:(new Error).stack,value:n,index:s+1};a.push(n)}else a.push(l),s++;else c.split("").forEach((function(n){if("a"===r.type){if("m"===n)l=void 0;else{l=t[s];var o=!0;if(void 0!==r.subtype)if("a"!==n&&c!==r.subtype)o=!1;else if("a"===n&&l.length>0){var i=v(l[0]);o=i===r.subtype.charAt(0)&&0===l.filter((function(e){return v(e)!==i})).length}if(!o)throw{code:"T0412",stack:(new Error).stack,value:l,index:s+1,type:e[r.subtype]};"a"!==n&&(l=[l])}a.push(l),s++}else a.push(l),s++}))})),a}!function(e,t){for(var n="^",r=0,i=0;i<o.length;i++){n+=o[i].regex;var a=t.match(n);if(null===a)throw{code:"T0410",stack:(new Error).stack,value:e[r],index:r+1};r=a[0].length}throw{code:"T0410",stack:(new Error).stack,value:e[r],index:r+1}}(t,r)}}}})();t.exports=o},{"./utils":6}],6:[function(e,t,n){const r=(()=>{"use strict";function e(e){var t=!1;if("number"==typeof e&&(t=!isNaN(e))&&!isFinite(e))throw{code:"D1001",value:e,stack:(new Error).stack};return t}var t=("function"==typeof Symbol?Symbol:{}).iterator||"@@iterator";return{isNumeric:e,isArrayOfStrings:function(e){var t=!1;return Array.isArray(e)&&(t=0===e.filter((function(e){return"string"!=typeof e})).length),t},isArrayOfNumbers:function(t){var n=!1;return Array.isArray(t)&&(n=0===t.filter((function(t){return!e(t)})).length),n},createSequence:function(){var e=[];return e.sequence=!0,1===arguments.length&&e.push(arguments[0]),e},isSequence:function(e){return!0===e.sequence&&Array.isArray(e)},isFunction:function(e){return e&&(!0===e._jsonata_function||!0===e._jsonata_lambda)||"function"==typeof e},isLambda:function(e){return e&&!0===e._jsonata_lambda},isIterable:function(e){return"object"==typeof e&&null!==e&&t in e&&"next"in e&&"function"==typeof e.next},getFunctionArity:function(e){return"number"==typeof e.arity?e.arity:"function"==typeof e.implementation?e.implementation.length:"number"==typeof e.length?e.length:e.arguments.length},isDeepEqual:function e(t,n){if(t===n)return!0;if("object"==typeof t&&"object"==typeof n&&null!==t&&null!==n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}var o=Object.getOwnPropertyNames(t),i=Object.getOwnPropertyNames(n);if(o.length!==i.length)return!1;for(o=o.sort(),i=i.sort(),r=0;r<o.length;r++)if(o[r]!==i[r])return!1;for(r=0;r<o.length;r++){var a=o[r];if(!e(t[a],n[a]))return!1}return!0}return!1},stringToArray:function(e){var t=[];for(let n of e)t.push(n);return t}}})();t.exports=r},{}]},{},[3])(3)},705:(e,t,n)=>{var r=n(639).Symbol;e.exports=r},239:(e,t,n)=>{var r=n(705),o=n(607),i=n(333),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},561:(e,t,n)=>{var r=n(990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},607:(e,t,n)=>{var r=n(705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},639:(e,t,n)=>{var r=n(957),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},567:(e,t,n)=>{var r=n(554);e.exports=function(e,t){var n;if("function"!=typeof t)throw new TypeError("Expected a function");return e=r(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}},703:e=>{e.exports=function(e){return function(){return e}}},279:(e,t,n)=>{var r=n(218),o=n(771),i=n(841),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,p,f,h=0,v=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=c;return l=c=void 0,h=t,d=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||m&&e-h>=u}function w(){var e=o();if(b(e))return x(e);p=setTimeout(w,function(e){var n=t-(e-f);return m?s(n,u-(e-h)):n}(e))}function x(e){return p=void 0,g&&l?y(e):(l=c=void 0,d)}function O(){var e=o(),n=b(e);if(l=arguments,c=this,f=e,n){if(void 0===p)return function(e){return h=e,p=setTimeout(w,t),v?y(e):d}(f);if(m)return clearTimeout(p),p=setTimeout(w,t),y(f)}return void 0===p&&(p=setTimeout(w,t)),d}return t=i(t)||0,r(n)&&(v=!!n.leading,u=(m="maxWait"in n)?a(i(n.maxWait)||0,t):u,g="trailing"in n?!!n.trailing:g),O.cancel=function(){void 0!==p&&clearTimeout(p),h=0,l=f=c=p=void 0},O.flush=function(){return void 0===p?d:x(o())},O}},557:e=>{e.exports=function(e){return e}},218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},5:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},448:(e,t,n)=>{var r=n(239),o=n(5);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},928:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},308:e=>{e.exports=function(){}},771:(e,t,n)=>{var r=n(639);e.exports=function(){return r.Date.now()}},463:(e,t,n)=>{var r=n(567);e.exports=function(e){return r(2,e)}},601:(e,t,n)=>{var r=n(841);e.exports=function(e){return e?Infinity===(e=r(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},554:(e,t,n)=>{var r=n(601);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},841:(e,t,n)=>{var r=n(561),o=n(218),i=n(448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},744:(e,t)=>{"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[e,r]of t)n[e]=r;return n}},748:t=>{"use strict";t.exports=e},789:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function(e,t){var n=document.createElement("_"),r=n.appendChild(document.createElement("_")),o=n.appendChild(document.createElement("_")),i=r.appendChild(document.createElement("_")),a=void 0,s=void 0;return r.style.cssText=n.style.cssText="height:100%;left:0;opacity:0;overflow:hidden;pointer-events:none;position:absolute;top:0;transition:0s;width:100%;z-index:-1",i.style.cssText=o.style.cssText="display:block;height:100%;transition:0s;width:100%",i.style.width=i.style.height="200%",e.appendChild(n),l(),function(){c(),e.removeChild(n)};function l(){c();var i=e.offsetWidth,u=e.offsetHeight;i===a&&u===s||(a=i,s=u,o.style.width=2*i+"px",o.style.height=2*u+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,t({width:i,height:u})),r.addEventListener("scroll",l),n.addEventListener("scroll",l)}function c(){r.removeEventListener("scroll",l),n.removeEventListener("scroll",l)}}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{"use strict";r.r(o),r.d(o,{DynamicForm:()=>ua,DynamicFormControl:()=>Qi,DynamicFormControlGroup:()=>Xi,DynamicFormControlSection:()=>sa,DynamicFormMultiSelect:()=>fe,DynamicFormNumberInput:()=>dt,DynamicFormSelect:()=>Je,isControl:()=>da,isDynamicControlGroup:()=>ma,isDynamicControlSection:()=>ga,isDynamicFormMeta:()=>ya,isMultiSelectControl:()=>ha,isNumberControl:()=>pa,isSelectControl:()=>fa,isSelectOption:()=>va});var e=r(748);const t=["disabled"],n=r.n(e)();var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a={kebab:/-(\w)/g,styleProp:/:(.*)/,styleList:/;(?![^(]*\))/g};function s(e,t){return t?t.toUpperCase():""}function l(e){for(var t,n={},r=0,o=e.split(a.styleList);r<o.length;r++){var i=o[r].split(a.styleProp),l=i[0],c=i[1];(l=l.trim())&&("string"==typeof c&&(c=c.trim()),n[(t=l,t.replace(a.kebab,s))]=c)}return n}function c(){for(var e,t,n={},r=arguments.length;r--;)for(var o=0,a=Object.keys(arguments[r]);o<a.length;o++)switch(e=a[o]){case"class":case"style":case"directives":if(Array.isArray(n[e])||(n[e]=[]),"style"===e){var s=void 0;s=Array.isArray(arguments[r].style)?arguments[r].style:[arguments[r].style];for(var c=0;c<s.length;c++){var u=s[c];"string"==typeof u&&(s[c]=l(u))}arguments[r].style=s}n[e]=n[e].concat(arguments[r][e]);break;case"staticClass":if(!arguments[r][e])break;void 0===n[e]&&(n[e]=""),n[e]&&(n[e]+=" "),n[e]+=arguments[r][e].trim();break;case"on":case"nativeOn":n[e]||(n[e]={});for(var d=0,p=Object.keys(arguments[r][e]||{});d<p.length;d++)t=p[d],n[e][t]?n[e][t]=[].concat(n[e][t],arguments[r][e][t]):n[e][t]=arguments[r][e][t];break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":n[e]||(n[e]={}),n[e]=i({},arguments[r][e],n[e]);break;default:n[e]||(n[e]=arguments[r][e])}return n}var u={id:{type:String,default:null},inline:{type:Boolean,default:!1},novalidate:{type:Boolean,default:!1},validated:{type:Boolean,default:!1}},d=n.extend({name:"BForm",functional:!0,props:u,render:function(e,t){var n=t.props,r=t.data,o=t.children;return e("form",c(r,{class:{"form-inline":n.inline,"was-validated":n.validated},attrs:{id:n.id,novalidate:n.novalidate}}),o)}}),p=r(998),f=r.n(p);const h={key:0,class:"col-form-label col-md-5"},v={key:0,class:"icon-small"},m=function(e){return e};var g=function(e){return Array.isArray(e)},y=function(e,t){return-1!==e.indexOf(t)},b=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply([],t)};function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}var x=function(e,t){return Object.create(e,t)},O=function(e){return Object.keys(e)},S=function(e){return null!==e&&"object"===w(e)},k=function(e){return"[object Object]"===Object.prototype.toString.call(e)};const _=function(e){var t=x(null);return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=JSON.stringify(r);return t[i]=t[i]||e.apply(null,r)}};function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}var C=function(e){return E(e)},T=function(e){return void 0===e},D=function(e){return null===e},A=function(e){return T(e)||D(e)},N=function(e){return"function"===C(e)},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return A(e)?"":g(e)||k(e)&&e.toString===Object.prototype.toString?JSON.stringify(e,null,t):String(e)},M=function(e){return j(e).toLowerCase()};const $=function(e,t){return t+(e?function(e){return(t=e,e="string"===C(t)?e.trim():String(e)).charAt(0).toUpperCase()+e.slice(1);var t}(e):"")};function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const P=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return g(t)?t.reduce((function(t,n){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(r=t)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}(),[e(n,n)]);var r}),[]):k(t)?O(t).reduce((function(n,r){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,B({},r,e(t[r],t[r])))}),{}):n};var I=/\[(\d+)]/g;const F=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!(t=g(t)?t.join("."):t)||!S(e))return n;if(t in e)return e[t];var r=(t=String(t).replace(I,".$1")).split(".").filter(m);return 0===r.length?n:r.every((function(t){return S(e)&&t in e&&null!=(e=e[t])}))?e:n},z=function e(t){return O(t).forEach((function(n){var r=t[n];t[n]=r&&(k(r)||g(r))?e(r):r})),function(e){return Object.freeze(e)}(t)}({breakpoints:["xs","sm","md","lg","xl"],formControls:{size:null},BAlert:{dismissLabel:"Close",variant:"info"},BBadge:{variant:"secondary"},BButton:{size:null,variant:"secondary"},BButtonClose:{content:"&times;",textVariant:null,ariaLabel:"Close"},BCalendar:{labelPrevYear:"Previous year",labelPrevMonth:"Previous month",labelCurrentMonth:"Current month",labelNextMonth:"Next month",labelNextYear:"Next year",labelToday:"Today",labelSelected:"Selected date",labelNoDateSelected:"No date selected",labelCalendar:"Calendar",labelNav:"Calendar navigation",labelHelp:"Use cursor keys to navigate calendar dates"},BCardSubTitle:{subTitleTextVariant:"muted"},BCarousel:{labelPrev:"Previous Slide",labelNext:"Next Slide",labelGotoSlide:"Goto Slide",labelIndicators:"Select a slide to display"},BDropdown:{toggleText:"Toggle Dropdown",size:null,variant:"secondary",splitVariant:null},BFormDatepicker:{labelPrevYear:null,labelPrevMonth:null,labelCurrentMonth:null,labelNextMonth:null,labelNextYear:null,labelToday:null,labelSelected:null,labelNoDateSelected:null,labelCalendar:null,labelNav:null,labelHelp:null,labelTodayButton:"Select today",labelResetButton:"Reset",labelCloseButton:"Close"},BFormFile:{browseText:"Browse",placeholder:"No file chosen",dropPlaceholder:"Drop files here"},BFormSpinbutton:{labelDecrement:"Decrement",labelIncrement:"Increment"},BFormTag:{removeLabel:"Remove tag",variant:"secondary"},BFormTags:{addButtonText:"Add",addButtonVariant:"outline-secondary",duplicateTagText:"Duplicate tag(s)",invalidTagText:"Invalid tag(s)",placeholder:"Add tag...",tagRemoveLabel:"Remove tag",tagRemovedLabel:"Tag removed",tagVariant:"secondary"},BFormText:{textVariant:"muted"},BImg:{blankColor:"transparent"},BImgLazy:{blankColor:"transparent"},BInputGroup:{size:null},BJumbotron:{bgVariant:null,borderVariant:null,textVariant:null},BListGroupItem:{variant:null},BModal:{titleTag:"h5",size:"md",headerBgVariant:null,headerBorderVariant:null,headerTextVariant:null,headerCloseVariant:null,bodyBgVariant:null,bodyTextVariant:null,footerBgVariant:null,footerBorderVariant:null,footerTextVariant:null,cancelTitle:"Cancel",cancelVariant:"secondary",okTitle:"OK",okVariant:"primary",headerCloseContent:"&times;",headerCloseLabel:"Close"},BNavbar:{variant:null},BNavbarToggle:{label:"Toggle navigation"},BPagination:{size:null},BPaginationNav:{size:null},BPopover:{boundary:"scrollParent",boundaryPadding:5,customClass:null,delay:50,variant:null},BProgress:{variant:null},BProgressBar:{variant:null},BSpinner:{variant:null},BTable:{selectedVariant:"active",headVariant:null,footVariant:null},BToast:{toaster:"b-toaster-top-right",autoHideDelay:5e3,variant:null,toastClass:null,headerClass:null,bodyClass:null},BToaster:{ariaLive:null,ariaAtomic:null,role:null},BTooltip:{boundary:"scrollParent",boundaryPadding:5,customClass:null,delay:50,variant:null}});var V="$bvConfig",R=n.prototype,H=function(e){return R[V]?R[V].getConfigValue(e):P(F(z,e))},W=_((function(){return H("breakpoints")})),U=_((function(){var e=P(W());return e[0]="",e}));function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=["start","end","center"],Q=_((function(e,t){var n;return n=j(t),(t=j(n).trim())?M(["row-cols",e,t].filter(m).join("-")):null})),Z=_((function(e){return M(e.replace("cols",""))})),X=[],J={name:"BRow",functional:!0,get props(){return delete this.props,this.props=(e=U().reduce((function(e,t){return e[$(t,"cols")]={type:[String,Number],default:null},e}),x(null)),X=O(e),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({tag:{type:String,default:"div"},noGutters:{type:Boolean,default:!1},alignV:{type:String,default:null,validator:function(e){return y(Y.concat(["baseline","stretch"]),e)}},alignH:{type:String,default:null,validator:function(e){return y(Y.concat(["between","around"]),e)}},alignContent:{type:String,default:null,validator:function(e){return y(Y.concat(["between","around","stretch"]),e)}}},e)),this.props;var e},render:function(e,t){var n,r=t.props,o=t.data,i=t.children,a=[];return X.forEach((function(e){var t=Q(Z(e),r[e]);t&&a.push(t)})),a.push((G(n={"no-gutters":r.noGutters},"align-items-".concat(r.alignV),r.alignV),G(n,"justify-content-".concat(r.alignH),r.alignH),G(n,"align-content-".concat(r.alignContent),r.alignContent),n)),e(r.tag,c(o,{staticClass:"row",class:a}),i)}};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=/^col-/,ne=function(){return{type:[String,Number],default:null}},re=_((function(e,t,n){var r=e;if(!A(n)&&!1!==n)return t&&(r+="-".concat(t)),"col"!==e||""!==n&&!0!==n?(r+="-".concat(n),M(r)):M(r)})),oe=x(null),ie={name:"BCol",functional:!0,get props(){return delete this.props,this.props=(e=U().filter(m),t=e.reduce((function(e,t){return t&&(e[t]={type:[Boolean,String,Number],default:!1}),e}),x(null)),n=e.reduce((function(e,t){return e[$(t,"offset")]=ne(),e}),x(null)),r=e.reduce((function(e,t){return e[$(t,"order")]=ne(),e}),x(null)),oe=function(){return Object.assign.apply(Object,arguments)}(x(null),{col:O(t),offset:O(n),order:O(r)}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({col:{type:Boolean,default:!1},cols:ne()},t,{offset:ne()},n,{order:ne()},r,{alignSelf:{type:String,default:null,validator:function(e){return y(["auto","start","end","center","baseline","stretch"],e)}},tag:{type:String,default:"div"}}));var e,t,n,r},render:function(e,t){var n,r=t.props,o=t.data,i=t.children,a=[];for(var s in oe)for(var l=oe[s],u=0;u<l.length;u++){var d=re(s,l[u].replace(s,""),r[l[u]]);d&&a.push(d)}var p=a.some((function(e){return te.test(e)}));return a.push((ee(n={col:r.col||!p&&!r.cols},"col-".concat(r.cols),r.cols),ee(n,"offset-".concat(r.offset),r.offset),ee(n,"order-".concat(r.order),r.order),ee(n,"align-self-".concat(r.alignSelf),r.alignSelf),n)),e(r.tag,c(o,{class:a}),i)}};const ae={key:0},se={key:0,class:"icon-small"},le=["value","name"];var ce=r(301),ue=r.n(ce);const de=(0,e.defineComponent)({name:"DynamicFormMultiSelect",components:{TreeSelect:ue()},model:{prop:"formControl",event:"change"},props:{formControl:{type:Object,required:!1},selectText:String,groupLabel:String},emits:["change"],setup:(t,{emit:n})=>({value:(0,e.computed)({get(){const e=t.formControl?.value;return Array.isArray(e)?e:"string"==typeof e?[e]:[]},set(e){n("change",{...t.formControl,value:e})}})})});var pe=r(744);const fe=(0,pe.Z)(de,[["render",function(t,n,r,o,i,a){const s=(0,e.resolveComponent)("tree-select");return(0,e.openBlock)(),(0,e.createElementBlock)("div",null,[(0,e.createVNode)(s,{multiple:!0,clearable:!1,"aria-label":t.formControl.label?t.formControl.label:t.groupLabel,modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=e=>t.value=e),options:t.formControl.options,placeholder:t.selectText},null,8,["aria-label","modelValue","options","placeholder"]),(0,e.createElementVNode)("input",{type:"hidden",value:t.formControl.value,name:t.formControl.name},null,8,le)])}]]),he=["aria-label","name","required"],ve={key:0,value:""},me=["value"];var ge=/(<([^>]+)>)/gi,ye=function(){return String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(ge,"")},be=function(e,t){return e?{innerHTML:e}:t?{textContent:t}:{}};const we={props:{id:{type:String,default:null}},data:function(){return{localId_:null}},computed:{safeId:function(){var e=this.id||this.localId_;return function(t){return e?(t=String(t||"").replace(/\s+/g,"_"))?e+"_"+t:e:null}}},mounted:function(){var e=this;this.$nextTick((function(){e.localId_="__BVID__".concat(e._uid)}))}};var xe="undefined"!=typeof window,Oe="undefined"!=typeof document,Se="undefined"!=typeof navigator,ke=xe&&Oe&&Se,_e=ke?window.navigator.userAgent.toLowerCase():"",Ee=(_e.indexOf("jsdom"),/msie|trident/.test(_e),function(){var e=!1;if(ke)try{var t={get passive(){e=!0}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e=!1}return e}()),Ce=(ke&&("ontouchstart"in document.documentElement||navigator.maxTouchPoints),ke&&Boolean(window.PointerEvent||window.MSPointerEvent),ke&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&window.IntersectionObserverEntry.prototype,function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="undefined"!=typeof process&&process&&process.env||{};return e?n[e]||t:n}("BOOTSTRAP_VUE_NO_WARN")}),Te=xe?window:{},De=Oe?document:{},Ae="undefined"!=typeof Element?Element.prototype:{},Ne=Ae.matches||Ae.msMatchesSelector||Ae.webkitMatchesSelector,je=Ae.closest||function(e){var t=this;do{if(Be(t,e))return t;t=t.parentElement||t.parentNode}while(!D(t)&&t.nodeType===Node.ELEMENT_NODE);return null},Me=Te.requestAnimationFrame||Te.webkitRequestAnimationFrame||Te.mozRequestAnimationFrame||Te.msRequestAnimationFrame||Te.oRequestAnimationFrame||function(e){return setTimeout(e,16)},$e=(Te.MutationObserver||Te.WebKitMutationObserver||Te.MozMutationObserver,function(e){return!(!e||e.nodeType!==Node.ELEMENT_NODE)}),Le=function(e){return $e(e)&&e.offsetHeight},Be=function(e,t){return!!$e(e)&&Ne.call(e,t)},Pe=function(e){return $e(e)?e.getBoundingClientRect():null},Ie=function(e){return xe&&$e(e)?Te.getComputedStyle(e):{}},Fe="input, textarea, select";const ze={props:{name:{type:String},id:{type:String},disabled:{type:Boolean},required:{type:Boolean,default:!1},form:{type:String,default:null},autofocus:{type:Boolean,default:!1}},mounted:function(){this.handleAutofocus()},activated:function(){this.handleAutofocus()},methods:{handleAutofocus:function(){var e=this;this.$nextTick((function(){Me((function(){var t,n,r=e.$el;e.autofocus&&function(e){if(!($e(e)&&e.parentNode&&(t=De.body,n=e,t&&N(t.contains)&&t.contains(n))))return!1;var t,n;if("none"===e.style.display)return!1;var r=Pe(e);return!!(r&&r.height>0&&r.width>0)}(r)&&(Be(r,Fe)||(t=Fe,r=($e(n=r)?n:De).querySelector(t)||null),r&&r.focus&&r.focus())}))}))}}},Ve={props:{size:{type:String,default:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?H("".concat(e,".").concat(t)):H(e)||{}}("formControls","size")}}},computed:{sizeFormClass:function(){return[this.size?"form-control-".concat(this.size):null]},sizeBtnClass:function(){return[this.size?"btn-".concat(this.size):null]}}},Re={props:{state:{type:Boolean,default:null}},computed:{computedState:function(){return e=this.state,"boolean"===C(e)?this.state:null;var e},stateClass:function(){var e=this.computedState;return!0===e?"is-valid":!1===e?"is-invalid":null}}},He={props:{plain:{type:Boolean,default:!1}},computed:{custom:function(){return!this.plain}}};const We={methods:{hasNormalizedSlot:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(e=b(e).filter(m)).some((function(e){return t[e]||n[e]}))}(e,this.$scopedSlots,this.$slots)},normalizeSlot:function(e){var t=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=b(e).filter(m);for(var i=0;i<e.length&&!t;i++){var a=e[i];t=r[a]||o[a]}return N(t)?t(n):t}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},this.$scopedSlots,this.$slots);return t?b(t):t}}};const Ue={props:{options:{type:[Array,Object],default:function(){return[]}},valueField:{type:String,default:"value"},textField:{type:String,default:"text"},htmlField:{type:String,default:"html"},disabledField:{type:String,default:"disabled"}},computed:{formOptions:function(){var e=this,t=this.options;return g(t)?t.map((function(t){return e.normalizeOption(t)})):(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ce()||console.warn("[BootstrapVue warn]: ".concat(t?"".concat(t," - "):"").concat(e))}('Setting prop "options" to an object is deprecated. Use the array format instead.',this.$options.name),O(t).map((function(n){return e.normalizeOption(t[n]||{},n)})))}},methods:{normalizeOption:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(k(e)){var n=F(e,this.valueField),r=F(e,this.textField);return{value:T(n)?t||r:n,text:ye(String(T(r)?t:r)),html:F(e,this.htmlField),disabled:Boolean(F(e,this.disabledField))}}return{value:t||e,text:ye(String(e)),disabled:!1}}}},qe={mixins:[Ue],props:{labelField:{type:String,default:"label"},optionsField:{type:String,default:"options"}},methods:{normalizeOption:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(k(e)){var n=F(e,this.valueField),r=F(e,this.textField),o=F(e,this.optionsField);return g(o)?{label:String(F(e,this.labelField)||r),options:o}:{value:T(n)?t||r:n,text:String(T(r)?t:r),html:F(e,this.htmlField),disabled:Boolean(F(e,this.disabledField))}}return{value:t||e,text:String(e),disabled:!1}}}};var Ge={value:{required:!0},disabled:{type:Boolean,default:!1}},Ye=n.extend({name:"BFormSelectOption",functional:!0,props:Ge,render:function(e,t){var n=t.props,r=t.data,o=t.children,i=n.value;return e("option",c(r,{attrs:{disabled:n.disabled},domProps:{value:i}}),o)}}),Qe=n.extend({name:"BFormSelectOptionGroup",mixins:[We,Ue],props:{label:{type:String,required:!0}},render:function(e){return e("optgroup",{attrs:{label:this.label}},[this.normalizeSlot("first"),this.formOptions.map((function(t,n){return e(Ye,{props:{value:t.value,disabled:t.disabled},domProps:be(t.html,t.text),key:"option_".concat(n,"_opt")})})),this.normalizeSlot("default")])}}),Ze=n.extend({name:"BFormSelect",mixins:[we,We,ze,Ve,Re,He,qe],model:{prop:"value",event:"input"},props:{value:{},multiple:{type:Boolean,default:!1},selectSize:{type:Number,default:0},ariaInvalid:{type:[Boolean,String],default:!1}},data:function(){return{localValue:this.value}},computed:{computedSelectSize:function(){return this.plain||0!==this.selectSize?this.selectSize:null},inputClass:function(){return[this.plain?"form-control":"custom-select",this.size&&this.plain?"form-control-".concat(this.size):null,this.size&&!this.plain?"custom-select-".concat(this.size):null,this.stateClass]},computedAriaInvalid:function(){return!0===this.ariaInvalid||"true"===this.ariaInvalid||"is-invalid"===this.stateClass?"true":null}},watch:{value:function(e){this.localValue=e},localValue:function(){this.$emit("input",this.localValue)}},methods:{focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()}},render:function(e){var t=this;return e("select",{ref:"input",class:this.inputClass,directives:[{name:"model",rawName:"v-model",value:this.localValue,expression:"localValue"}],attrs:{id:this.safeId(),name:this.name,form:this.form||null,multiple:this.multiple||null,size:this.computedSelectSize,disabled:this.disabled,required:this.required,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid},on:{change:function(e){var n=e.target,r=function(){return Array.from.apply(Array,arguments)}(n.options).filter((function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));t.localValue=n.multiple?r:r[0],t.$nextTick((function(){t.$emit("change",t.localValue)}))}}},[this.normalizeSlot("first"),this.formOptions.map((function(t,n){var r="option_".concat(n,"_opt"),o=t.options;return g(o)?e(Qe,{props:{label:t.label,options:o},key:r}):e(Ye,{props:{value:t.value,disabled:t.disabled},domProps:be(t.html,t.text),key:r})})),this.normalizeSlot("default")])}});const Xe=(0,e.defineComponent)({name:"DynamicFormSelect",components:{BFormSelect:Ze},props:{formControl:Object,selectText:String,groupLabel:String},emits:["change"],model:{prop:"formControl",event:"change"},setup(t,{emit:n}){(0,e.onMounted)((()=>{t.formControl?.excludeNullOption&&!t.formControl.value&&(r.value=t.formControl.options[0].id)}));const r=(0,e.computed)({get:()=>t.formControl?.value||"",set(e){n("change",{...t.formControl,value:e})}});return{value:r}}}),Je=(0,pe.Z)(Xe,[["render",function(t,n,r,o,i,a){return(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("select",{class:"form-control","aria-label":t.formControl.label?t.formControl.label:t.groupLabel,"onUpdate:modelValue":n[0]||(n[0]=e=>t.value=e),name:t.formControl.name,required:t.formControl.required},[t.formControl.excludeNullOption?(0,e.createCommentVNode)("v-if",!0):((0,e.openBlock)(),(0,e.createElementBlock)("option",ve,(0,e.toDisplayString)(t.selectText),1)),((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(t.formControl.options,(t=>((0,e.openBlock)(),(0,e.createElementBlock)("option",{key:t.id,value:t.id},(0,e.toDisplayString)(t.label),9,me)))),128))],8,he)),[[e.vModelSelect,t.value]])}]]);var Ke={passive:!0,capture:!1},et=function(e){return Ee?S(e)?e:{capture:!!e||!1}:!!(S(e)?e.capture:e)},tt=function(e,t,n,r){e&&e.addEventListener&&e.addEventListener(t,n,et(r))},nt=function(e,t,n,r){e&&e.removeEventListener&&e.removeEventListener(t,n,et(r))},rt=function(e){for(var t=e?tt:nt,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.apply(void 0,r)};const ot={model:{prop:"value",event:"update"},props:{value:{type:[String,Number],default:""},ariaInvalid:{type:[Boolean,String],default:!1},readonly:{type:Boolean,default:!1},plaintext:{type:Boolean,default:!1},autocomplete:{type:String,default:null},placeholder:{type:String,default:null},formatter:{type:Function,default:null},lazyFormatter:{type:Boolean,default:!1},trim:{type:Boolean,default:!1},number:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},debounce:{type:[Number,String],default:0}},data:function(){return{localValue:j(this.value),vModelValue:this.value}},computed:{computedClass:function(){return[{"custom-range":"range"===this.type,"form-control-plaintext":this.plaintext&&"range"!==this.type&&"color"!==this.type,"form-control":!this.plaintext&&"range"!==this.type||"color"===this.type},this.sizeFormClass,this.stateClass]},computedAriaInvalid:function(){return this.ariaInvalid&&"false"!==this.ariaInvalid?!0===this.ariaInvalid?"true":this.ariaInvalid:!1===this.computedState?"true":null},computedDebounce:function(){return Math.max((e=this.debounce,parseInt(e,10)||0),0);var e},hasFormatter:function(){return N(this.formatter)}},watch:{value:function(e){var t=j(e);t!==this.localValue&&e!==this.vModelValue&&(this.clearDebounce(),this.localValue=t,this.vModelValue=e)}},mounted:function(){this.$_inputDebounceTimer=null,this.$on("hook:beforeDestroy",this.clearDebounce);var e=this.value,t=j(e);t!==this.localValue&&e!==this.vModelValue&&(this.localValue=t,this.vModelValue=e)},methods:{clearDebounce:function(){clearTimeout(this.$_inputDebounceTimer),this.$_inputDebounceTimer=null},formatValue:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e=j(e),!this.hasFormatter||this.lazyFormatter&&!n||(e=this.formatter(e,t)),e},modifyValue:function(e){if(this.trim&&(e=e.trim()),this.number){var t=parseFloat(e);e=isNaN(t)?e:t}return e},updateValue:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.lazy;if(!r||n)if((e=this.modifyValue(e))!==this.vModelValue){this.clearDebounce();var o=function(){t.vModelValue=e,t.$emit("update",e)},i=this.computedDebounce;i>0&&!r&&!n?this.$_inputDebounceTimer=setTimeout(o,i):o()}else if(this.hasFormatter){var a=this.$refs.input;a&&e!==a.value&&(a.value=e)}},onInput:function(e){if(!e.target.composing){var t=e.target.value,n=this.formatValue(t,e);!1===n||e.defaultPrevented?e.preventDefault():(this.localValue=n,this.updateValue(n),this.$emit("input",n))}},onChange:function(e){var t=e.target.value,n=this.formatValue(t,e);!1===n||e.defaultPrevented?e.preventDefault():(this.localValue=n,this.updateValue(n,!0),this.$emit("change",n))},onBlur:function(e){var t=e.target.value,n=this.formatValue(t,e,!0);!1!==n&&(this.localValue=j(this.modifyValue(n)),this.updateValue(n,!0)),this.$emit("blur",e)},focus:function(){this.disabled||this.$el.focus()},blur:function(){this.disabled||this.$el.blur()}}};function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){st(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lt=["text","password","email","number","url","tel","search","range","color","date","time","datetime","datetime-local","month","week"],ct=n.extend({name:"BFormInput",mixins:[we,ze,Ve,Re,ot,{computed:{selectionStart:{cache:!1,get:function(){return this.$refs.input.selectionStart},set:function(e){this.$refs.input.selectionStart=e}},selectionEnd:{cache:!1,get:function(){return this.$refs.input.selectionEnd},set:function(e){this.$refs.input.selectionEnd=e}},selectionDirection:{cache:!1,get:function(){return this.$refs.input.selectionDirection},set:function(e){this.$refs.input.selectionDirection=e}}},methods:{select:function(){var e;(e=this.$refs.input).select.apply(e,arguments)},setSelectionRange:function(){var e;(e=this.$refs.input).setSelectionRange.apply(e,arguments)},setRangeText:function(){var e;(e=this.$refs.input).setRangeText.apply(e,arguments)}}},{computed:{validity:{cache:!1,get:function(){return this.$refs.input.validity}},validationMessage:{cache:!1,get:function(){return this.$refs.input.validationMessage}},willValidate:{cache:!1,get:function(){return this.$refs.input.willValidate}}},methods:{setCustomValidity:function(){var e;return(e=this.$refs.input).setCustomValidity.apply(e,arguments)},checkValidity:function(){var e;return(e=this.$refs.input).checkValidity.apply(e,arguments)},reportValidity:function(){var e;return(e=this.$refs.input).reportValidity.apply(e,arguments)}}}],props:{type:{type:String,default:"text",validator:function(e){return y(lt,e)}},noWheel:{type:Boolean,default:!1},min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:{type:[String,Number],default:null},list:{type:String,default:null}},computed:{localType:function(){return y(lt,this.type)?this.type:"text"}},watch:{noWheel:function(e){this.setWheelStopper(e)}},mounted:function(){this.setWheelStopper(this.noWheel)},deactivated:function(){this.setWheelStopper(!1)},activated:function(){this.setWheelStopper(this.noWheel)},beforeDestroy:function(){this.setWheelStopper(!1)},methods:{setWheelStopper:function(e){var t=this.$el;rt(e,t,"focus",this.onWheelFocus),rt(e,t,"blur",this.onWheelBlur),e||nt(document,"wheel",this.stopWheel)},onWheelFocus:function(){tt(document,"wheel",this.stopWheel)},onWheelBlur:function(){nt(document,"wheel",this.stopWheel)},stopWheel:function(e){e.preventDefault(),this.$el.blur()}},render:function(e){var t=this;return e("input",{ref:"input",class:t.computedClass,directives:[{name:"model",rawName:"v-model",value:t.localValue,expression:"localValue"}],attrs:{id:t.safeId(),name:t.name,form:t.form||null,type:t.localType,disabled:t.disabled,placeholder:t.placeholder,required:t.required,autocomplete:t.autocomplete||null,readonly:t.readonly||t.plaintext,min:t.min,max:t.max,step:t.step,list:"password"!==t.localType?t.list:null,"aria-required":t.required?"true":null,"aria-invalid":t.computedAriaInvalid},domProps:{value:t.localValue},on:at({},t.$listeners,{input:t.onInput,change:t.onChange,blur:t.onBlur})})}});const ut=(0,e.defineComponent)({name:"DynamicFormNumberInput",components:{BFormInput:ct},model:{prop:"formControl",event:"change"},props:{formControl:Object,groupLabel:String},emits:["change"],setup:(t,{emit:n})=>({value:(0,e.computed)({get:()=>t.formControl?.value,set(e){n("change",{...t.formControl,value:e})}})})}),dt=(0,pe.Z)(ut,[["render",function(t,n,r,o,i,a){const s=(0,e.resolveComponent)("b-form-input");return(0,e.openBlock)(),(0,e.createBlock)(s,{name:t.formControl.name,"aria-label":t.formControl.label?t.formControl.label:t.groupLabel,type:"number",number:!0,modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=e=>t.value=e),min:t.formControl.min,max:t.formControl.max,step:t.formControl.step,required:t.formControl.required},null,8,["name","aria-label","modelValue","min","max","step","required"])}]]),pt={class:"dynamic-form-readonly-value"},ft=(0,e.defineComponent)({name:"DynamicFormReadonlyValue",model:{prop:"formControl"},props:{formControl:{type:Object,required:!1}},setup(t){const n=(0,e.computed)((()=>{const e=t.formControl.options;if(e){const t=e=>{let n=[];return e.forEach((e=>{n.push(e),e.children&&(n=n.concat(t(e.children)))})),n};return t(e)}return null})),r=(0,e.computed)((()=>{const e=t.formControl?.value;if(!e||Array.isArray(e)&&0==e.length)return"";const r=n.value;if(r){const t=(Array.isArray(e)?e:[e]).map((e=>{const t=r.find((t=>t.id==e));return t?t.label:e}));return t.join(", ")}return"number"==typeof t.formControl?.value?(new Intl.NumberFormat).format(t.formControl.value):t.formControl?.value}));return{value:r,flattenedOptions:n}}}),ht=(0,pe.Z)(ft,[["render",function(t,n,r,o,i,a){return(0,e.openBlock)(),(0,e.createElementBlock)("div",pt,(0,e.toDisplayString)(t.value),1)}]]);var vt="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,mt=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(vt&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}(),gt=vt&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),mt))}};function yt(e){return e&&"[object Function]"==={}.toString.call(e)}function bt(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function wt(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function xt(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=bt(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:xt(wt(e))}function Ot(e){return e&&e.referenceNode?e.referenceNode:e}var St=vt&&!(!window.MSInputMethodContext||!document.documentMode),kt=vt&&/MSIE 10/.test(navigator.userAgent);function _t(e){return 11===e?St:10===e?kt:St||kt}function Et(e){if(!e)return document.documentElement;for(var t=_t(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===bt(n,"position")?Et(n):n:e?e.ownerDocument.documentElement:document.documentElement}function Ct(e){return null!==e.parentNode?Ct(e.parentNode):e}function Tt(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a,s,l=i.commonAncestorContainer;if(e!==l&&t!==l||r.contains(o))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&Et(a.firstElementChild)!==a?Et(l):l;var c=Ct(e);return c.host?Tt(c.host,t):Tt(e,Ct(t).host)}function Dt(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function At(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function Nt(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],_t(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function jt(e){var t=e.body,n=e.documentElement,r=_t(10)&&getComputedStyle(n);return{height:Nt("Height",t,n,r),width:Nt("Width",t,n,r)}}var Mt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$t=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Bt(e){return Lt({},e,{right:e.left+e.width,bottom:e.top+e.height})}function Pt(e){var t={};try{if(_t(10)){t=e.getBoundingClientRect();var n=Dt(e,"top"),r=Dt(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?jt(e.ownerDocument):{},a=i.width||e.clientWidth||o.width,s=i.height||e.clientHeight||o.height,l=e.offsetWidth-a,c=e.offsetHeight-s;if(l||c){var u=bt(e);l-=At(u,"x"),c-=At(u,"y"),o.width-=l,o.height-=c}return Bt(o)}function It(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=_t(10),o="HTML"===t.nodeName,i=Pt(e),a=Pt(t),s=xt(e),l=bt(t),c=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);n&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=Bt({top:i.top-a.top-c,left:i.left-a.left-u,width:i.width,height:i.height});if(d.marginTop=0,d.marginLeft=0,!r&&o){var p=parseFloat(l.marginTop),f=parseFloat(l.marginLeft);d.top-=c-p,d.bottom-=c-p,d.left-=u-f,d.right-=u-f,d.marginTop=p,d.marginLeft=f}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Dt(t,"top"),o=Dt(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}(d,t)),d}function Ft(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===bt(e,"position"))return!0;var n=wt(e);return!!n&&Ft(n)}function zt(e){if(!e||!e.parentElement||_t())return document.documentElement;for(var t=e.parentElement;t&&"none"===bt(t,"transform");)t=t.parentElement;return t||document.documentElement}function Vt(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=o?zt(e):Tt(e,Ot(t));if("viewport"===r)i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=It(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:Dt(n),s=t?0:Dt(n,"left");return Bt({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:o,height:i})}(a,o);else{var s=void 0;"scrollParent"===r?"BODY"===(s=xt(wt(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var l=It(s,a,o);if("HTML"!==s.nodeName||Ft(a))i=l;else{var c=jt(e.ownerDocument),u=c.height,d=c.width;i.top+=l.top-l.marginTop,i.bottom=u+l.top,i.left+=l.left-l.marginLeft,i.right=d+l.left}}var p="number"==typeof(n=n||0);return i.left+=p?n:n.left||0,i.top+=p?n:n.top||0,i.right-=p?n:n.right||0,i.bottom-=p?n:n.bottom||0,i}function Rt(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=Vt(n,r,i,o),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map((function(e){return Lt({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function Ht(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return It(n,r?zt(t):Tt(t,Ot(n)),r)}function Wt(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function Ut(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function qt(e,t,n){n=n.split("-")[0];var r=Wt(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",s=i?"left":"top",l=i?"height":"width",c=i?"width":"height";return o[a]=t[a]+t[l]/2-r[l]/2,o[s]=n===s?t[s]-r[c]:t[Ut(s)],o}function Gt(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function Yt(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=Gt(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&yt(n)&&(t.offsets.popper=Bt(t.offsets.popper),t.offsets.reference=Bt(t.offsets.reference),t=n(t,e))})),t}function Qt(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Ht(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=Rt(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=qt(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Yt(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function Zt(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function Xt(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if(void 0!==document.body.style[i])return i}return null}function Jt(){return this.state.isDestroyed=!0,Zt(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Xt("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Kt(e){var t=e.ownerDocument;return t?t.defaultView:window}function en(e,t,n,r){var o="BODY"===e.nodeName,i=o?e.ownerDocument.defaultView:e;i.addEventListener(t,n,{passive:!0}),o||en(xt(i.parentNode),t,n,r),r.push(i)}function tn(e,t,n,r){n.updateBound=r,Kt(e).addEventListener("resize",n.updateBound,{passive:!0});var o=xt(e);return en(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function nn(){this.state.eventsEnabled||(this.state=tn(this.reference,this.options,this.state,this.scheduleUpdate))}function rn(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function(e,t){return Kt(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}(this.reference,this.state))}function on(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function an(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&on(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var sn=vt&&/Firefox/i.test(navigator.userAgent);function ln(e,t,n){var r=Gt(e,(function(e){return e.name===t})),o=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!o){var i="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var cn=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],un=cn.slice(3);function dn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=un.indexOf(e),r=un.slice(n+1).concat(un.slice(0,n));return t?r.reverse():r}var pn={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:$t({},l,i[l]),end:$t({},l,i[l]+i[c]-a[c])};e.offsets.popper=Lt({},a,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n,r=t.offset,o=e.placement,i=e.offsets,a=i.popper,s=i.reference,l=o.split("-")[0];return n=on(+r)?[+r,0]:function(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(Gt(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return c=c.map((function(e,r){var o=(1===r?!i:i)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];return i?0===a.indexOf("%")?Bt("%p"===a?n:r)[t]/100*i:"vh"===a||"vw"===a?("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i:i:e}(e,o,t,n)}))})),c.forEach((function(e,t){e.forEach((function(n,r){on(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))}))})),o}(r,a,s,l),"left"===l?(a.top+=n[0],a.left-=n[1]):"right"===l?(a.top+=n[0],a.left+=n[1]):"top"===l?(a.left+=n[0],a.top-=n[1]):"bottom"===l&&(a.left+=n[0],a.top+=n[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||Et(e.instance.popper);e.instance.reference===n&&(n=Et(n));var r=Xt("transform"),o=e.instance.popper.style,i=o.top,a=o.left,s=o[r];o.top="",o.left="",o[r]="";var l=Vt(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=a,o[r]=s,t.boundaries=l;var c=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),$t({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),$t({},n,r)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=Lt({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<i(r[l])&&(e.offsets.popper[l]=i(r[l])-n[c]),n[l]>i(r[s])&&(e.offsets.popper[l]=i(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!ln(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,a=i.popper,s=i.reference,l=-1!==["left","right"].indexOf(o),c=l?"height":"width",u=l?"Top":"Left",d=u.toLowerCase(),p=l?"left":"top",f=l?"bottom":"right",h=Wt(r)[c];s[f]-h<a[d]&&(e.offsets.popper[d]-=a[d]-(s[f]-h)),s[d]+h>a[f]&&(e.offsets.popper[d]+=s[d]+h-a[f]),e.offsets.popper=Bt(e.offsets.popper);var v=s[d]+s[c]/2-h/2,m=bt(e.instance.popper),g=parseFloat(m["margin"+u]),y=parseFloat(m["border"+u+"Width"]),b=v-e.offsets.popper[d]-g-y;return b=Math.max(Math.min(a[c]-h,b),0),e.arrowElement=r,e.offsets.arrow=($t(n={},d,Math.round(b)),$t(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(Zt(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=Vt(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=Ut(r),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case"flip":a=[r,o];break;case"clockwise":a=dn(r);break;case"counterclockwise":a=dn(r,!0);break;default:a=t.behavior}return a.forEach((function(s,l){if(r!==s||a.length===l+1)return e;r=e.placement.split("-")[0],o=Ut(r);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,p="left"===r&&d(c.right)>d(u.left)||"right"===r&&d(c.left)<d(u.right)||"top"===r&&d(c.bottom)>d(u.top)||"bottom"===r&&d(c.top)<d(u.bottom),f=d(c.left)<d(n.left),h=d(c.right)>d(n.right),v=d(c.top)<d(n.top),m=d(c.bottom)>d(n.bottom),g="left"===r&&f||"right"===r&&h||"top"===r&&v||"bottom"===r&&m,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===i&&f||y&&"end"===i&&h||!y&&"start"===i&&v||!y&&"end"===i&&m),w=!!t.flipVariationsByContent&&(y&&"start"===i&&h||y&&"end"===i&&f||!y&&"start"===i&&m||!y&&"end"===i&&v),x=b||w;(p||g||x)&&(e.flipped=!0,(p||g)&&(r=a[l+1]),x&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=Lt({},e.offsets.popper,qt(e.instance.popper,e.offsets.reference,e.placement)),e=Yt(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(s?o[a?"width":"height"]:0),e.placement=Ut(t),e.offsets.popper=Bt(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!ln(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=Gt(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=Gt(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a,s,l=void 0!==i?i:t.gpuAcceleration,c=Et(e.instance.popper),u=Pt(c),d={position:o.position},p=function(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,a=Math.floor,s=function(e){return e},l=i(o.width),c=i(r.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),p=t?u||d||l%2==c%2?i:a:s,f=t?i:s;return{left:p(l%2==1&&c%2==1&&!d&&t?r.left-1:r.left),top:f(r.top),bottom:f(r.bottom),right:p(r.right)}}(e,window.devicePixelRatio<2||!sn),f="bottom"===n?"top":"bottom",h="right"===r?"left":"right",v=Xt("transform");if(s="bottom"===f?"HTML"===c.nodeName?-c.clientHeight+p.bottom:-u.height+p.bottom:p.top,a="right"===h?"HTML"===c.nodeName?-c.clientWidth+p.right:-u.width+p.right:p.left,l&&v)d[v]="translate3d("+a+"px, "+s+"px, 0)",d[f]=0,d[h]=0,d.willChange="transform";else{var m="bottom"===f?-1:1,g="right"===h?-1:1;d[f]=s*m,d[h]=a*g,d.willChange=f+", "+h}var y={"x-placement":e.placement};return e.attributes=Lt({},y,e.attributes),e.styles=Lt({},d,e.styles),e.arrowStyles=Lt({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return an(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&an(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var i=Ht(o,t,e,n.positionFixed),a=Rt(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),an(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},fn={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:pn},hn=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=gt(this.update.bind(this)),this.options=Lt({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Lt({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){r.options.modifiers[t]=Lt({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return Lt({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&yt(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return Mt(e,[{key:"update",value:function(){return Qt.call(this)}},{key:"destroy",value:function(){return Jt.call(this)}},{key:"enableEventListeners",value:function(){return nn.call(this)}},{key:"disableEventListeners",value:function(){return rn.call(this)}}]),e}();hn.Utils=("undefined"!=typeof window?window:r.g).PopperUtils,hn.placements=cn,hn.Defaults=fn;const vn=hn;var mn=void 0;function gn(){gn.init||(gn.init=!0,mn=-1!==function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return r>0?parseInt(e.substring(r+5,e.indexOf(".",r)),10):-1}())}var yn={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})},staticRenderFns:[],_scopeId:"data-v-b329ee4c",name:"resize-observer",methods:{compareAndNotify:function(){this._w===this.$el.offsetWidth&&this._h===this.$el.offsetHeight||(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.$emit("notify"))},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!mn&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),delete this._resizeObject.onload)}},mounted:function(){var e=this;gn(),this.$nextTick((function(){e._w=e.$el.offsetWidth,e._h=e.$el.offsetHeight}));var t=document.createElement("object");this._resizeObject=t,t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",-1),t.onload=this.addResizeHandlers,t.type="text/html",mn&&this.$el.appendChild(t),t.data="about:blank",mn||this.$el.appendChild(t)},beforeDestroy:function(){this.removeResizeHandlers()}},bn={version:"0.4.5",install:function(e){e.component("resize-observer",yn),e.component("ResizeObserver",yn)}},wn=null;function xn(e){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xn(e)}function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(n),!0).forEach((function(t){Sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}"undefined"!=typeof window?wn=window.Vue:void 0!==r.g&&(wn=r.g.Vue),wn&&wn.use(bn);var En=function(){};function Cn(e){return"string"==typeof e&&(e=e.split(" ")),e}function Tn(e,t){var n,r=Cn(t);n=e.className instanceof En?Cn(e.className.baseVal):Cn(e.className),r.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),e instanceof SVGElement?e.setAttribute("class",n.join(" ")):e.className=n.join(" ")}function Dn(e,t){var n,r=Cn(t);n=e.className instanceof En?Cn(e.className.baseVal):Cn(e.className),r.forEach((function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})),e instanceof SVGElement?e.setAttribute("class",n.join(" ")):e.className=n.join(" ")}"undefined"!=typeof window&&(En=window.SVGAnimatedString);var An=!1;if("undefined"!=typeof window){An=!1;try{var Nn=Object.defineProperty({},"passive",{get:function(){An=!0}});window.addEventListener("test",null,Nn)}catch(i){}}var jn=function(e,t){return e===t||e!=e&&t!=t},Mn=function(e,t){for(var n=e.length;n--;)if(jn(e[n][0],t))return n;return-1},$n=Array.prototype.splice;function Ln(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ln.prototype.clear=function(){this.__data__=[],this.size=0},Ln.prototype.delete=function(e){var t=this.__data__,n=Mn(t,e);return!(n<0||(n==t.length-1?t.pop():$n.call(t,n,1),--this.size,0))},Ln.prototype.get=function(e){var t=this.__data__,n=Mn(t,e);return n<0?void 0:t[n][1]},Ln.prototype.has=function(e){return Mn(this.__data__,e)>-1},Ln.prototype.set=function(e,t){var n=this.__data__,r=Mn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var Bn=Ln,Pn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function In(e,t){return e(t={exports:{}},t.exports),t.exports}var Fn,zn="object"==typeof Pn&&Pn&&Pn.Object===Object&&Pn,Vn="object"==typeof self&&self&&self.Object===Object&&self,Rn=zn||Vn||Function("return this")(),Hn=Rn.Symbol,Wn=Object.prototype,Un=Wn.hasOwnProperty,qn=Wn.toString,Gn=Hn?Hn.toStringTag:void 0,Yn=Object.prototype.toString,Qn=Hn?Hn.toStringTag:void 0,Zn=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Qn&&Qn in Object(e)?function(e){var t=Un.call(e,Gn),n=e[Gn];try{e[Gn]=void 0;var r=!0}catch(e){}var o=qn.call(e);return r&&(t?e[Gn]=n:delete e[Gn]),o}(e):function(e){return Yn.call(e)}(e)},Xn=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Jn=function(e){if(!Xn(e))return!1;var t=Zn(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Kn=Rn["__core-js_shared__"],er=(Fn=/[^.]+$/.exec(Kn&&Kn.keys&&Kn.keys.IE_PROTO||""))?"Symbol(src)_1."+Fn:"",tr=Function.prototype.toString,nr=function(e){if(null!=e){try{return tr.call(e)}catch(e){}try{return e+""}catch(e){}}return""},rr=/^\[object .+?Constructor\]$/,or=Function.prototype,ir=Object.prototype,ar=or.toString,sr=ir.hasOwnProperty,lr=RegExp("^"+ar.call(sr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cr=function(e){return!(!Xn(e)||(t=e,er&&er in t))&&(Jn(e)?lr:rr).test(nr(e));var t},ur=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return cr(n)?n:void 0},dr=ur(Rn,"Map"),pr=ur(Object,"create"),fr=Object.prototype.hasOwnProperty,hr=Object.prototype.hasOwnProperty;function vr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}vr.prototype.clear=function(){this.__data__=pr?pr(null):{},this.size=0},vr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},vr.prototype.get=function(e){var t=this.__data__;if(pr){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return fr.call(t,e)?t[e]:void 0},vr.prototype.has=function(e){var t=this.__data__;return pr?void 0!==t[e]:hr.call(t,e)},vr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=pr&&void 0===t?"__lodash_hash_undefined__":t,this};var mr=vr,gr=function(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map};function yr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}yr.prototype.clear=function(){this.size=0,this.__data__={hash:new mr,map:new(dr||Bn),string:new mr}},yr.prototype.delete=function(e){var t=gr(this,e).delete(e);return this.size-=t?1:0,t},yr.prototype.get=function(e){return gr(this,e).get(e)},yr.prototype.has=function(e){return gr(this,e).has(e)},yr.prototype.set=function(e,t){var n=gr(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var br=yr;function wr(e){var t=this.__data__=new Bn(e);this.size=t.size}wr.prototype.clear=function(){this.__data__=new Bn,this.size=0},wr.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},wr.prototype.get=function(e){return this.__data__.get(e)},wr.prototype.has=function(e){return this.__data__.has(e)},wr.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Bn){var r=n.__data__;if(!dr||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new br(r)}return n.set(e,t),this.size=n.size,this};var xr=wr;function Or(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new br;++t<n;)this.add(e[t])}Or.prototype.add=Or.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Or.prototype.has=function(e){return this.__data__.has(e)};var Sr=Or,kr=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},_r=function(e,t,n,r,o,i){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var u=-1,d=!0,p=2&n?new Sr:void 0;for(i.set(e,t),i.set(t,e);++u<s;){var f=e[u],h=t[u];if(r)var v=a?r(h,f,u,t,e,i):r(f,h,u,e,t,i);if(void 0!==v){if(v)continue;d=!1;break}if(p){if(!kr(t,(function(e,t){if(a=t,!p.has(a)&&(f===e||o(f,e,n,r,i)))return p.push(t);var a}))){d=!1;break}}else if(f!==h&&!o(f,h,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d},Er=Rn.Uint8Array,Cr=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},Tr=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Dr=Hn?Hn.prototype:void 0,Ar=Dr?Dr.valueOf:void 0,Nr=Array.isArray,jr=Object.prototype.propertyIsEnumerable,Mr=Object.getOwnPropertySymbols,$r=Mr?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}(Mr(e),(function(t){return jr.call(e,t)})))}:function(){return[]},Lr=function(e){return null!=e&&"object"==typeof e},Br=function(e){return Lr(e)&&"[object Arguments]"==Zn(e)},Pr=Object.prototype,Ir=Pr.hasOwnProperty,Fr=Pr.propertyIsEnumerable,zr=Br(function(){return arguments}())?Br:function(e){return Lr(e)&&Ir.call(e,"callee")&&!Fr.call(e,"callee")},Vr=function(){return!1},Rr=In((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?Rn.Buffer:void 0,i=(o?o.isBuffer:void 0)||Vr;e.exports=i})),Hr=/^(?:0|[1-9]\d*)$/,Wr=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Hr.test(e))&&e>-1&&e%1==0&&e<t},Ur=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},qr={};qr["[object Float32Array]"]=qr["[object Float64Array]"]=qr["[object Int8Array]"]=qr["[object Int16Array]"]=qr["[object Int32Array]"]=qr["[object Uint8Array]"]=qr["[object Uint8ClampedArray]"]=qr["[object Uint16Array]"]=qr["[object Uint32Array]"]=!0,qr["[object Arguments]"]=qr["[object Array]"]=qr["[object ArrayBuffer]"]=qr["[object Boolean]"]=qr["[object DataView]"]=qr["[object Date]"]=qr["[object Error]"]=qr["[object Function]"]=qr["[object Map]"]=qr["[object Number]"]=qr["[object Object]"]=qr["[object RegExp]"]=qr["[object Set]"]=qr["[object String]"]=qr["[object WeakMap]"]=!1;var Gr,Yr=In((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&zn.process,i=function(){try{return r&&r.require&&r.require("util").types||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i})),Qr=Yr&&Yr.isTypedArray,Zr=Qr?(Gr=Qr,function(e){return Gr(e)}):function(e){return Lr(e)&&Ur(e.length)&&!!qr[Zn(e)]},Xr=Object.prototype.hasOwnProperty,Jr=function(e,t){var n=Nr(e),r=!n&&zr(e),o=!n&&!r&&Rr(e),i=!n&&!r&&!o&&Zr(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)!t&&!Xr.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Wr(c,l))||s.push(c);return s},Kr=Object.prototype,eo=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Kr)},to=function(e,t){return function(n){return e(t(n))}},no=to(Object.keys,Object),ro=Object.prototype.hasOwnProperty,oo=function(e){return null!=e&&Ur(e.length)&&!Jn(e)},io=function(e){return oo(e)?Jr(e):function(e){if(!eo(e))return no(e);var t=[];for(var n in Object(e))ro.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},ao=function(e){return function(e,t,n){var r=t(e);return Nr(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,io,$r)},so=Object.prototype.hasOwnProperty,lo=ur(Rn,"DataView"),co=ur(Rn,"Promise"),uo=ur(Rn,"Set"),po=ur(Rn,"WeakMap"),fo="[object Map]",ho="[object Promise]",vo="[object Set]",mo="[object WeakMap]",go="[object DataView]",yo=nr(lo),bo=nr(dr),wo=nr(co),xo=nr(uo),Oo=nr(po),So=Zn;(lo&&So(new lo(new ArrayBuffer(1)))!=go||dr&&So(new dr)!=fo||co&&So(co.resolve())!=ho||uo&&So(new uo)!=vo||po&&So(new po)!=mo)&&(So=function(e){var t=Zn(e),n="[object Object]"==t?e.constructor:void 0,r=n?nr(n):"";if(r)switch(r){case yo:return go;case bo:return fo;case wo:return ho;case xo:return vo;case Oo:return mo}return t});var ko=So,_o="[object Arguments]",Eo="[object Array]",Co="[object Object]",To=Object.prototype.hasOwnProperty,Do=function(e,t,n,r,o,i){var a=Nr(e),s=Nr(t),l=a?Eo:ko(e),c=s?Eo:ko(t),u=(l=l==_o?Co:l)==Co,d=(c=c==_o?Co:c)==Co,p=l==c;if(p&&Rr(e)){if(!Rr(t))return!1;a=!0,u=!1}if(p&&!u)return i||(i=new xr),a||Zr(e)?_r(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Er(e),new Er(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return jn(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Cr;case"[object Set]":var l=1&r;if(s||(s=Tr),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var u=_r(s(e),s(t),r,o,i,a);return a.delete(e),u;case"[object Symbol]":if(Ar)return Ar.call(e)==Ar.call(t)}return!1}(e,t,l,n,r,o,i);if(!(1&n)){var f=u&&To.call(e,"__wrapped__"),h=d&&To.call(t,"__wrapped__");if(f||h){var v=f?e.value():e,m=h?t.value():t;return i||(i=new xr),o(v,m,n,r,i)}}return!!p&&(i||(i=new xr),function(e,t,n,r,o,i){var a=1&n,s=ao(e),l=s.length;if(l!=ao(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:so.call(t,u)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var p=!0;i.set(e,t),i.set(t,e);for(var f=a;++c<l;){var h=e[u=s[c]],v=t[u];if(r)var m=a?r(v,h,u,t,e,i):r(h,v,u,e,t,i);if(!(void 0===m?h===v||o(h,v,n,r,i):m)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var g=e.constructor,y=t.constructor;g==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y||(p=!1)}return i.delete(e),i.delete(t),p}(e,t,n,r,o,i))},Ao=function e(t,n,r,o,i){return t===n||(null==t||null==n||!Lr(t)&&!Lr(n)?t!=t&&n!=n:Do(t,n,r,o,e,i))},No=function(e,t){return Ao(e,t)},jo={container:!1,delay:0,html:!1,placement:"top",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",offset:0},Mo=[],$o=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Sn(this,"_events",[]),Sn(this,"_setTooltipNodeEvent",(function(e,t,n,o){var i=e.relatedreference||e.toElement||e.relatedTarget;return!!r._tooltipNode.contains(i)&&(r._tooltipNode.addEventListener(e.type,(function n(i){var a=i.relatedreference||i.toElement||i.relatedTarget;r._tooltipNode.removeEventListener(e.type,n),t.contains(a)||r._scheduleHide(t,o.delay,o,i)})),!0)})),n=_n({},jo,{},n),t.jquery&&(t=t[0]),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.reference=t,this.options=n,this._isOpen=!1,this._init()}var t,n;return t=e,(n=[{key:"show",value:function(){this._show(this.reference,this.options)}},{key:"hide",value:function(){this._hide()}},{key:"dispose",value:function(){this._dispose()}},{key:"toggle",value:function(){return this._isOpen?this.hide():this.show()}},{key:"setClasses",value:function(e){this._classes=e}},{key:"setContent",value:function(e){this.options.title=e,this._tooltipNode&&this._setContent(e,this.options)}},{key:"setOptions",value:function(e){var t=!1,n=e&&e.classes||Ho.options.defaultClass;No(this._classes,n)||(this.setClasses(n),t=!0),e=Io(e);var r=!1,o=!1;for(var i in this.options.offset===e.offset&&this.options.placement===e.placement||(r=!0),(this.options.template!==e.template||this.options.trigger!==e.trigger||this.options.container!==e.container||t)&&(o=!0),e)this.options[i]=e[i];if(this._tooltipNode)if(o){var a=this._isOpen;this.dispose(),this._init(),a&&this.show()}else r&&this.popperInstance.update()}},{key:"_init",value:function(){var e="string"==typeof this.options.trigger?this.options.trigger.split(" "):[];this._isDisposed=!1,this._enableDocumentTouch=-1===e.indexOf("manual"),e=e.filter((function(e){return-1!==["click","hover","focus"].indexOf(e)})),this._setEventListeners(this.reference,e,this.options),this.$_originalTitle=this.reference.getAttribute("title"),this.reference.removeAttribute("title"),this.reference.setAttribute("data-original-title",this.$_originalTitle)}},{key:"_create",value:function(e,t){var n=window.document.createElement("div");n.innerHTML=t.trim();var r=n.childNodes[0];return r.id="tooltip_".concat(Math.random().toString(36).substr(2,10)),r.setAttribute("aria-hidden","true"),this.options.autoHide&&-1!==this.options.trigger.indexOf("hover")&&(r.addEventListener("mouseenter",this.hide),r.addEventListener("click",this.hide)),r}},{key:"_setContent",value:function(e,t){var n=this;this.asyncContent=!1,this._applyContent(e,t).then((function(){n.popperInstance.update()}))}},{key:"_applyContent",value:function(e,t){var n=this;return new Promise((function(r,o){var i=t.html,a=n._tooltipNode;if(a){var s=a.querySelector(n.options.innerSelector);if(1===e.nodeType){if(i){for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(e)}}else{if("function"==typeof e){var l=e();return void(l&&"function"==typeof l.then?(n.asyncContent=!0,t.loadingClass&&Tn(a,t.loadingClass),t.loadingContent&&n._applyContent(t.loadingContent,t),l.then((function(e){return t.loadingClass&&Dn(a,t.loadingClass),n._applyContent(e,t)})).then(r).catch(o)):n._applyContent(l,t).then(r).catch(o))}i?s.innerHTML=e:s.innerText=e}r()}}))}},{key:"_show",value:function(e,t){if(!t||"string"!=typeof t.container||document.querySelector(t.container)){clearTimeout(this._disposeTimer),delete(t=Object.assign({},t)).offset;var n=!0;this._tooltipNode&&(Tn(this._tooltipNode,this._classes),n=!1);var r=this._ensureShown(e,t);return n&&this._tooltipNode&&Tn(this._tooltipNode,this._classes),Tn(e,["v-tooltip-open"]),r}}},{key:"_ensureShown",value:function(e,t){var n=this;if(this._isOpen)return this;if(this._isOpen=!0,Mo.push(this),this._tooltipNode)return this._tooltipNode.style.display="",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.enableEventListeners(),this.popperInstance.update(),this.asyncContent&&this._setContent(t.title,t),this;var r=e.getAttribute("title")||t.title;if(!r)return this;var o=this._create(e,t.template);this._tooltipNode=o,e.setAttribute("aria-describedby",o.id);var i=this._findContainer(t.container,e);this._append(o,i);var a=_n({},t.popperOptions,{placement:t.placement});return a.modifiers=_n({},a.modifiers,{arrow:{element:this.options.arrowSelector}}),t.boundariesElement&&(a.modifiers.preventOverflow={boundariesElement:t.boundariesElement}),this.popperInstance=new vn(e,o,a),this._setContent(r,t),requestAnimationFrame((function(){!n._isDisposed&&n.popperInstance?(n.popperInstance.update(),requestAnimationFrame((function(){n._isDisposed?n.dispose():n._isOpen&&o.setAttribute("aria-hidden","false")}))):n.dispose()})),this}},{key:"_noLongerOpen",value:function(){var e=Mo.indexOf(this);-1!==e&&Mo.splice(e,1)}},{key:"_hide",value:function(){var e=this;if(!this._isOpen)return this;this._isOpen=!1,this._noLongerOpen(),this._tooltipNode.style.display="none",this._tooltipNode.setAttribute("aria-hidden","true"),this.popperInstance.disableEventListeners(),clearTimeout(this._disposeTimer);var t=Ho.options.disposeTimeout;return null!==t&&(this._disposeTimer=setTimeout((function(){e._tooltipNode&&(e._tooltipNode.removeEventListener("mouseenter",e.hide),e._tooltipNode.removeEventListener("click",e.hide),e._removeTooltipNode())}),t)),Dn(this.reference,["v-tooltip-open"]),this}},{key:"_removeTooltipNode",value:function(){if(this._tooltipNode){var e=this._tooltipNode.parentNode;e&&(e.removeChild(this._tooltipNode),this.reference.removeAttribute("aria-describedby")),this._tooltipNode=null}}},{key:"_dispose",value:function(){var e=this;return this._isDisposed=!0,this.reference.removeAttribute("data-original-title"),this.$_originalTitle&&this.reference.setAttribute("title",this.$_originalTitle),this._events.forEach((function(t){var n=t.func,r=t.event;e.reference.removeEventListener(r,n)})),this._events=[],this._tooltipNode?(this._hide(),this._tooltipNode.removeEventListener("mouseenter",this.hide),this._tooltipNode.removeEventListener("click",this.hide),this.popperInstance.destroy(),this.popperInstance.options.removeOnDestroy||this._removeTooltipNode()):this._noLongerOpen(),this}},{key:"_findContainer",value:function(e,t){return"string"==typeof e?e=window.document.querySelector(e):!1===e&&(e=t.parentNode),e}},{key:"_append",value:function(e,t){t.appendChild(e)}},{key:"_setEventListeners",value:function(e,t,n){var r=this,o=[],i=[];t.forEach((function(e){switch(e){case"hover":o.push("mouseenter"),i.push("mouseleave"),r.options.hideOnTargetClick&&i.push("click");break;case"focus":o.push("focus"),i.push("blur"),r.options.hideOnTargetClick&&i.push("click");break;case"click":o.push("click"),i.push("click")}})),o.forEach((function(t){var o=function(t){!0!==r._isOpen&&(t.usedByTooltip=!0,r._scheduleShow(e,n.delay,n,t))};r._events.push({event:t,func:o}),e.addEventListener(t,o)})),i.forEach((function(t){var o=function(t){!0!==t.usedByTooltip&&r._scheduleHide(e,n.delay,n,t)};r._events.push({event:t,func:o}),e.addEventListener(t,o)}))}},{key:"_onDocumentTouch",value:function(e){this._enableDocumentTouch&&this._scheduleHide(this.reference,this.options.delay,this.options,e)}},{key:"_scheduleShow",value:function(e,t,n){var r=this,o=t&&t.show||t||0;clearTimeout(this._scheduleTimer),this._scheduleTimer=window.setTimeout((function(){return r._show(e,n)}),o)}},{key:"_scheduleHide",value:function(e,t,n,r){var o=this,i=t&&t.hide||t||0;clearTimeout(this._scheduleTimer),this._scheduleTimer=window.setTimeout((function(){if(!1!==o._isOpen&&o._tooltipNode.ownerDocument.body.contains(o._tooltipNode)){if("mouseleave"===r.type&&o._setTooltipNodeEvent(r,e,t,n))return;o._hide(e,n)}}),i)}}])&&On(t.prototype,n),e}();"undefined"!=typeof document&&document.addEventListener("touchstart",(function(e){for(var t=0;t<Mo.length;t++)Mo[t]._onDocumentTouch(e)}),!An||{passive:!0,capture:!0});var Lo={enabled:!0},Bo=["top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"],Po={defaultPlacement:"top",defaultClass:"vue-tooltip-theme",defaultTargetClass:"has-tooltip",defaultHtml:!0,defaultTemplate:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',defaultArrowSelector:".tooltip-arrow, .tooltip__arrow",defaultInnerSelector:".tooltip-inner, .tooltip__inner",defaultDelay:0,defaultTrigger:"hover focus",defaultOffset:0,defaultContainer:"body",defaultBoundariesElement:void 0,defaultPopperOptions:{},defaultLoadingClass:"tooltip-loading",defaultLoadingContent:"...",autoHide:!0,defaultHideOnTargetClick:!0,disposeTimeout:5e3,popover:{defaultPlacement:"bottom",defaultClass:"vue-popover-theme",defaultBaseClass:"tooltip popover",defaultWrapperClass:"wrapper",defaultInnerClass:"tooltip-inner popover-inner",defaultArrowClass:"tooltip-arrow popover-arrow",defaultOpenClass:"open",defaultDelay:0,defaultTrigger:"click",defaultOffset:0,defaultContainer:"body",defaultBoundariesElement:void 0,defaultPopperOptions:{},defaultAutoHide:!0,defaultHandleResize:!0}};function Io(e){var t={placement:void 0!==e.placement?e.placement:Ho.options.defaultPlacement,delay:void 0!==e.delay?e.delay:Ho.options.defaultDelay,html:void 0!==e.html?e.html:Ho.options.defaultHtml,template:void 0!==e.template?e.template:Ho.options.defaultTemplate,arrowSelector:void 0!==e.arrowSelector?e.arrowSelector:Ho.options.defaultArrowSelector,innerSelector:void 0!==e.innerSelector?e.innerSelector:Ho.options.defaultInnerSelector,trigger:void 0!==e.trigger?e.trigger:Ho.options.defaultTrigger,offset:void 0!==e.offset?e.offset:Ho.options.defaultOffset,container:void 0!==e.container?e.container:Ho.options.defaultContainer,boundariesElement:void 0!==e.boundariesElement?e.boundariesElement:Ho.options.defaultBoundariesElement,autoHide:void 0!==e.autoHide?e.autoHide:Ho.options.autoHide,hideOnTargetClick:void 0!==e.hideOnTargetClick?e.hideOnTargetClick:Ho.options.defaultHideOnTargetClick,loadingClass:void 0!==e.loadingClass?e.loadingClass:Ho.options.defaultLoadingClass,loadingContent:void 0!==e.loadingContent?e.loadingContent:Ho.options.defaultLoadingContent,popperOptions:_n({},void 0!==e.popperOptions?e.popperOptions:Ho.options.defaultPopperOptions)};if(t.offset){var n=xn(t.offset),r=t.offset;("number"===n||"string"===n&&-1===r.indexOf(","))&&(r="0, ".concat(r)),t.popperOptions.modifiers||(t.popperOptions.modifiers={}),t.popperOptions.modifiers.offset={offset:r}}return t.trigger&&-1!==t.trigger.indexOf("click")&&(t.hideOnTargetClick=!1),t}function Fo(e,t){for(var n=e.placement,r=0;r<Bo.length;r++){var o=Bo[r];t[o]&&(n=o)}return n}function zo(e){var t=xn(e);return"string"===t?e:!(!e||"object"!==t)&&e.content}function Vo(e){e._tooltip&&(e._tooltip.dispose(),delete e._tooltip,delete e._tooltipOldShow),e._tooltipTargetClasses&&(Dn(e,e._tooltipTargetClasses),delete e._tooltipTargetClasses)}function Ro(e,t){var n,r=t.value,o=(t.oldValue,t.modifiers),i=zo(r);i&&Lo.enabled?(e._tooltip?((n=e._tooltip).setContent(i),n.setOptions(_n({},r,{placement:Fo(r,o)}))):n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=zo(t),o=void 0!==t.classes?t.classes:Ho.options.defaultClass,i=_n({title:r},Io(_n({},t,{placement:Fo(t,n)}))),a=e._tooltip=new $o(e,i);a.setClasses(o),a._vueEl=e;var s=void 0!==t.targetClasses?t.targetClasses:Ho.options.defaultTargetClass;return e._tooltipTargetClasses=s,Tn(e,s),a}(e,r,o),void 0!==r.show&&r.show!==e._tooltipOldShow&&(e._tooltipOldShow=r.show,r.show?n.show():n.hide())):Vo(e)}var Ho={options:Po,bind:Ro,update:Ro,unbind:function(e){Vo(e)}};function Wo(e){e.addEventListener("click",qo),e.addEventListener("touchstart",Go,!!An&&{passive:!0})}function Uo(e){e.removeEventListener("click",qo),e.removeEventListener("touchstart",Go),e.removeEventListener("touchend",Yo),e.removeEventListener("touchcancel",Qo)}function qo(e){var t=e.currentTarget;e.closePopover=!t.$_vclosepopover_touch,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}function Go(e){if(1===e.changedTouches.length){var t=e.currentTarget;t.$_vclosepopover_touch=!0;var n=e.changedTouches[0];t.$_vclosepopover_touchPoint=n,t.addEventListener("touchend",Yo),t.addEventListener("touchcancel",Qo)}}function Yo(e){var t=e.currentTarget;if(t.$_vclosepopover_touch=!1,1===e.changedTouches.length){var n=e.changedTouches[0],r=t.$_vclosepopover_touchPoint;e.closePopover=Math.abs(n.screenY-r.screenY)<20&&Math.abs(n.screenX-r.screenX)<20,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}}function Qo(e){e.currentTarget.$_vclosepopover_touch=!1}var Zo={bind:function(e,t){var n=t.value,r=t.modifiers;e.$_closePopoverModifiers=r,(void 0===n||n)&&Wo(e)},update:function(e,t){var n=t.value,r=t.oldValue,o=t.modifiers;e.$_closePopoverModifiers=o,n!==r&&(void 0===n||n?Wo(e):Uo(e))},unbind:function(e){Uo(e)}};function Xo(e){var t=Ho.options.popover[e];return void 0===t?Ho.options[e]:t}var Jo=!1;"undefined"!=typeof window&&"undefined"!=typeof navigator&&(Jo=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);var Ko=[],ei=function(){};"undefined"!=typeof window&&(ei=window.Element);var ti={name:"VPopover",components:{ResizeObserver:yn},props:{open:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placement:{type:String,default:function(){return Xo("defaultPlacement")}},delay:{type:[String,Number,Object],default:function(){return Xo("defaultDelay")}},offset:{type:[String,Number],default:function(){return Xo("defaultOffset")}},trigger:{type:String,default:function(){return Xo("defaultTrigger")}},container:{type:[String,Object,ei,Boolean],default:function(){return Xo("defaultContainer")}},boundariesElement:{type:[String,ei],default:function(){return Xo("defaultBoundariesElement")}},popperOptions:{type:Object,default:function(){return Xo("defaultPopperOptions")}},popoverClass:{type:[String,Array],default:function(){return Xo("defaultClass")}},popoverBaseClass:{type:[String,Array],default:function(){return Ho.options.popover.defaultBaseClass}},popoverInnerClass:{type:[String,Array],default:function(){return Ho.options.popover.defaultInnerClass}},popoverWrapperClass:{type:[String,Array],default:function(){return Ho.options.popover.defaultWrapperClass}},popoverArrowClass:{type:[String,Array],default:function(){return Ho.options.popover.defaultArrowClass}},autoHide:{type:Boolean,default:function(){return Ho.options.popover.defaultAutoHide}},handleResize:{type:Boolean,default:function(){return Ho.options.popover.defaultHandleResize}},openGroup:{type:String,default:null},openClass:{type:[String,Array],default:function(){return Ho.options.popover.defaultOpenClass}}},data:function(){return{isOpen:!1,id:Math.random().toString(36).substr(2,10)}},computed:{cssClass:function(){return Sn({},this.openClass,this.isOpen)},popoverId:function(){return"popover_".concat(this.id)}},watch:{open:function(e){e?this.show():this.hide()},disabled:function(e,t){e!==t&&(e?this.hide():this.open&&this.show())},container:function(e){if(this.isOpen&&this.popperInstance){var t=this.$refs.popover,n=this.$refs.trigger,r=this.$_findContainer(this.container,n);if(!r)return void console.warn("No container for popover",this);r.appendChild(t),this.popperInstance.scheduleUpdate()}},trigger:function(e){this.$_removeEventListeners(),this.$_addEventListeners()},placement:function(e){var t=this;this.$_updatePopper((function(){t.popperInstance.options.placement=e}))},offset:"$_restartPopper",boundariesElement:"$_restartPopper",popperOptions:{handler:"$_restartPopper",deep:!0}},created:function(){this.$_isDisposed=!1,this.$_mounted=!1,this.$_events=[],this.$_preventOpen=!1},mounted:function(){var e=this.$refs.popover;e.parentNode&&e.parentNode.removeChild(e),this.$_init(),this.open&&this.show()},deactivated:function(){this.hide()},beforeDestroy:function(){this.dispose()},methods:{show:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.event,r=(t.skipDelay,t.force);!(void 0!==r&&r)&&this.disabled||(this.$_scheduleShow(n),this.$emit("show")),this.$emit("update:open",!0),this.$_beingShowed=!0,requestAnimationFrame((function(){e.$_beingShowed=!1}))},hide:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.event;e.skipDelay,this.$_scheduleHide(t),this.$emit("hide"),this.$emit("update:open",!1)},dispose:function(){if(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.popperInstance&&(this.popperInstance.destroy(),!this.popperInstance.options.removeOnDestroy)){var e=this.$refs.popover;e.parentNode&&e.parentNode.removeChild(e)}this.$_mounted=!1,this.popperInstance=null,this.isOpen=!1,this.$emit("dispose")},$_init:function(){-1===this.trigger.indexOf("manual")&&this.$_addEventListeners()},$_show:function(){var e=this,t=this.$refs.trigger,n=this.$refs.popover;if(clearTimeout(this.$_disposeTimer),!this.isOpen){if(this.popperInstance&&(this.isOpen=!0,this.popperInstance.enableEventListeners(),this.popperInstance.scheduleUpdate()),!this.$_mounted){var r=this.$_findContainer(this.container,t);if(!r)return void console.warn("No container for popover",this);r.appendChild(n),this.$_mounted=!0}if(!this.popperInstance){var o=_n({},this.popperOptions,{placement:this.placement});if(o.modifiers=_n({},o.modifiers,{arrow:_n({},o.modifiers&&o.modifiers.arrow,{element:this.$refs.arrow})}),this.offset){var i=this.$_getOffset();o.modifiers.offset=_n({},o.modifiers&&o.modifiers.offset,{offset:i})}this.boundariesElement&&(o.modifiers.preventOverflow=_n({},o.modifiers&&o.modifiers.preventOverflow,{boundariesElement:this.boundariesElement})),this.popperInstance=new vn(t,n,o),requestAnimationFrame((function(){if(e.hidden)return e.hidden=!1,void e.$_hide();!e.$_isDisposed&&e.popperInstance?(e.popperInstance.scheduleUpdate(),requestAnimationFrame((function(){if(e.hidden)return e.hidden=!1,void e.$_hide();e.$_isDisposed?e.dispose():e.isOpen=!0}))):e.dispose()}))}var a=this.openGroup;if(a)for(var s,l=0;l<Ko.length;l++)(s=Ko[l]).openGroup!==a&&(s.hide(),s.$emit("close-group"));Ko.push(this),this.$emit("apply-show")}},$_hide:function(){var e=this;if(this.isOpen){var t=Ko.indexOf(this);-1!==t&&Ko.splice(t,1),this.isOpen=!1,this.popperInstance&&this.popperInstance.disableEventListeners(),clearTimeout(this.$_disposeTimer);var n=Ho.options.popover.disposeTimeout||Ho.options.disposeTimeout;null!==n&&(this.$_disposeTimer=setTimeout((function(){var t=e.$refs.popover;t&&(t.parentNode&&t.parentNode.removeChild(t),e.$_mounted=!1)}),n)),this.$emit("apply-hide")}},$_findContainer:function(e,t){return"string"==typeof e?e=window.document.querySelector(e):!1===e&&(e=t.parentNode),e},$_getOffset:function(){var e=xn(this.offset),t=this.offset;return("number"===e||"string"===e&&-1===t.indexOf(","))&&(t="0, ".concat(t)),t},$_addEventListeners:function(){var e=this,t=this.$refs.trigger,n=[],r=[];("string"==typeof this.trigger?this.trigger.split(" ").filter((function(e){return-1!==["click","hover","focus"].indexOf(e)})):[]).forEach((function(e){switch(e){case"hover":n.push("mouseenter"),r.push("mouseleave");break;case"focus":n.push("focus"),r.push("blur");break;case"click":n.push("click"),r.push("click")}})),n.forEach((function(n){var r=function(t){e.isOpen||(t.usedByTooltip=!0,!e.$_preventOpen&&e.show({event:t}),e.hidden=!1)};e.$_events.push({event:n,func:r}),t.addEventListener(n,r)})),r.forEach((function(n){var r=function(t){t.usedByTooltip||(e.hide({event:t}),e.hidden=!0)};e.$_events.push({event:n,func:r}),t.addEventListener(n,r)}))},$_scheduleShow:function(){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(clearTimeout(this.$_scheduleTimer),e)this.$_show();else{var t=parseInt(this.delay&&this.delay.show||this.delay||0);this.$_scheduleTimer=setTimeout(this.$_show.bind(this),t)}},$_scheduleHide:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(clearTimeout(this.$_scheduleTimer),n)this.$_hide();else{var r=parseInt(this.delay&&this.delay.hide||this.delay||0);this.$_scheduleTimer=setTimeout((function(){if(e.isOpen){if(t&&"mouseleave"===t.type&&e.$_setTooltipNodeEvent(t))return;e.$_hide()}}),r)}},$_setTooltipNodeEvent:function(e){var t=this,n=this.$refs.trigger,r=this.$refs.popover,o=e.relatedreference||e.toElement||e.relatedTarget;return!!r.contains(o)&&(r.addEventListener(e.type,(function o(i){var a=i.relatedreference||i.toElement||i.relatedTarget;r.removeEventListener(e.type,o),n.contains(a)||t.hide({event:i})})),!0)},$_removeEventListeners:function(){var e=this.$refs.trigger;this.$_events.forEach((function(t){var n=t.func,r=t.event;e.removeEventListener(r,n)})),this.$_events=[]},$_updatePopper:function(e){this.popperInstance&&(e(),this.isOpen&&this.popperInstance.scheduleUpdate())},$_restartPopper:function(){if(this.popperInstance){var e=this.isOpen;this.dispose(),this.$_isDisposed=!1,this.$_init(),e&&this.show({skipDelay:!0,force:!0})}},$_handleGlobalClose:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$_beingShowed||(this.hide({event:e}),e.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),n&&(this.$_preventOpen=!0,setTimeout((function(){t.$_preventOpen=!1}),300)))},$_handleResize:function(){this.isOpen&&this.popperInstance&&(this.popperInstance.scheduleUpdate(),this.$emit("resize"))}}};function ni(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(n){var r=Ko[n];if(r.$refs.popover){var o=r.$refs.popover.contains(e.target);requestAnimationFrame((function(){(e.closeAllPopover||e.closePopover&&o||r.autoHide&&!o)&&r.$_handleGlobalClose(e,t)}))}},r=0;r<Ko.length;r++)n(r)}"undefined"!=typeof document&&"undefined"!=typeof window&&(Jo?document.addEventListener("touchend",(function(e){ni(e,!0)}),!An||{passive:!0,capture:!0}):window.addEventListener("click",(function(e){ni(e)}),!0));var ri=ti,oi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"v-popover",class:e.cssClass},[n("div",{ref:"trigger",staticClass:"trigger",staticStyle:{display:"inline-block"},attrs:{"aria-describedby":e.popoverId,tabindex:-1!==e.trigger.indexOf("focus")?0:void 0}},[e._t("default")],2),e._v(" "),n("div",{ref:"popover",class:[e.popoverBaseClass,e.popoverClass,e.cssClass],style:{visibility:e.isOpen?"visible":"hidden"},attrs:{id:e.popoverId,"aria-hidden":e.isOpen?"false":"true",tabindex:e.autoHide?0:void 0},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.autoHide&&e.hide()}}},[n("div",{class:e.popoverWrapperClass},[n("div",{ref:"inner",class:e.popoverInnerClass,staticStyle:{position:"relative"}},[n("div",[e._t("popover")],2),e._v(" "),e.handleResize?n("ResizeObserver",{on:{notify:e.$_handleResize}}):e._e()],1),e._v(" "),n("div",{ref:"arrow",class:e.popoverArrowClass})])])])};oi._withStripped=!0;var ii,ai,si=function(e,t,n,r,o,i,a,s,l,c){"boolean"!=typeof a&&(s,s=a,a=!1);const u="function"==typeof n?n.options:n;let d;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),d)if(u.functional){const e=u.render;u.render=function(t,n){return d.call(n),e(t,n)}}else{const e=u.beforeCreate;u.beforeCreate=e?[].concat(e,d):[d]}return n}({render:oi,staticRenderFns:[]},0,ri,0,0,0,!1,void 0),li=function(){try{var e=ur(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),ci=function(e,t,n){"__proto__"==t&&li?li(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},ui=function(e,t,n){(void 0!==n&&!jn(e[t],n)||void 0===n&&!(t in e))&&ci(e,t,n)},di=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[ii?a:++r];if(!1===t(o[s],s,o))break}return e},pi=In((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?Rn.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}})),fi=function(e,t){var n,r,o=t?(n=e.buffer,r=new n.constructor(n.byteLength),new Er(r).set(new Er(n)),r):e.buffer;return new e.constructor(o,e.byteOffset,e.length)},hi=Object.create,vi=function(){function e(){}return function(t){if(!Xn(t))return{};if(hi)return hi(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),mi=to(Object.getPrototypeOf,Object),gi=Function.prototype,yi=Object.prototype,bi=gi.toString,wi=yi.hasOwnProperty,xi=bi.call(Object),Oi=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},Si=Object.prototype.hasOwnProperty,ki=function(e,t,n){var r=e[t];Si.call(e,t)&&jn(r,n)&&(void 0!==n||t in e)||ci(e,t,n)},_i=Object.prototype.hasOwnProperty,Ei=function(e){if(!Xn(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=eo(e),n=[];for(var r in e)("constructor"!=r||!t&&_i.call(e,r))&&n.push(r);return n},Ci=function(e){return oo(e)?Jr(e,!0):Ei(e)},Ti=function(e){return function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),o?ci(n,s,l):ki(n,s,l)}return n}(e,Ci(e))},Di=function(e,t,n,r,o,i,a){var s,l=Oi(e,n),c=Oi(t,n),u=a.get(c);if(u)ui(e,n,u);else{var d=i?i(l,c,n+"",e,t,a):void 0,p=void 0===d;if(p){var f=Nr(c),h=!f&&Rr(c),v=!f&&!h&&Zr(c);d=c,f||h||v?Nr(l)?d=l:Lr(s=l)&&oo(s)?d=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(l):h?(p=!1,d=pi(c,!0)):v?(p=!1,d=fi(c,!0)):d=[]:function(e){if(!Lr(e)||"[object Object]"!=Zn(e))return!1;var t=mi(e);if(null===t)return!0;var n=wi.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&bi.call(n)==xi}(c)||zr(c)?(d=l,zr(l)?d=Ti(l):Xn(l)&&!Jn(l)||(d=function(e){return"function"!=typeof e.constructor||eo(e)?{}:vi(mi(e))}(c))):p=!1}p&&(a.set(c,d),o(d,c,r,i,a),a.delete(c)),ui(e,n,d)}},Ai=function e(t,n,r,o,i){t!==n&&di(n,(function(a,s){if(i||(i=new xr),Xn(a))Di(t,n,s,r,e,o,i);else{var l=o?o(Oi(t,s),a,s+"",t,n,i):void 0;void 0===l&&(l=a),ui(t,s,l)}}),Ci)},Ni=function(e){return e},ji=Math.max,Mi=li?function(e,t){return li(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Ni,$i=Date.now,Li=function(e){var t=0,n=0;return function(){var r=$i(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Mi),Bi=function(e,t){return Li(function(e,t,n){return t=ji(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=ji(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,Ni),e+"")},Pi=(ai=function(e,t,n){Ai(e,t,n)},Bi((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=ai.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!Xn(n))return!1;var r=typeof t;return!!("number"==r?oo(n)&&Wr(t,n.length):"string"==r&&t in n)&&jn(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&ai(e,a,n)}return e})));!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".resize-observer[data-v-b329ee4c]{position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;border:none;background-color:transparent;pointer-events:none;display:block;overflow:hidden;opacity:0}.resize-observer[data-v-b329ee4c] object{display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1}");var Ii=Ho,Fi={install:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.installed){e.installed=!0;var r={};Pi(r,Po,n),Fi.options=r,Ho.options=r,t.directive("tooltip",Ho),t.directive("close-popover",Zo),t.component("v-popover",si)}},get enabled(){return Lo.enabled},set enabled(e){Lo.enabled=e}},zi=null;"undefined"!=typeof window?zi=window.Vue:void 0!==r.g&&(zi=r.g.Vue),zi&&zi.use(Fi);var Vi=r(933),Ri=r.n(Vi),Hi={name:"ChevronDownIcon",props:{size:{type:String,default:"24",validator:function(e){return!isNaN(e)||e.length>=2&&!isNaN(e.slice(0,e.length-1))&&"x"===e.slice(-1)}}},functional:!0,render:function(e,t){var n="x"===t.props.size.slice(-1)?t.props.size.slice(0,t.props.size.length-1)+"em":parseInt(t.props.size)+"px",r=t.data.attrs||{};return r.width=r.width||n,r.height=r.height||n,t.data.attrs=r,e("svg",Ri()([{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},class:"feather feather-chevron-down"},t.data]),[e("polyline",{attrs:{points:"6 9 12 15 18 9"}})])}},Wi={name:"ChevronUpIcon",props:{size:{type:String,default:"24",validator:function(e){return!isNaN(e)||e.length>=2&&!isNaN(e.slice(0,e.length-1))&&"x"===e.slice(-1)}}},functional:!0,render:function(e,t){var n="x"===t.props.size.slice(-1)?t.props.size.slice(0,t.props.size.length-1)+"em":parseInt(t.props.size)+"px",r=t.data.attrs||{};return r.width=r.width||n,r.height=r.height||n,t.data.attrs=r,e("svg",Ri()([{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},class:"feather feather-chevron-up"},t.data]),[e("polyline",{attrs:{points:"18 15 12 9 6 15"}})])}},Ui={name:"HelpCircleIcon",props:{size:{type:String,default:"24",validator:function(e){return!isNaN(e)||e.length>=2&&!isNaN(e.slice(0,e.length-1))&&"x"===e.slice(-1)}}},functional:!0,render:function(e,t){var n="x"===t.props.size.slice(-1)?t.props.size.slice(0,t.props.size.length-1)+"em":parseInt(t.props.size)+"px",r=t.data.attrs||{};return r.width=r.width||n,r.height=r.height||n,t.data.attrs=r,e("svg",Ri()([{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},class:"feather feather-help-circle"},t.data]),[e("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),e("path",{attrs:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}}),e("line",{attrs:{x1:"12",y1:"17",x2:"12",y2:"17"}})])}},qi={name:"InfoIcon",props:{size:{type:String,default:"24",validator:function(e){return!isNaN(e)||e.length>=2&&!isNaN(e.slice(0,e.length-1))&&"x"===e.slice(-1)}}},functional:!0,render:function(e,t){var n="x"===t.props.size.slice(-1)?t.props.size.slice(0,t.props.size.length-1)+"em":parseInt(t.props.size)+"px",r=t.data.attrs||{};return r.width=r.width||n,r.height=r.height||n,t.data.attrs=r,e("svg",Ri()([{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},class:"feather feather-info"},t.data]),[e("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),e("line",{attrs:{x1:"12",y1:"16",x2:"12",y2:"12"}}),e("line",{attrs:{x1:"12",y1:"8",x2:"12",y2:"8"}})])}};const Gi=(0,e.defineComponent)({setup:()=>({valueIsEmpty:function(e){return e&&e.constructor===Array?0===e.length:"boolean"!=typeof e&&0!==e&&!e}})}),Yi=(0,e.defineComponent)({name:"DynamicFormControl",mixins:[Gi],components:{BCol:ie,DynamicFormNumberInput:dt,DynamicFormSelect:Je,DynamicFormMultiSelect:fe,DynamicFormReadonlyValue:ht,HelpCircleIcon:Ui},directives:{tooltip:Ii},model:{prop:"formControl",event:"change"},props:{formControl:Object,colWidth:String,requiredText:String,selectText:String,readonly:Boolean,groupLabel:String},emits:["change"],setup:(t,{emit:n})=>({formControlLocal:(0,e.computed)({get:()=>t.formControl,set(e){n("change",e)}}),dynamicComponent:(0,e.computed)((()=>{if(t.readonly)return"dynamic-form-readonly-value";switch(t.formControl?.type){case"select":return"dynamic-form-select";case"multiselect":return"dynamic-form-multi-select";case"number":return"dynamic-form-number-input";default:return""}}))})}),Qi=(0,pe.Z)(Yi,[["render",function(t,n,r,o,i,a){const s=(0,e.resolveComponent)("help-circle-icon"),l=(0,e.resolveComponent)("b-col"),c=(0,e.resolveDirective)("tooltip");return(0,e.openBlock)(),(0,e.createBlock)(l,{md:t.colWidth},{default:(0,e.withCtx)((()=>[t.formControl.label?((0,e.openBlock)(),(0,e.createElementBlock)("label",ae,[(0,e.createTextVNode)((0,e.toDisplayString)(t.formControl.label)+" ",1),t.formControl.helpText?(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("span",se,[(0,e.createVNode)(s)])),[[c,t.formControl.helpText]]):(0,e.createCommentVNode)("v-if",!0),t.formControl.required&&!t.readonly?((0,e.openBlock)(),(0,e.createElementBlock)("span",{key:1,class:(0,e.normalizeClass)(["small",{"text-danger":t.valueIsEmpty(t.formControl.value)}])},"("+(0,e.toDisplayString)(t.requiredText)+")",3)):(0,e.createCommentVNode)("v-if",!0)])):(0,e.createCommentVNode)("v-if",!0),((0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)(t.dynamicComponent),{"group-label":t.groupLabel,modelValue:t.formControlLocal,"onUpdate:modelValue":n[0]||(n[0]=e=>t.formControlLocal=e),"select-text":t.selectText},null,8,["group-label","modelValue","select-text"]))])),_:1},8,["md"])}]]),Zi=(0,e.defineComponent)({name:"DynamicFormControlGroup",props:{controlGroup:Object,requiredText:String,selectText:String,readonly:Boolean},model:{prop:"controlGroup",event:"change"},components:{BRow:J,BCol:ie,DynamicFormControl:Qi,HelpCircleIcon:Ui},directives:{tooltip:Ii},emits:["change","confirm"],setup(t,{emit:n}){const{valueIsEmpty:r}=Gi,o=(0,e.reactive)(t.controlGroup?.controls||[]);return{anyValueEmpty:function(e){return!!e.controls.find((e=>r(e.value)))},change:function(e,r){const i=[...o];o[r]=e,n("change",{...t.controlGroup,control:i})},confirm:function(e){n("confirm",e)},colWidth:(0,e.computed)((()=>1==o.length?"6":"3")),required:(0,e.computed)((()=>1==o.length&&o[0].required)),helpText:(0,e.computed)((()=>1==o.length?o[0].helpText:""))}}}),Xi=(0,pe.Z)(Zi,[["render",function(t,n,r,o,i,a){const s=(0,e.resolveComponent)("help-circle-icon"),l=(0,e.resolveComponent)("dynamic-form-control"),c=(0,e.resolveComponent)("b-row"),u=(0,e.resolveDirective)("tooltip");return(0,e.openBlock)(),(0,e.createBlock)(c,{class:"my-2"},{default:(0,e.withCtx)((()=>[t.controlGroup.label?((0,e.openBlock)(),(0,e.createElementBlock)("label",h,[(0,e.createTextVNode)((0,e.toDisplayString)(t.controlGroup.label)+" ",1),t.helpText?(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("span",v,[(0,e.createVNode)(s)])),[[u,t.helpText]]):(0,e.createCommentVNode)("v-if",!0),t.required&&!t.readonly?((0,e.openBlock)(),(0,e.createElementBlock)("span",{key:1,class:(0,e.normalizeClass)(["small",{"text-danger":t.anyValueEmpty(t.controlGroup)}])},"("+(0,e.toDisplayString)(t.requiredText)+")",3)):(0,e.createCommentVNode)("v-if",!0)])):(0,e.createCommentVNode)("v-if",!0),((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(t.controlGroup.controls,((n,r)=>((0,e.openBlock)(),(0,e.createBlock)(l,{key:n.name,"group-label":t.controlGroup.label,"form-control":n,readonly:t.readonly,onMousedown:t.confirm,onClick:t.confirm,"required-text":t.requiredText,"select-text":t.selectText,onChange:e=>t.change(e,r),"col-width":t.colWidth},null,8,["group-label","form-control","readonly","onMousedown","onClick","required-text","select-text","onChange","col-width"])))),128))])),_:1})}]]),Ji={key:0,class:"text-muted"},Ki=["innerHTML"];var ea={css:!0,enterClass:"",enterActiveClass:"collapsing",enterToClass:"collapse show",leaveClass:"collapse show",leaveActiveClass:"collapsing",leaveToClass:"collapse"},ta={enter:function(e){e.style.height=0,Me((function(){Le(e),e.style.height="".concat(e.scrollHeight,"px")}))},afterEnter:function(e){e.style.height=null},leave:function(e){e.style.height="auto",e.style.display="block",e.style.height="".concat(Pe(e).height,"px"),Le(e),e.style.height=0},afterLeave:function(e){e.style.height=null}},na=n.extend({name:"BVCollapse",functional:!0,props:{appear:{type:Boolean,default:!1}},render:function(e,t){var n=t.props,r=t.data,o=t.children;return e("transition",c(r,{props:ea,on:ta},{props:n}),o)}});const ra={methods:{listenOnRoot:function(e,t){var n=this;return this.$root.$on(e,t),this.$on("hook:beforeDestroy",(function(){n.$root.$off(e,t)})),this},listenOnRootOnce:function(e,t){var n=this;return this.$root.$once(e,t),this.$on("hook:beforeDestroy",(function(){n.$root.$off(e,t)})),this},emitOnRoot:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this.$root).$emit.apply(t,[e].concat(r)),this}}};var oa="bv::collapse::accordion",ia=n.extend({name:"BCollapse",mixins:[we,ra,We],model:{prop:"visible",event:"input"},props:{isNav:{type:Boolean,default:!1},accordion:{type:String,default:null},visible:{type:Boolean,default:!1},tag:{type:String,default:"div"},appear:{type:Boolean,default:!1}},data:function(){return{show:this.visible,transitioning:!1}},computed:{classObject:function(){return{"navbar-collapse":this.isNav,collapse:!this.transitioning,show:this.show&&!this.transitioning}}},watch:{visible:function(e){e!==this.show&&(this.show=e)},show:function(e,t){e!==t&&this.emitState()}},created:function(){this.show=this.visible},mounted:function(){var e=this;this.show=this.visible,this.listenOnRoot("bv::toggle::collapse",this.handleToggleEvt),this.listenOnRoot(oa,this.handleAccordionEvt),this.isNav&&(this.setWindowEvents(!0),this.handleResize()),this.$nextTick((function(){e.emitState()})),this.listenOnRoot("bv::request::collapse::state",(function(t){t===e.safeId()&&e.$nextTick(e.emitSync)}))},updated:function(){this.emitSync()},deactivated:function(){this.isNav&&this.setWindowEvents(!1)},activated:function(){this.isNav&&this.setWindowEvents(!0),this.emitSync()},beforeDestroy:function(){this.show=!1,this.isNav&&ke&&this.setWindowEvents(!1)},methods:{setWindowEvents:function(e){rt(e,window,"resize",this.handleResize,Ke),rt(e,window,"orientationchange",this.handleResize,Ke)},toggle:function(){this.show=!this.show},onEnter:function(){this.transitioning=!0,this.$emit("show")},onAfterEnter:function(){this.transitioning=!1,this.$emit("shown")},onLeave:function(){this.transitioning=!0,this.$emit("hide")},onAfterLeave:function(){this.transitioning=!1,this.$emit("hidden")},emitState:function(){this.$emit("input",this.show),this.$root.$emit("bv::collapse::state",this.safeId(),this.show),this.accordion&&this.show&&this.$root.$emit(oa,this.safeId(),this.accordion)},emitSync:function(){this.$root.$emit("bv::collapse::sync::state",this.safeId(),this.show)},checkDisplayBlock:function(){var e,t=function(e,t){return!!(t&&$e(e)&&e.classList)&&e.classList.contains(t)}(this.$el,"show");e=this.$el,"show"&&$e(e)&&e.classList&&e.classList.remove("show");var n="block"===Ie(this.$el).display;return t&&function(e,t){t&&$e(e)&&e.classList&&e.classList.add(t)}(this.$el,"show"),n},clickHandler:function(e){var t=e.target;this.isNav&&t&&"block"===Ie(this.$el).display&&(Be(t,".nav-link,.dropdown-item")||function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!$e(t))return null;var r=je.call(t,e);return n?r:r===t?null:r}(".nav-link,.dropdown-item",t))&&(this.checkDisplayBlock()||(this.show=!1))},handleToggleEvt:function(e){e===this.safeId()&&this.toggle()},handleAccordionEvt:function(e,t){this.accordion&&t===this.accordion&&(e===this.safeId()?this.show||this.toggle():this.show&&this.toggle())},handleResize:function(){this.show="block"===Ie(this.$el).display}},render:function(e){var t=this,n={visible:this.show,close:function(){return t.show=!1}},r=e(this.tag,{class:this.classObject,directives:[{name:"show",value:this.show}],attrs:{id:this.safeId()},on:{click:this.clickHandler}},[this.normalizeSlot("default",n)]);return e(na,{props:{appear:this.appear},on:{enter:this.onEnter,afterEnter:this.onAfterEnter,leave:this.onLeave,afterLeave:this.onAfterLeave}},[r])}});const aa=(0,e.defineComponent)({name:"DynamicFormControlSection",components:{DynamicFormControlGroup:Xi,InfoIcon:qi,ChevronDownIcon:Hi,ChevronUpIcon:Wi,BCollapse:ia,BRow:J,BCol:ie},props:{controlSection:{type:Object},requiredText:String,selectText:String,readonly:Boolean},model:{prop:"controlSection",event:"change"},emits:["change","confirm"],setup(t,{emit:n}){const r=(0,e.ref)(!1),o=(0,e.ref)(!0),i=(0,e.reactive)(t.controlSection?.controlGroups||[]);return(0,e.onMounted)((()=>{t.controlSection?.collapsible&&t.controlSection.collapsed&&(o.value=!1)})),{chevronComponent:(0,e.computed)((()=>o.value?"chevron-up-icon":"chevron-down-icon")),documentationChevronComponent:(0,e.computed)((()=>r.value?"chevron-up-icon":"chevron-down-icon")),change:function(e,r){const o=[...i];i[r]=e,n("change",{...t.controlSection,innerControlGroups:o})},toggleDocumentation:function(e){e.preventDefault(),r.value=!r.value},toggleSection:function(){t.controlSection?.collapsible&&(o.value=!o.value)},confirm:function(e){n("confirm",e)},showDocumentation:r,open:o}}}),sa=(0,pe.Z)(aa,[["render",function(t,n,r,o,i,a){const s=(0,e.resolveComponent)("dynamic-form-control-group"),l=(0,e.resolveComponent)("info-icon"),c=(0,e.resolveComponent)("b-collapse"),u=(0,e.resolveComponent)("b-col"),d=(0,e.resolveComponent)("b-row");return(0,e.openBlock)(),(0,e.createElementBlock)("div",null,[(0,e.createElementVNode)("h3",{onClick:n[0]||(n[0]=(...e)=>t.toggleSection&&t.toggleSection(...e)),class:(0,e.normalizeClass)({"cursor-pointer":t.controlSection.collapsible})},[(0,e.createTextVNode)((0,e.toDisplayString)(t.controlSection.label)+" ",1),t.controlSection.collapsible?((0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)(t.chevronComponent),{key:0,style:{"vertical-align":"initial"}})):(0,e.createCommentVNode)("v-if",!0)],2),(0,e.createVNode)(c,{modelValue:t.open,"onUpdate:modelValue":n[3]||(n[3]=e=>t.open=e)},{default:(0,e.withCtx)((()=>[t.controlSection.description?((0,e.openBlock)(),(0,e.createElementBlock)("p",Ji,(0,e.toDisplayString)(t.controlSection.description),1)):(0,e.createCommentVNode)("v-if",!0),((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(t.controlSection.controlGroups,((n,r)=>((0,e.openBlock)(),(0,e.createBlock)(s,{key:r,"control-group":n,readonly:t.readonly,onConfirm:t.confirm,"required-text":t.requiredText,"select-text":t.selectText,onChange:e=>t.change(e,r)},null,8,["control-group","readonly","onConfirm","required-text","select-text","onChange"])))),128)),t.controlSection.documentation?((0,e.openBlock)(),(0,e.createBlock)(d,{key:1,class:"documentation mb-4"},{default:(0,e.withCtx)((()=>[(0,e.createVNode)(u,null,{default:(0,e.withCtx)((()=>[(0,e.createElementVNode)("a",{href:"#",onClick:n[1]||(n[1]=(...e)=>t.toggleDocumentation&&t.toggleDocumentation(...e))},[(0,e.createVNode)(l),(0,e.createTextVNode)(" How to use these settings "),((0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)(t.documentationChevronComponent),{style:{"vertical-align":"top"}}))]),(0,e.createVNode)(c,{modelValue:t.showDocumentation,"onUpdate:modelValue":n[2]||(n[2]=e=>t.showDocumentation=e)},{default:(0,e.withCtx)((()=>[(0,e.createElementVNode)("div",{class:"my-1",innerHTML:t.controlSection.documentation},null,8,Ki)])),_:1},8,["modelValue"])])),_:1})])),_:1})):(0,e.createCommentVNode)("v-if",!0)])),_:1},8,["modelValue"])])}]]),la={id:{type:String,default:"d-form"},submitText:{type:String,default:"Submit"},includeSubmitButton:{type:Boolean,default:!0},formMeta:{type:Object},requiredText:{type:String,default:"required"},selectText:{type:String,default:"Select..."},readonly:{type:Boolean,default:!1}},ca=(0,e.defineComponent)({name:"DynamicForm",props:la,model:{prop:"formMeta",event:"change"},components:{BForm:d,DynamicFormControlGroup:Xi,DynamicFormControlSection:sa},emits:["validate","change","submit","confirm"],setup(t,{emit:n}){const r=(0,e.reactive)(t.formMeta?.controlSections??[]),o=(0,e.computed)((()=>{const e=[];return r.map((t=>{t.controlGroups.map((t=>{t.controls.map((t=>{e.push(t)}))}))})),e})),i=(0,e.computed)((()=>o.value.filter((e=>e.required&&(null==e.value||""==e.value))).length>0));return(0,e.onMounted)((()=>n("validate",!i.value))),(0,e.watch)(i,(e=>{n("validate",!e)})),{confirm:function(e){n("confirm",e)},change:function(e,o){const i=[...r];r[o]=e,n("change",{...t.formMeta,innerControlSections:i})},submit:function(e){e&&e.preventDefault();const t=o.value.reduce(((e,t)=>{let n=function(e){return"multiselect"!=e.type||e.value?null==e.value?null:e.value:[]}(t);return t.transform&&(n=function(e,t){return f()(t).evaluate(e)}(n,t.transform)),e[t.name]=n,e}),{});return n("submit",t),t},disabled:i,controls:o}}}),ua=(0,pe.Z)(ca,[["render",function(n,r,o,i,a,s){const l=(0,e.resolveComponent)("dynamic-form-control-section"),c=(0,e.resolveComponent)("b-form");return(0,e.openBlock)(),(0,e.createBlock)(c,{ref:n.id,id:n.id,class:"dynamic-form",novalidate:""},{default:(0,e.withCtx)((()=>[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.formMeta.controlSections,((t,r)=>((0,e.openBlock)(),(0,e.createBlock)(l,{key:r,"control-section":t,readonly:n.readonly,onConfirm:n.confirm,"required-text":n.requiredText,"select-text":n.selectText,onChange:e=>n.change(e,r)},null,8,["control-section","readonly","onConfirm","required-text","select-text","onChange"])))),128)),n.includeSubmitButton&&!n.readonly?((0,e.openBlock)(),(0,e.createElementBlock)("button",{key:0,class:(0,e.normalizeClass)(["btn",n.disabled?"btn-secondary":"btn-submit"]),disabled:n.disabled,onClick:r[0]||(r[0]=(...e)=>n.submit&&n.submit(...e))},(0,e.toDisplayString)(n.submitText),11,t)):(0,e.createCommentVNode)("v-if",!0)])),_:1},8,["id"])}]]);function da(e){return!(null!=e.helpText&&"string"!=typeof e.helpText||null!=e.label&&"string"!=typeof e.label||"string"!=typeof e.name||"boolean"!=typeof e.required)}function pa(e){return da(e)&&(null==e.value||!isNaN(e.value))&&"number"==e.type}function fa(e){return da(e)&&(null==e.value||"string"==typeof e.value)&&"select"==e.type&&Array.isArray(e.options)&&e.options.every((e=>va(e)))}function ha(e){return da(e)&&(null==e.value||"string"==typeof e.value||Array.isArray(e.value)&&e.value.every((e=>"string"==typeof e)))&&"multiselect"==e.type&&Array.isArray(e.options)&&e.options.every((e=>va(e)))}function va(e){return"string"==typeof e.id&&"string"==typeof e.label&&null==e.children||Array.isArray(e.children)&&e.children.every((e=>va(e)))}function ma(e){return(null==e.label||"string"==typeof e.label)&&Array.isArray(e.controls)&&e.controls.every((e=>pa(e)||fa(e)||ha(e)))}function ga(e){return"string"==typeof e.label&&Array.isArray(e.controlGroups)&&e.controlGroups.every((e=>ma(e)))}function ya(e){return null!=e&&void 0!==e.controlSections&&Array.isArray(e.controlSections)&&e.controlSections.every((e=>ga(e)))}})(),o})()));